"use strict";var NP=Object.create;var mm=Object.defineProperty;var DP=Object.getOwnPropertyDescriptor;var OP=Object.getOwnPropertyNames;var FP=Object.getPrototypeOf,MP=Object.prototype.hasOwnProperty;var Ee=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var LP=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of OP(t))!MP.call(e,n)&&n!==r&&mm(e,n,{get:()=>t[n],enumerable:!(s=DP(t,n))||s.enumerable});return e};var BP=(e,t,r)=>(r=e!=null?NP(FP(e)):{},LP(t||!e||!e.__esModule?mm(r,"default",{value:e,enumerable:!0}):r,e));var Ni=Ee(cc=>{var Oa=class extends Error{constructor(t,r,s){super(s),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=r,this.exitCode=t,this.nestedError=void 0}},oc=class extends Oa{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}};cc.CommanderError=Oa;cc.InvalidArgumentError=oc});var Fa=Ee(lc=>{var{InvalidArgumentError:zP}=Ni(),dc=class{constructor(t,r){switch(this.description=r||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t;break}this._name.length>3&&this._name.slice(-3)==="..."&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,r){return r===this.defaultValue||!Array.isArray(r)?[t]:r.concat(t)}default(t,r){return this.defaultValue=t,this.defaultValueDescription=r,this}argParser(t){return this.parseArg=t,this}choices(t){return this.argChoices=t.slice(),this.parseArg=(r,s)=>{if(!this.argChoices.includes(r))throw new zP(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,s):r},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}};function qP(e){let t=e.name()+(e.variadic===!0?"...":"");return e.required?"<"+t+">":"["+t+"]"}lc.Argument=dc;lc.humanReadableArgName=qP});var mc=Ee(pm=>{var{humanReadableArgName:$P}=Fa(),uc=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(t){let r=t.commands.filter(s=>!s._hidden);if(t._hasImplicitHelpCommand()){let[,s,n]=t._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/),i=t.createCommand(s).helpOption(!1);i.description(t._helpCommandDescription),n&&i.arguments(n),r.push(i)}return this.sortSubcommands&&r.sort((s,n)=>s.name().localeCompare(n.name())),r}compareOptions(t,r){let s=n=>n.short?n.short.replace(/^-/,""):n.long.replace(/^--/,"");return s(t).localeCompare(s(r))}visibleOptions(t){let r=t.options.filter(i=>!i.hidden),s=t._hasHelpOption&&t._helpShortFlag&&!t._findOption(t._helpShortFlag),n=t._hasHelpOption&&!t._findOption(t._helpLongFlag);if(s||n){let i;s?n?i=t.createOption(t._helpFlags,t._helpDescription):i=t.createOption(t._helpShortFlag,t._helpDescription):i=t.createOption(t._helpLongFlag,t._helpDescription),r.push(i)}return this.sortOptions&&r.sort(this.compareOptions),r}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];let r=[];for(let s=t.parent;s;s=s.parent){let n=s.options.filter(i=>!i.hidden);r.push(...n)}return this.sortOptions&&r.sort(this.compareOptions),r}visibleArguments(t){return t._argsDescription&&t.registeredArguments.forEach(r=>{r.description=r.description||t._argsDescription[r.name()]||""}),t.registeredArguments.find(r=>r.description)?t.registeredArguments:[]}subcommandTerm(t){let r=t.registeredArguments.map(s=>$P(s)).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(r?" "+r:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,r){return r.visibleCommands(t).reduce((s,n)=>Math.max(s,r.subcommandTerm(n).length),0)}longestOptionTermLength(t,r){return r.visibleOptions(t).reduce((s,n)=>Math.max(s,r.optionTerm(n).length),0)}longestGlobalOptionTermLength(t,r){return r.visibleGlobalOptions(t).reduce((s,n)=>Math.max(s,r.optionTerm(n).length),0)}longestArgumentTermLength(t,r){return r.visibleArguments(t).reduce((s,n)=>Math.max(s,r.argumentTerm(n).length),0)}commandUsage(t){let r=t._name;t._aliases[0]&&(r=r+"|"+t._aliases[0]);let s="";for(let n=t.parent;n;n=n.parent)s=n.name()+" "+s;return s+r+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){let r=[];return t.argChoices&&r.push(`choices: ${t.argChoices.map(s=>JSON.stringify(s)).join(", ")}`),t.defaultValue!==void 0&&(t.required||t.optional||t.isBoolean()&&typeof t.defaultValue=="boolean")&&r.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),t.presetArg!==void 0&&t.optional&&r.push(`preset: ${JSON.stringify(t.presetArg)}`),t.envVar!==void 0&&r.push(`env: ${t.envVar}`),r.length>0?`${t.description} (${r.join(", ")})`:t.description}argumentDescription(t){let r=[];if(t.argChoices&&r.push(`choices: ${t.argChoices.map(s=>JSON.stringify(s)).join(", ")}`),t.defaultValue!==void 0&&r.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),r.length>0){let s=`(${r.join(", ")})`;return t.description?`${t.description} ${s}`:s}return t.description}formatHelp(t,r){let s=r.padWidth(t,r),n=r.helpWidth||80,i=2,a=2;function o(y,v){if(v){let E=`${y.padEnd(s+a)}${v}`;return r.wrap(E,n-i,s+a)}return y}function c(y){return y.join(`
`).replace(/^/gm," ".repeat(i))}let d=[`Usage: ${r.commandUsage(t)}`,""],l=r.commandDescription(t);l.length>0&&(d=d.concat([r.wrap(l,n,0),""]));let m=r.visibleArguments(t).map(y=>o(r.argumentTerm(y),r.argumentDescription(y)));m.length>0&&(d=d.concat(["Arguments:",c(m),""]));let p=r.visibleOptions(t).map(y=>o(r.optionTerm(y),r.optionDescription(y)));if(p.length>0&&(d=d.concat(["Options:",c(p),""])),this.showGlobalOptions){let y=r.visibleGlobalOptions(t).map(v=>o(r.optionTerm(v),r.optionDescription(v)));y.length>0&&(d=d.concat(["Global Options:",c(y),""]))}let h=r.visibleCommands(t).map(y=>o(r.subcommandTerm(y),r.subcommandDescription(y)));return h.length>0&&(d=d.concat(["Commands:",c(h),""])),d.join(`
`)}padWidth(t,r){return Math.max(r.longestOptionTermLength(t,r),r.longestGlobalOptionTermLength(t,r),r.longestSubcommandTermLength(t,r),r.longestArgumentTermLength(t,r))}wrap(t,r,s,n=40){let i=" \\f\\t\\v\xA0\u1680\u2000-\u200A\u202F\u205F\u3000\uFEFF",a=new RegExp(`[\\n][${i}]+`);if(t.match(a))return t;let o=r-s;if(o<n)return t;let c=t.slice(0,s),d=t.slice(s).replace(`\r
`,`
`),l=" ".repeat(s),p="\\s\u200B",h=new RegExp(`
|.{1,${o-1}}([${p}]|$)|[^${p}]+?([${p}]|$)`,"g"),y=d.match(h)||[];return c+y.map((v,E)=>v===`
`?"":(E>0?l:"")+v.trimEnd()).join(`
`)}};pm.Help=uc});var fc=Ee(Ma=>{var{InvalidArgumentError:UP}=Ni(),pc=class{constructor(t,r){this.flags=t,this.description=r||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;let s=hm(t);this.short=s.shortFlag,this.long=s.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(t,r){return this.defaultValue=t,this.defaultValueDescription=r,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let r=t;return typeof t=="string"&&(r={[t]:!0}),this.implied=Object.assign(this.implied||{},r),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(t=!0){return this.mandatory=!!t,this}hideHelp(t=!0){return this.hidden=!!t,this}_concatValue(t,r){return r===this.defaultValue||!Array.isArray(r)?[t]:r.concat(t)}choices(t){return this.argChoices=t.slice(),this.parseArg=(r,s)=>{if(!this.argChoices.includes(r))throw new UP(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(r,s):r},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return jP(this.name().replace(/^no-/,""))}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},hc=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach(r=>{r.negate?this.negativeOptions.set(r.attributeName(),r):this.positiveOptions.set(r.attributeName(),r)}),this.negativeOptions.forEach((r,s)=>{this.positiveOptions.has(s)&&this.dualOptions.add(s)})}valueFromOption(t,r){let s=r.attributeName();if(!this.dualOptions.has(s))return!0;let n=this.negativeOptions.get(s).presetArg,i=n!==void 0?n:!1;return r.negate===(i===t)}};function jP(e){return e.split("-").reduce((t,r)=>t+r[0].toUpperCase()+r.slice(1))}function hm(e){let t,r,s=e.split(/[ |,]+/);return s.length>1&&!/^[[<]/.test(s[1])&&(t=s.shift()),r=s.shift(),!t&&/^-[^-]$/.test(r)&&(t=r,r=void 0),{shortFlag:t,longFlag:r}}Ma.Option=pc;Ma.splitOptionFlags=hm;Ma.DualOptions=hc});var ym=Ee(fm=>{function GP(e,t){if(Math.abs(e.length-t.length)>3)return Math.max(e.length,t.length);let r=[];for(let s=0;s<=e.length;s++)r[s]=[s];for(let s=0;s<=t.length;s++)r[0][s]=s;for(let s=1;s<=t.length;s++)for(let n=1;n<=e.length;n++){let i=1;e[n-1]===t[s-1]?i=0:i=1,r[n][s]=Math.min(r[n-1][s]+1,r[n][s-1]+1,r[n-1][s-1]+i),n>1&&s>1&&e[n-1]===t[s-2]&&e[n-2]===t[s-1]&&(r[n][s]=Math.min(r[n][s],r[n-2][s-2]+1))}return r[e.length][t.length]}function VP(e,t){if(!t||t.length===0)return"";t=Array.from(new Set(t));let r=e.startsWith("--");r&&(e=e.slice(2),t=t.map(a=>a.slice(2)));let s=[],n=3,i=.4;return t.forEach(a=>{if(a.length<=1)return;let o=GP(e,a),c=Math.max(e.length,a.length);(c-o)/c>i&&(o<n?(n=o,s=[a]):o===n&&s.push(a))}),s.sort((a,o)=>a.localeCompare(o)),r&&(s=s.map(a=>`--${a}`)),s.length>1?`
(Did you mean one of ${s.join(", ")}?)`:s.length===1?`
(Did you mean ${s[0]}?)`:""}fm.suggestSimilar=VP});var Em=Ee(Sm=>{var HP=require("events").EventEmitter,yc=require("child_process"),Zr=require("path"),vc=require("fs"),Pe=require("process"),{Argument:WP,humanReadableArgName:KP}=Fa(),{CommanderError:gc}=Ni(),{Help:QP}=mc(),{Option:vm,splitOptionFlags:JP,DualOptions:XP}=fc(),{suggestSimilar:gm}=ym(),bc=class e extends HP{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:r=>Pe.stdout.write(r),writeErr:r=>Pe.stderr.write(r),getOutHelpWidth:()=>Pe.stdout.isTTY?Pe.stdout.columns:void 0,getErrHelpWidth:()=>Pe.stderr.isTTY?Pe.stderr.columns:void 0,outputError:(r,s)=>s(r)},this._hidden=!1,this._hasHelpOption=!0,this._helpFlags="-h, --help",this._helpDescription="display help for command",this._helpShortFlag="-h",this._helpLongFlag="--help",this._addImplicitHelpCommand=void 0,this._helpCommandName="help",this._helpCommandnameAndArgs="help [command]",this._helpCommandDescription="display help for command",this._helpConfiguration={}}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._hasHelpOption=t._hasHelpOption,this._helpFlags=t._helpFlags,this._helpDescription=t._helpDescription,this._helpShortFlag=t._helpShortFlag,this._helpLongFlag=t._helpLongFlag,this._helpCommandName=t._helpCommandName,this._helpCommandnameAndArgs=t._helpCommandnameAndArgs,this._helpCommandDescription=t._helpCommandDescription,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}_getCommandAndAncestors(){let t=[];for(let r=this;r;r=r.parent)t.push(r);return t}command(t,r,s){let n=r,i=s;typeof n=="object"&&n!==null&&(i=n,n=null),i=i||{};let[,a,o]=t.match(/([^ ]+) *(.*)/),c=this.createCommand(a);return n&&(c.description(n),c._executableHandler=!0),i.isDefault&&(this._defaultCommandName=c._name),c._hidden=!!(i.noHelp||i.hidden),c._executableFile=i.executableFile||null,o&&c.arguments(o),this.commands.push(c),c.parent=this,c.copyInheritedSettings(this),n?this:c}createCommand(t){return new e(t)}createHelp(){return Object.assign(new QP,this.configureHelp())}configureHelp(t){return t===void 0?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return t===void 0?this._outputConfiguration:(Object.assign(this._outputConfiguration,t),this)}showHelpAfterError(t=!0){return typeof t!="string"&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(t=!0){return this._showSuggestionAfterError=!!t,this}addCommand(t,r){if(!t._name)throw new Error(`Command passed to .addCommand() must have a name
- specify the name in Command constructor or using .name()`);return r=r||{},r.isDefault&&(this._defaultCommandName=t._name),(r.noHelp||r.hidden)&&(t._hidden=!0),this.commands.push(t),t.parent=this,this}createArgument(t,r){return new WP(t,r)}argument(t,r,s,n){let i=this.createArgument(t,r);return typeof s=="function"?i.default(n).argParser(s):i.default(s),this.addArgument(i),this}arguments(t){return t.trim().split(/ +/).forEach(r=>{this.argument(r)}),this}addArgument(t){let r=this.registeredArguments.slice(-1)[0];if(r&&r.variadic)throw new Error(`only the last argument can be variadic '${r.name()}'`);if(t.required&&t.defaultValue!==void 0&&t.parseArg===void 0)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this.registeredArguments.push(t),this}addHelpCommand(t,r){return t===!1?this._addImplicitHelpCommand=!1:(this._addImplicitHelpCommand=!0,typeof t=="string"&&(this._helpCommandName=t.split(" ")[0],this._helpCommandnameAndArgs=t),this._helpCommandDescription=r||this._helpCommandDescription),this}_hasImplicitHelpCommand(){return this._addImplicitHelpCommand===void 0?this.commands.length&&!this._actionHandler&&!this._findCommand("help"):this._addImplicitHelpCommand}hook(t,r){let s=["preSubcommand","preAction","postAction"];if(!s.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.
Expecting one of '${s.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(r):this._lifeCycleHooks[t]=[r],this}exitOverride(t){return t?this._exitCallback=t:this._exitCallback=r=>{if(r.code!=="commander.executeSubCommandAsync")throw r},this}_exit(t,r,s){this._exitCallback&&this._exitCallback(new gc(t,r,s)),Pe.exit(t)}action(t){let r=s=>{let n=this.registeredArguments.length,i=s.slice(0,n);return this._storeOptionsAsProperties?i[n]=this:i[n]=this.opts(),i.push(this),t.apply(this,i)};return this._actionHandler=r,this}createOption(t,r){return new vm(t,r)}_callParseArg(t,r,s,n){try{return t.parseArg(r,s)}catch(i){if(i.code==="commander.invalidArgument"){let a=`${n} ${i.message}`;this.error(a,{exitCode:i.exitCode,code:i.code})}throw i}}addOption(t){let r=t.name(),s=t.attributeName();if(t.negate){let i=t.long.replace(/^--no-/,"--");this._findOption(i)||this.setOptionValueWithSource(s,t.defaultValue===void 0?!0:t.defaultValue,"default")}else t.defaultValue!==void 0&&this.setOptionValueWithSource(s,t.defaultValue,"default");this.options.push(t);let n=(i,a,o)=>{i==null&&t.presetArg!==void 0&&(i=t.presetArg);let c=this.getOptionValue(s);i!==null&&t.parseArg?i=this._callParseArg(t,i,c,a):i!==null&&t.variadic&&(i=t._concatValue(i,c)),i==null&&(t.negate?i=!1:t.isBoolean()||t.optional?i=!0:i=""),this.setOptionValueWithSource(s,i,o)};return this.on("option:"+r,i=>{let a=`error: option '${t.flags}' argument '${i}' is invalid.`;n(i,a,"cli")}),t.envVar&&this.on("optionEnv:"+r,i=>{let a=`error: option '${t.flags}' value '${i}' from env '${t.envVar}' is invalid.`;n(i,a,"env")}),this}_optionEx(t,r,s,n,i){if(typeof r=="object"&&r instanceof vm)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");let a=this.createOption(r,s);if(a.makeOptionMandatory(!!t.mandatory),typeof n=="function")a.default(i).argParser(n);else if(n instanceof RegExp){let o=n;n=(c,d)=>{let l=o.exec(c);return l?l[0]:d},a.default(i).argParser(n)}else a.default(n);return this.addOption(a)}option(t,r,s,n){return this._optionEx({},t,r,s,n)}requiredOption(t,r,s,n){return this._optionEx({mandatory:!0},t,r,s,n)}combineFlagAndOptionalValue(t=!0){return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(t=!0){return this._allowUnknownOption=!!t,this}allowExcessArguments(t=!0){return this._allowExcessArguments=!!t,this}enablePositionalOptions(t=!0){return this._enablePositionalOptions=!!t,this}passThroughOptions(t=!0){if(this._passThroughOptions=!!t,this.parent&&t&&!this.parent._enablePositionalOptions)throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)");return this}storeOptionsAsProperties(t=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");return this._storeOptionsAsProperties=!!t,this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,r){return this.setOptionValueWithSource(t,r,void 0)}setOptionValueWithSource(t,r,s){return this._storeOptionsAsProperties?this[t]=r:this._optionValues[t]=r,this._optionValueSources[t]=s,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let r;return this._getCommandAndAncestors().forEach(s=>{s.getOptionValueSource(t)!==void 0&&(r=s.getOptionValueSource(t))}),r}_prepareUserArgs(t,r){if(t!==void 0&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");r=r||{},t===void 0&&(t=Pe.argv,Pe.versions&&Pe.versions.electron&&(r.from="electron")),this.rawArgs=t.slice();let s;switch(r.from){case void 0:case"node":this._scriptPath=t[1],s=t.slice(2);break;case"electron":Pe.defaultApp?(this._scriptPath=t[1],s=t.slice(2)):s=t.slice(1);break;case"user":s=t.slice(0);break;default:throw new Error(`unexpected parse option { from: '${r.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",s}parse(t,r){let s=this._prepareUserArgs(t,r);return this._parseCommand([],s),this}async parseAsync(t,r){let s=this._prepareUserArgs(t,r);return await this._parseCommand([],s),this}_executeSubCommand(t,r){r=r.slice();let s=!1,n=[".js",".ts",".tsx",".mjs",".cjs"];function i(l,m){let p=Zr.resolve(l,m);if(vc.existsSync(p))return p;if(n.includes(Zr.extname(m)))return;let h=n.find(y=>vc.existsSync(`${p}${y}`));if(h)return`${p}${h}`}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let a=t._executableFile||`${this._name}-${t._name}`,o=this._executableDir||"";if(this._scriptPath){let l;try{l=vc.realpathSync(this._scriptPath)}catch{l=this._scriptPath}o=Zr.resolve(Zr.dirname(l),o)}if(o){let l=i(o,a);if(!l&&!t._executableFile&&this._scriptPath){let m=Zr.basename(this._scriptPath,Zr.extname(this._scriptPath));m!==this._name&&(l=i(o,`${m}-${t._name}`))}a=l||a}s=n.includes(Zr.extname(a));let c;Pe.platform!=="win32"?s?(r.unshift(a),r=wm(Pe.execArgv).concat(r),c=yc.spawn(Pe.argv[0],r,{stdio:"inherit"})):c=yc.spawn(a,r,{stdio:"inherit"}):(r.unshift(a),r=wm(Pe.execArgv).concat(r),c=yc.spawn(Pe.execPath,r,{stdio:"inherit"})),c.killed||["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(m=>{Pe.on(m,()=>{c.killed===!1&&c.exitCode===null&&c.kill(m)})});let d=this._exitCallback;d?c.on("close",()=>{d(new gc(Pe.exitCode||0,"commander.executeSubCommandAsync","(close)"))}):c.on("close",Pe.exit.bind(Pe)),c.on("error",l=>{if(l.code==="ENOENT"){let m=o?`searched for local subcommand relative to directory '${o}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",p=`'${a}' does not exist
 - if '${t._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead
 - if the default executable name is not suitable, use the executableFile option to supply a custom name or path
 - ${m}`;throw new Error(p)}else if(l.code==="EACCES")throw new Error(`'${a}' not executable`);if(!d)Pe.exit(1);else{let m=new gc(1,"commander.executeSubCommandAsync","(error)");m.nestedError=l,d(m)}}),this.runningCommand=c}_dispatchSubcommand(t,r,s){let n=this._findCommand(t);n||this.help({error:!0});let i;return i=this._chainOrCallSubCommandHook(i,n,"preSubcommand"),i=this._chainOrCall(i,()=>{if(n._executableHandler)this._executeSubCommand(n,r.concat(s));else return n._parseCommand(r,s)}),i}_dispatchHelpCommand(t){t||this.help();let r=this._findCommand(t);return r&&!r._executableHandler&&r.help(),this._dispatchSubcommand(t,[],[this._helpLongFlag||this._helpShortFlag])}_checkNumberOfArguments(){this.registeredArguments.forEach((t,r)=>{t.required&&this.args[r]==null&&this.missingArgument(t.name())}),!(this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic)&&this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){let t=(s,n,i)=>{let a=n;if(n!==null&&s.parseArg){let o=`error: command-argument value '${n}' is invalid for argument '${s.name()}'.`;a=this._callParseArg(s,n,i,o)}return a};this._checkNumberOfArguments();let r=[];this.registeredArguments.forEach((s,n)=>{let i=s.defaultValue;s.variadic?n<this.args.length?(i=this.args.slice(n),s.parseArg&&(i=i.reduce((a,o)=>t(s,o,a),s.defaultValue))):i===void 0&&(i=[]):n<this.args.length&&(i=this.args[n],s.parseArg&&(i=t(s,i,s.defaultValue))),r[n]=i}),this.processedArgs=r}_chainOrCall(t,r){return t&&t.then&&typeof t.then=="function"?t.then(()=>r()):r()}_chainOrCallHooks(t,r){let s=t,n=[];return this._getCommandAndAncestors().reverse().filter(i=>i._lifeCycleHooks[r]!==void 0).forEach(i=>{i._lifeCycleHooks[r].forEach(a=>{n.push({hookedCommand:i,callback:a})})}),r==="postAction"&&n.reverse(),n.forEach(i=>{s=this._chainOrCall(s,()=>i.callback(i.hookedCommand,this))}),s}_chainOrCallSubCommandHook(t,r,s){let n=t;return this._lifeCycleHooks[s]!==void 0&&this._lifeCycleHooks[s].forEach(i=>{n=this._chainOrCall(n,()=>i(this,r))}),n}_parseCommand(t,r){let s=this.parseOptions(r);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(s.operands),r=s.unknown,this.args=t.concat(r),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),r);if(this._hasImplicitHelpCommand()&&t[0]===this._helpCommandName)return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return bm(this,r),this._dispatchSubcommand(this._defaultCommandName,t,r);this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName&&this.help({error:!0}),bm(this,s.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let n=()=>{s.unknown.length>0&&this.unknownOption(s.unknown[0])},i=`command:${this.name()}`;if(this._actionHandler){n(),this._processArguments();let a;return a=this._chainOrCallHooks(a,"preAction"),a=this._chainOrCall(a,()=>this._actionHandler(this.processedArgs)),this.parent&&(a=this._chainOrCall(a,()=>{this.parent.emit(i,t,r)})),a=this._chainOrCallHooks(a,"postAction"),a}if(this.parent&&this.parent.listenerCount(i))n(),this._processArguments(),this.parent.emit(i,t,r);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,r);this.listenerCount("command:*")?this.emit("command:*",t,r):this.commands.length?this.unknownCommand():(n(),this._processArguments())}else this.commands.length?(n(),this.help({error:!0})):(n(),this._processArguments())}_findCommand(t){if(t)return this.commands.find(r=>r._name===t||r._aliases.includes(t))}_findOption(t){return this.options.find(r=>r.is(t))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach(t=>{t.options.forEach(r=>{r.mandatory&&t.getOptionValue(r.attributeName())===void 0&&t.missingMandatoryOptionValue(r)})})}_checkForConflictingLocalOptions(){let t=this.options.filter(s=>{let n=s.attributeName();return this.getOptionValue(n)===void 0?!1:this.getOptionValueSource(n)!=="default"});t.filter(s=>s.conflictsWith.length>0).forEach(s=>{let n=t.find(i=>s.conflictsWith.includes(i.attributeName()));n&&this._conflictingOption(s,n)})}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach(t=>{t._checkForConflictingLocalOptions()})}parseOptions(t){let r=[],s=[],n=r,i=t.slice();function a(c){return c.length>1&&c[0]==="-"}let o=null;for(;i.length;){let c=i.shift();if(c==="--"){n===s&&n.push(c),n.push(...i);break}if(o&&!a(c)){this.emit(`option:${o.name()}`,c);continue}if(o=null,a(c)){let d=this._findOption(c);if(d){if(d.required){let l=i.shift();l===void 0&&this.optionMissingArgument(d),this.emit(`option:${d.name()}`,l)}else if(d.optional){let l=null;i.length>0&&!a(i[0])&&(l=i.shift()),this.emit(`option:${d.name()}`,l)}else this.emit(`option:${d.name()}`);o=d.variadic?d:null;continue}}if(c.length>2&&c[0]==="-"&&c[1]!=="-"){let d=this._findOption(`-${c[1]}`);if(d){d.required||d.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${d.name()}`,c.slice(2)):(this.emit(`option:${d.name()}`),i.unshift(`-${c.slice(2)}`));continue}}if(/^--[^=]+=/.test(c)){let d=c.indexOf("="),l=this._findOption(c.slice(0,d));if(l&&(l.required||l.optional)){this.emit(`option:${l.name()}`,c.slice(d+1));continue}}if(a(c)&&(n=s),(this._enablePositionalOptions||this._passThroughOptions)&&r.length===0&&s.length===0){if(this._findCommand(c)){r.push(c),i.length>0&&s.push(...i);break}else if(c===this._helpCommandName&&this._hasImplicitHelpCommand()){r.push(c),i.length>0&&r.push(...i);break}else if(this._defaultCommandName){s.push(c),i.length>0&&s.push(...i);break}}if(this._passThroughOptions){n.push(c),i.length>0&&n.push(...i);break}n.push(c)}return{operands:r,unknown:s}}opts(){if(this._storeOptionsAsProperties){let t={},r=this.options.length;for(let s=0;s<r;s++){let n=this.options[s].attributeName();t[n]=n===this._versionOptionName?this._version:this[n]}return t}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce((t,r)=>Object.assign(t,r.opts()),{})}error(t,r){this._outputConfiguration.outputError(`${t}
`,this._outputConfiguration.writeErr),typeof this._showHelpAfterError=="string"?this._outputConfiguration.writeErr(`${this._showHelpAfterError}
`):this._showHelpAfterError&&(this._outputConfiguration.writeErr(`
`),this.outputHelp({error:!0}));let s=r||{},n=s.exitCode||1,i=s.code||"commander.error";this._exit(n,i,t)}_parseOptionsEnv(){this.options.forEach(t=>{if(t.envVar&&t.envVar in Pe.env){let r=t.attributeName();(this.getOptionValue(r)===void 0||["default","config","env"].includes(this.getOptionValueSource(r)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,Pe.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}})}_parseOptionsImplied(){let t=new XP(this.options),r=s=>this.getOptionValue(s)!==void 0&&!["default","implied"].includes(this.getOptionValueSource(s));this.options.filter(s=>s.implied!==void 0&&r(s.attributeName())&&t.valueFromOption(this.getOptionValue(s.attributeName()),s)).forEach(s=>{Object.keys(s.implied).filter(n=>!r(n)).forEach(n=>{this.setOptionValueWithSource(n,s.implied[n],"implied")})})}missingArgument(t){let r=`error: missing required argument '${t}'`;this.error(r,{code:"commander.missingArgument"})}optionMissingArgument(t){let r=`error: option '${t.flags}' argument missing`;this.error(r,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){let r=`error: required option '${t.flags}' not specified`;this.error(r,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,r){let s=a=>{let o=a.attributeName(),c=this.getOptionValue(o),d=this.options.find(m=>m.negate&&o===m.attributeName()),l=this.options.find(m=>!m.negate&&o===m.attributeName());return d&&(d.presetArg===void 0&&c===!1||d.presetArg!==void 0&&c===d.presetArg)?d:l||a},n=a=>{let o=s(a),c=o.attributeName();return this.getOptionValueSource(c)==="env"?`environment variable '${o.envVar}'`:`option '${o.flags}'`},i=`error: ${n(t)} cannot be used with ${n(r)}`;this.error(i,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let r="";if(t.startsWith("--")&&this._showSuggestionAfterError){let n=[],i=this;do{let a=i.createHelp().visibleOptions(i).filter(o=>o.long).map(o=>o.long);n=n.concat(a),i=i.parent}while(i&&!i._enablePositionalOptions);r=gm(t,n)}let s=`error: unknown option '${t}'${r}`;this.error(s,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;let r=this.registeredArguments.length,s=r===1?"":"s",i=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${r} argument${s} but got ${t.length}.`;this.error(i,{code:"commander.excessArguments"})}unknownCommand(){let t=this.args[0],r="";if(this._showSuggestionAfterError){let n=[];this.createHelp().visibleCommands(this).forEach(i=>{n.push(i.name()),i.alias()&&n.push(i.alias())}),r=gm(t,n)}let s=`error: unknown command '${t}'${r}`;this.error(s,{code:"commander.unknownCommand"})}version(t,r,s){if(t===void 0)return this._version;this._version=t,r=r||"-V, --version",s=s||"output the version number";let n=this.createOption(r,s);return this._versionOptionName=n.attributeName(),this.options.push(n),this.on("option:"+n.name(),()=>{this._outputConfiguration.writeOut(`${t}
`),this._exit(0,"commander.version",t)}),this}description(t,r){return t===void 0&&r===void 0?this._description:(this._description=t,r&&(this._argsDescription=r),this)}summary(t){return t===void 0?this._summary:(this._summary=t,this)}alias(t){if(t===void 0)return this._aliases[0];let r=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler&&(r=this.commands[this.commands.length-1]),t===r._name)throw new Error("Command alias can't be the same as its name");return r._aliases.push(t),this}aliases(t){return t===void 0?this._aliases:(t.forEach(r=>this.alias(r)),this)}usage(t){if(t===void 0){if(this._usage)return this._usage;let r=this.registeredArguments.map(s=>KP(s));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?r:[]).join(" ")}return this._usage=t,this}name(t){return t===void 0?this._name:(this._name=t,this)}nameFromFilename(t){return this._name=Zr.basename(t,Zr.extname(t)),this}executableDir(t){return t===void 0?this._executableDir:(this._executableDir=t,this)}helpInformation(t){let r=this.createHelp();return r.helpWidth===void 0&&(r.helpWidth=t&&t.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),r.formatHelp(this,r)}_getHelpContext(t){t=t||{};let r={error:!!t.error},s;return r.error?s=n=>this._outputConfiguration.writeErr(n):s=n=>this._outputConfiguration.writeOut(n),r.write=t.write||s,r.command=this,r}outputHelp(t){let r;typeof t=="function"&&(r=t,t=void 0);let s=this._getHelpContext(t);this._getCommandAndAncestors().reverse().forEach(i=>i.emit("beforeAllHelp",s)),this.emit("beforeHelp",s);let n=this.helpInformation(s);if(r&&(n=r(n),typeof n!="string"&&!Buffer.isBuffer(n)))throw new Error("outputHelp callback must return a string or a Buffer");s.write(n),this._helpLongFlag&&this.emit(this._helpLongFlag),this.emit("afterHelp",s),this._getCommandAndAncestors().forEach(i=>i.emit("afterAllHelp",s))}helpOption(t,r){if(typeof t=="boolean")return this._hasHelpOption=t,this;this._helpFlags=t||this._helpFlags,this._helpDescription=r||this._helpDescription;let s=JP(this._helpFlags);return this._helpShortFlag=s.shortFlag,this._helpLongFlag=s.longFlag,this}help(t){this.outputHelp(t);let r=Pe.exitCode||0;r===0&&t&&typeof t!="function"&&t.error&&(r=1),this._exit(r,"commander.help","(outputHelp)")}addHelpText(t,r){let s=["beforeAll","before","after","afterAll"];if(!s.includes(t))throw new Error(`Unexpected value for position to addHelpText.
Expecting one of '${s.join("', '")}'`);let n=`${t}Help`;return this.on(n,i=>{let a;typeof r=="function"?a=r({error:i.error,command:i.command}):a=r,a&&i.write(`${a}
`)}),this}};function bm(e,t){e._hasHelpOption&&t.find(s=>s===e._helpLongFlag||s===e._helpShortFlag)&&(e.outputHelp(),e._exit(0,"commander.helpDisplayed","(outputHelp)"))}function wm(e){return e.map(t=>{if(!t.startsWith("--inspect"))return t;let r,s="127.0.0.1",n="9229",i;return(i=t.match(/^(--inspect(-brk)?)$/))!==null?r=i[1]:(i=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null?(r=i[1],/^\d+$/.test(i[3])?n=i[3]:s=i[3]):(i=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null&&(r=i[1],s=i[3],n=i[4]),r&&n!=="0"?`${r}=${s}:${parseInt(n)+1}`:t})}Sm.Command=bc});var Am=Ee((br,Pm)=>{var{Argument:YP}=Fa(),{Command:Im}=Em(),{CommanderError:ZP,InvalidArgumentError:Cm}=Ni(),{Help:e1}=mc(),{Option:t1}=fc();br=Pm.exports=new Im;br.program=br;br.Command=Im;br.Option=t1;br.Argument=YP;br.Help=e1;br.CommanderError=ZP;br.InvalidArgumentError=Cm;br.InvalidOptionArgumentError=Cm});var Rm=Ee((xV,_m)=>{"use strict";_m.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var wc=Ee((TV,xm)=>{var Di=Rm(),km={};for(let e of Object.keys(Di))km[Di[e]]=e;var U={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};xm.exports=U;for(let e of Object.keys(U)){if(!("channels"in U[e]))throw new Error("missing channels property: "+e);if(!("labels"in U[e]))throw new Error("missing channel labels property: "+e);if(U[e].labels.length!==U[e].channels)throw new Error("channel and label counts mismatch: "+e);let{channels:t,labels:r}=U[e];delete U[e].channels,delete U[e].labels,Object.defineProperty(U[e],"channels",{value:t}),Object.defineProperty(U[e],"labels",{value:r})}U.rgb.hsl=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255,n=Math.min(t,r,s),i=Math.max(t,r,s),a=i-n,o,c;i===n?o=0:t===i?o=(r-s)/a:r===i?o=2+(s-t)/a:s===i&&(o=4+(t-r)/a),o=Math.min(o*60,360),o<0&&(o+=360);let d=(n+i)/2;return i===n?c=0:d<=.5?c=a/(i+n):c=a/(2-i-n),[o,c*100,d*100]};U.rgb.hsv=function(e){let t,r,s,n,i,a=e[0]/255,o=e[1]/255,c=e[2]/255,d=Math.max(a,o,c),l=d-Math.min(a,o,c),m=function(p){return(d-p)/6/l+1/2};return l===0?(n=0,i=0):(i=l/d,t=m(a),r=m(o),s=m(c),a===d?n=s-r:o===d?n=1/3+t-s:c===d&&(n=2/3+r-t),n<0?n+=1:n>1&&(n-=1)),[n*360,i*100,d*100]};U.rgb.hwb=function(e){let t=e[0],r=e[1],s=e[2],n=U.rgb.hsl(e)[0],i=1/255*Math.min(t,Math.min(r,s));return s=1-1/255*Math.max(t,Math.max(r,s)),[n,i*100,s*100]};U.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255,n=Math.min(1-t,1-r,1-s),i=(1-t-n)/(1-n)||0,a=(1-r-n)/(1-n)||0,o=(1-s-n)/(1-n)||0;return[i*100,a*100,o*100,n*100]};function r1(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}U.rgb.keyword=function(e){let t=km[e];if(t)return t;let r=1/0,s;for(let n of Object.keys(Di)){let i=Di[n],a=r1(e,i);a<r&&(r=a,s=n)}return s};U.keyword.rgb=function(e){return Di[e]};U.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,s=s>.04045?((s+.055)/1.055)**2.4:s/12.92;let n=t*.4124+r*.3576+s*.1805,i=t*.2126+r*.7152+s*.0722,a=t*.0193+r*.1192+s*.9505;return[n*100,i*100,a*100]};U.rgb.lab=function(e){let t=U.rgb.xyz(e),r=t[0],s=t[1],n=t[2];r/=95.047,s/=100,n/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*s-16,a=500*(r-s),o=200*(s-n);return[i,a,o]};U.hsl.rgb=function(e){let t=e[0]/360,r=e[1]/100,s=e[2]/100,n,i,a;if(r===0)return a=s*255,[a,a,a];s<.5?n=s*(1+r):n=s+r-s*r;let o=2*s-n,c=[0,0,0];for(let d=0;d<3;d++)i=t+1/3*-(d-1),i<0&&i++,i>1&&i--,6*i<1?a=o+(n-o)*6*i:2*i<1?a=n:3*i<2?a=o+(n-o)*(2/3-i)*6:a=o,c[d]=a*255;return c};U.hsl.hsv=function(e){let t=e[0],r=e[1]/100,s=e[2]/100,n=r,i=Math.max(s,.01);s*=2,r*=s<=1?s:2-s,n*=i<=1?i:2-i;let a=(s+r)/2,o=s===0?2*n/(i+n):2*r/(s+r);return[t,o*100,a*100]};U.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,s=e[2]/100,n=Math.floor(t)%6,i=t-Math.floor(t),a=255*s*(1-r),o=255*s*(1-r*i),c=255*s*(1-r*(1-i));switch(s*=255,n){case 0:return[s,c,a];case 1:return[o,s,a];case 2:return[a,s,c];case 3:return[a,o,s];case 4:return[c,a,s];case 5:return[s,a,o]}};U.hsv.hsl=function(e){let t=e[0],r=e[1]/100,s=e[2]/100,n=Math.max(s,.01),i,a;a=(2-r)*s;let o=(2-r)*n;return i=r*n,i/=o<=1?o:2-o,i=i||0,a/=2,[t,i*100,a*100]};U.hwb.rgb=function(e){let t=e[0]/360,r=e[1]/100,s=e[2]/100,n=r+s,i;n>1&&(r/=n,s/=n);let a=Math.floor(6*t),o=1-s;i=6*t-a,a&1&&(i=1-i);let c=r+i*(o-r),d,l,m;switch(a){default:case 6:case 0:d=o,l=c,m=r;break;case 1:d=c,l=o,m=r;break;case 2:d=r,l=o,m=c;break;case 3:d=r,l=c,m=o;break;case 4:d=c,l=r,m=o;break;case 5:d=o,l=r,m=c;break}return[d*255,l*255,m*255]};U.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,s=e[2]/100,n=e[3]/100,i=1-Math.min(1,t*(1-n)+n),a=1-Math.min(1,r*(1-n)+n),o=1-Math.min(1,s*(1-n)+n);return[i*255,a*255,o*255]};U.xyz.rgb=function(e){let t=e[0]/100,r=e[1]/100,s=e[2]/100,n,i,a;return n=t*3.2406+r*-1.5372+s*-.4986,i=t*-.9689+r*1.8758+s*.0415,a=t*.0557+r*-.204+s*1.057,n=n>.0031308?1.055*n**(1/2.4)-.055:n*12.92,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,a=a>.0031308?1.055*a**(1/2.4)-.055:a*12.92,n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),a=Math.min(Math.max(0,a),1),[n*255,i*255,a*255]};U.xyz.lab=function(e){let t=e[0],r=e[1],s=e[2];t/=95.047,r/=100,s/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;let n=116*r-16,i=500*(t-r),a=200*(r-s);return[n,i,a]};U.lab.xyz=function(e){let t=e[0],r=e[1],s=e[2],n,i,a;i=(t+16)/116,n=r/500+i,a=i-s/200;let o=i**3,c=n**3,d=a**3;return i=o>.008856?o:(i-16/116)/7.787,n=c>.008856?c:(n-16/116)/7.787,a=d>.008856?d:(a-16/116)/7.787,n*=95.047,i*=100,a*=108.883,[n,i,a]};U.lab.lch=function(e){let t=e[0],r=e[1],s=e[2],n;n=Math.atan2(s,r)*360/2/Math.PI,n<0&&(n+=360);let a=Math.sqrt(r*r+s*s);return[t,a,n]};U.lch.lab=function(e){let t=e[0],r=e[1],n=e[2]/360*2*Math.PI,i=r*Math.cos(n),a=r*Math.sin(n);return[t,i,a]};U.rgb.ansi16=function(e,t=null){let[r,s,n]=e,i=t===null?U.rgb.hsv(e)[2]:t;if(i=Math.round(i/50),i===0)return 30;let a=30+(Math.round(n/255)<<2|Math.round(s/255)<<1|Math.round(r/255));return i===2&&(a+=60),a};U.hsv.ansi16=function(e){return U.rgb.ansi16(U.hsv.rgb(e),e[2])};U.rgb.ansi256=function(e){let t=e[0],r=e[1],s=e[2];return t===r&&r===s?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(s/255*5)};U.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];let r=(~~(e>50)+1)*.5,s=(t&1)*r*255,n=(t>>1&1)*r*255,i=(t>>2&1)*r*255;return[s,n,i]};U.ansi256.rgb=function(e){if(e>=232){let i=(e-232)*10+8;return[i,i,i]}e-=16;let t,r=Math.floor(e/36)/5*255,s=Math.floor((t=e%36)/6)/5*255,n=t%6/5*255;return[r,s,n]};U.rgb.hex=function(e){let r=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};U.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];t[0].length===3&&(r=r.split("").map(o=>o+o).join(""));let s=parseInt(r,16),n=s>>16&255,i=s>>8&255,a=s&255;return[n,i,a]};U.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,s=e[2]/255,n=Math.max(Math.max(t,r),s),i=Math.min(Math.min(t,r),s),a=n-i,o,c;return a<1?o=i/(1-a):o=0,a<=0?c=0:n===t?c=(r-s)/a%6:n===r?c=2+(s-t)/a:c=4+(t-r)/a,c/=6,c%=1,[c*360,a*100,o*100]};U.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,s=r<.5?2*t*r:2*t*(1-r),n=0;return s<1&&(n=(r-.5*s)/(1-s)),[e[0],s*100,n*100]};U.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,s=t*r,n=0;return s<1&&(n=(r-s)/(1-s)),[e[0],s*100,n*100]};U.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,s=e[2]/100;if(r===0)return[s*255,s*255,s*255];let n=[0,0,0],i=t%1*6,a=i%1,o=1-a,c=0;switch(Math.floor(i)){case 0:n[0]=1,n[1]=a,n[2]=0;break;case 1:n[0]=o,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=a;break;case 3:n[0]=0,n[1]=o,n[2]=1;break;case 4:n[0]=a,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=o}return c=(1-r)*s,[(r*n[0]+c)*255,(r*n[1]+c)*255,(r*n[2]+c)*255]};U.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,s=t+r*(1-t),n=0;return s>0&&(n=t/s),[e[0],n*100,s*100]};U.hcg.hsl=function(e){let t=e[1]/100,s=e[2]/100*(1-t)+.5*t,n=0;return s>0&&s<.5?n=t/(2*s):s>=.5&&s<1&&(n=t/(2*(1-s))),[e[0],n*100,s*100]};U.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,s=t+r*(1-t);return[e[0],(s-t)*100,(1-s)*100]};U.hwb.hcg=function(e){let t=e[1]/100,s=1-e[2]/100,n=s-t,i=0;return n<1&&(i=(s-n)/(1-n)),[e[0],n*100,i*100]};U.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};U.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};U.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};U.gray.hsl=function(e){return[0,0,e[0]]};U.gray.hsv=U.gray.hsl;U.gray.hwb=function(e){return[0,100,e[0]]};U.gray.cmyk=function(e){return[0,0,0,e[0]]};U.gray.lab=function(e){return[e[0],0,0]};U.gray.hex=function(e){let t=Math.round(e[0]/100*255)&255,s=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(s.length)+s};U.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});var Nm=Ee((NV,Tm)=>{var La=wc();function s1(){let e={},t=Object.keys(La);for(let r=t.length,s=0;s<r;s++)e[t[s]]={distance:-1,parent:null};return e}function n1(e){let t=s1(),r=[e];for(t[e].distance=0;r.length;){let s=r.pop(),n=Object.keys(La[s]);for(let i=n.length,a=0;a<i;a++){let o=n[a],c=t[o];c.distance===-1&&(c.distance=t[s].distance+1,c.parent=s,r.unshift(o))}}return t}function i1(e,t){return function(r){return t(e(r))}}function a1(e,t){let r=[t[e].parent,e],s=La[t[e].parent][e],n=t[e].parent;for(;t[n].parent;)r.unshift(t[n].parent),s=i1(La[t[n].parent][n],s),n=t[n].parent;return s.conversion=r,s}Tm.exports=function(e){let t=n1(e),r={},s=Object.keys(t);for(let n=s.length,i=0;i<n;i++){let a=s[i];t[a].parent!==null&&(r[a]=a1(a,t))}return r}});var Om=Ee((DV,Dm)=>{var Sc=wc(),o1=Nm(),An={},c1=Object.keys(Sc);function d1(e){let t=function(...r){let s=r[0];return s==null?s:(s.length>1&&(r=s),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function l1(e){let t=function(...r){let s=r[0];if(s==null)return s;s.length>1&&(r=s);let n=e(r);if(typeof n=="object")for(let i=n.length,a=0;a<i;a++)n[a]=Math.round(n[a]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}c1.forEach(e=>{An[e]={},Object.defineProperty(An[e],"channels",{value:Sc[e].channels}),Object.defineProperty(An[e],"labels",{value:Sc[e].labels});let t=o1(e);Object.keys(t).forEach(s=>{let n=t[s];An[e][s]=l1(n),An[e][s].raw=d1(n)})});Dm.exports=An});var qm=Ee((OV,zm)=>{"use strict";var Fm=(e,t)=>(...r)=>`\x1B[${e(...r)+t}m`,Mm=(e,t)=>(...r)=>{let s=e(...r);return`\x1B[${38+t};5;${s}m`},Lm=(e,t)=>(...r)=>{let s=e(...r);return`\x1B[${38+t};2;${s[0]};${s[1]};${s[2]}m`},Ba=e=>e,Bm=(e,t,r)=>[e,t,r],_n=(e,t,r)=>{Object.defineProperty(e,t,{get:()=>{let s=r();return Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0}),s},enumerable:!0,configurable:!0})},Ec,Rn=(e,t,r,s)=>{Ec===void 0&&(Ec=Om());let n=s?10:0,i={};for(let[a,o]of Object.entries(Ec)){let c=a==="ansi16"?"ansi":a;a===t?i[c]=e(r,n):typeof o=="object"&&(i[c]=e(o[t],n))}return i};function u1(){let e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(let[r,s]of Object.entries(t)){for(let[n,i]of Object.entries(s))t[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},s[n]=t[n],e.set(i[0],i[1]);Object.defineProperty(t,r,{value:s,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1B[39m",t.bgColor.close="\x1B[49m",_n(t.color,"ansi",()=>Rn(Fm,"ansi16",Ba,!1)),_n(t.color,"ansi256",()=>Rn(Mm,"ansi256",Ba,!1)),_n(t.color,"ansi16m",()=>Rn(Lm,"rgb",Bm,!1)),_n(t.bgColor,"ansi",()=>Rn(Fm,"ansi16",Ba,!0)),_n(t.bgColor,"ansi256",()=>Rn(Mm,"ansi256",Ba,!0)),_n(t.bgColor,"ansi16m",()=>Rn(Lm,"rgb",Bm,!0)),t}Object.defineProperty(zm,"exports",{enumerable:!0,get:u1})});var Um=Ee((FV,$m)=>{"use strict";$m.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",s=t.indexOf(r+e),n=t.indexOf("--");return s!==-1&&(n===-1||s<n)}});var Vm=Ee((MV,Gm)=>{"use strict";var m1=require("os"),jm=require("tty"),lr=Um(),{env:Et}=process,$s;lr("no-color")||lr("no-colors")||lr("color=false")||lr("color=never")?$s=0:(lr("color")||lr("colors")||lr("color=true")||lr("color=always"))&&($s=1);"FORCE_COLOR"in Et&&(Et.FORCE_COLOR==="true"?$s=1:Et.FORCE_COLOR==="false"?$s=0:$s=Et.FORCE_COLOR.length===0?1:Math.min(parseInt(Et.FORCE_COLOR,10),3));function Ic(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function Cc(e,t){if($s===0)return 0;if(lr("color=16m")||lr("color=full")||lr("color=truecolor"))return 3;if(lr("color=256"))return 2;if(e&&!t&&$s===void 0)return 0;let r=$s||0;if(Et.TERM==="dumb")return r;if(process.platform==="win32"){let s=m1.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in Et)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(s=>s in Et)||Et.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Et)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Et.TEAMCITY_VERSION)?1:0;if(Et.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Et){let s=parseInt((Et.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Et.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Et.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Et.TERM)||"COLORTERM"in Et?1:r}function p1(e){let t=Cc(e,e&&e.isTTY);return Ic(t)}Gm.exports={supportsColor:p1,stdout:Ic(Cc(!0,jm.isatty(1))),stderr:Ic(Cc(!0,jm.isatty(2)))}});var Wm=Ee((LV,Hm)=>{"use strict";var h1=(e,t,r)=>{let s=e.indexOf(t);if(s===-1)return e;let n=t.length,i=0,a="";do a+=e.substr(i,s-i)+t+r,i=s+n,s=e.indexOf(t,i);while(s!==-1);return a+=e.substr(i),a},f1=(e,t,r,s)=>{let n=0,i="";do{let a=e[s-1]==="\r";i+=e.substr(n,(a?s-1:s)-n)+t+(a?`\r
`:`
`)+r,n=s+1,s=e.indexOf(`
`,n)}while(s!==-1);return i+=e.substr(n),i};Hm.exports={stringReplaceAll:h1,stringEncaseCRLFWithFirstIndex:f1}});var Ym=Ee((BV,Xm)=>{"use strict";var y1=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Km=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,v1=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,g1=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,b1=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function Jm(e){let t=e[0]==="u",r=e[1]==="{";return t&&!r&&e.length===5||e[0]==="x"&&e.length===3?String.fromCharCode(parseInt(e.slice(1),16)):t&&r?String.fromCodePoint(parseInt(e.slice(2,-1),16)):b1.get(e)||e}function w1(e,t){let r=[],s=t.trim().split(/\s*,\s*/g),n;for(let i of s){let a=Number(i);if(!Number.isNaN(a))r.push(a);else if(n=i.match(v1))r.push(n[2].replace(g1,(o,c,d)=>c?Jm(c):d));else throw new Error(`Invalid Chalk template style argument: ${i} (in style '${e}')`)}return r}function S1(e){Km.lastIndex=0;let t=[],r;for(;(r=Km.exec(e))!==null;){let s=r[1];if(r[2]){let n=w1(s,r[2]);t.push([s].concat(n))}else t.push([s])}return t}function Qm(e,t){let r={};for(let n of t)for(let i of n.styles)r[i[0]]=n.inverse?null:i.slice(1);let s=e;for(let[n,i]of Object.entries(r))if(Array.isArray(i)){if(!(n in s))throw new Error(`Unknown Chalk style: ${n}`);s=i.length>0?s[n](...i):s[n]}return s}Xm.exports=(e,t)=>{let r=[],s=[],n=[];if(t.replace(y1,(i,a,o,c,d,l)=>{if(a)n.push(Jm(a));else if(c){let m=n.join("");n=[],s.push(r.length===0?m:Qm(e,r)(m)),r.push({inverse:o,styles:S1(c)})}else if(d){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");s.push(Qm(e,r)(n.join(""))),n=[],r.pop()}else n.push(l)}),s.push(n.join("")),r.length>0){let i=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(i)}return s.join("")}});var es=Ee((zV,np)=>{"use strict";var Oi=qm(),{stdout:Ac,stderr:_c}=Vm(),{stringReplaceAll:E1,stringEncaseCRLFWithFirstIndex:I1}=Wm(),{isArray:za}=Array,ep=["ansi","ansi","ansi256","ansi16m"],kn=Object.create(null),C1=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Ac?Ac.level:0;e.level=t.level===void 0?r:t.level},Rc=class{constructor(t){return tp(t)}},tp=e=>{let t={};return C1(t,e),t.template=(...r)=>sp(t.template,...r),Object.setPrototypeOf(t,qa.prototype),Object.setPrototypeOf(t.template,t),t.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},t.template.Instance=Rc,t.template};function qa(e){return tp(e)}for(let[e,t]of Object.entries(Oi))kn[e]={get(){let r=$a(this,kc(t.open,t.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:r}),r}};kn.visible={get(){let e=$a(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};var rp=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let e of rp)kn[e]={get(){let{level:t}=this;return function(...r){let s=kc(Oi.color[ep[t]][e](...r),Oi.color.close,this._styler);return $a(this,s,this._isEmpty)}}};for(let e of rp){let t="bg"+e[0].toUpperCase()+e.slice(1);kn[t]={get(){let{level:r}=this;return function(...s){let n=kc(Oi.bgColor[ep[r]][e](...s),Oi.bgColor.close,this._styler);return $a(this,n,this._isEmpty)}}}}var P1=Object.defineProperties(()=>{},{...kn,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),kc=(e,t,r)=>{let s,n;return r===void 0?(s=e,n=t):(s=r.openAll+e,n=t+r.closeAll),{open:e,close:t,openAll:s,closeAll:n,parent:r}},$a=(e,t,r)=>{let s=(...n)=>za(n[0])&&za(n[0].raw)?Zm(s,sp(s,...n)):Zm(s,n.length===1?""+n[0]:n.join(" "));return Object.setPrototypeOf(s,P1),s._generator=e,s._styler=t,s._isEmpty=r,s},Zm=(e,t)=>{if(e.level<=0||!t)return e._isEmpty?"":t;let r=e._styler;if(r===void 0)return t;let{openAll:s,closeAll:n}=r;if(t.indexOf("\x1B")!==-1)for(;r!==void 0;)t=E1(t,r.close,r.open),r=r.parent;let i=t.indexOf(`
`);return i!==-1&&(t=I1(t,n,s,i)),s+t+n},Pc,sp=(e,...t)=>{let[r]=t;if(!za(r)||!za(r.raw))return t.join(" ");let s=t.slice(1),n=[r.raw[0]];for(let i=1;i<r.length;i++)n.push(String(s[i-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[i]));return Pc===void 0&&(Pc=Ym()),Pc(e,n.join(""))};Object.defineProperties(qa.prototype,kn);var Ua=qa();Ua.supportsColor=Ac;Ua.stderr=qa({level:_c?_c.level:0});Ua.stderr.supportsColor=_c;np.exports=Ua});var ip=Ee(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.default=void 0;var A1=_1(require("readline"));function _1(e){return e&&e.__esModule?e:{default:e}}var xc=class{constructor(t=process.stdin){this.stream=t,this.values=[],this.selectedValue=0,this.onSelectListener=()=>{},this.onKeyPress=this.onKeyPress.bind(this)}setValues(t){this.values=t,this.renderer&&this.renderer.setValues(t)}setDefaultValue(t){this.selectedValue=t}attachRenderer(t){this.renderer=t,this.renderer.setValues(this.values)}onSelect(t){this.onSelectListener=t}open(){A1.default.emitKeypressEvents(this.stream),this.stream.on("keypress",this.onKeyPress),this.renderer&&this.renderer.render(this.selectedValue),this.stream.setRawMode(!0),this.stream.resume()}close(t=!1){this.stream.setRawMode(!1),this.stream.pause(),this.renderer&&this.renderer.cleanup(),t?this.onSelectListener(null):this.onSelectListener(this.selectedValue,this.values[this.selectedValue]),this.stream.removeListener("keypress",this.onKeyPress)}render(){this.renderer&&this.renderer.render(this.selectedValue)}onKeyPress(t,r){r&&(r.name==="up"&&this.selectedValue>0?(this.selectedValue--,this.render()):r.name==="down"&&this.selectedValue+1<this.values.length?(this.selectedValue++,this.render()):r.name==="return"?this.close():(r.name==="escape"||r.name==="c"&&r.ctrl)&&this.close(!0))}};ja.default=xc});var cp=Ee(($V,op)=>{"use strict";var me=op.exports,we="\x1B[",Va="\x1B]",Fi="\x07",Ga=";",ap=process.env.TERM_PROGRAM==="Apple_Terminal";me.cursorTo=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");return typeof t!="number"?we+(e+1)+"G":we+(t+1)+";"+(e+1)+"H"};me.cursorMove=(e,t)=>{if(typeof e!="number")throw new TypeError("The `x` argument is required");let r="";return e<0?r+=we+-e+"D":e>0&&(r+=we+e+"C"),t<0?r+=we+-t+"A":t>0&&(r+=we+t+"B"),r};me.cursorUp=e=>we+(typeof e=="number"?e:1)+"A";me.cursorDown=e=>we+(typeof e=="number"?e:1)+"B";me.cursorForward=e=>we+(typeof e=="number"?e:1)+"C";me.cursorBackward=e=>we+(typeof e=="number"?e:1)+"D";me.cursorLeft=we+"G";me.cursorSavePosition=we+(ap?"7":"s");me.cursorRestorePosition=we+(ap?"8":"u");me.cursorGetPosition=we+"6n";me.cursorNextLine=we+"E";me.cursorPrevLine=we+"F";me.cursorHide=we+"?25l";me.cursorShow=we+"?25h";me.eraseLines=e=>{let t="";for(let r=0;r<e;r++)t+=me.eraseLine+(r<e-1?me.cursorUp():"");return e&&(t+=me.cursorLeft),t};me.eraseEndLine=we+"K";me.eraseStartLine=we+"1K";me.eraseLine=we+"2K";me.eraseDown=we+"J";me.eraseUp=we+"1J";me.eraseScreen=we+"2J";me.scrollUp=we+"S";me.scrollDown=we+"T";me.clearScreen="\x1Bc";me.clearTerminal=process.platform==="win32"?`${me.eraseScreen}${we}0f`:`${me.eraseScreen}${we}3J${we}H`;me.beep=Fi;me.link=(e,t)=>[Va,"8",Ga,Ga,t,Fi,e,Va,"8",Ga,Ga,Fi].join("");me.image=(e,t)=>{t=t||{};let r=Va+"1337;File=inline=1";return t.width&&(r+=`;width=${t.width}`),t.height&&(r+=`;height=${t.height}`),t.preserveAspectRatio===!1&&(r+=";preserveAspectRatio=0"),r+":"+e.toString("base64")+Fi};me.iTerm={};me.iTerm.setCwd=e=>Va+"50;CurrentDir="+(e||process.cwd())+Fi});var dp=Ee(Wa=>{"use strict";Object.defineProperty(Wa,"__esModule",{value:!0});Wa.default=void 0;var UV=R1(require("readline")),Ha=cp();function R1(e){return e&&e.__esModule?e:{default:e}}var Tc=class{constructor(t,r=process.stdout){this.options=t,this.stream=r,this.values=[],this.initialRender=!0}setValues(t){this.values=t}render(t=0){this.initialRender?(this.initialRender=!1,this.stream.write(Ha.cursorHide)):this.stream.write((0,Ha.eraseLines)(this.values.length)),this.values.forEach((r,s)=>{let n=t===s?this.options.selected:this.options.unselected,i=" ".repeat(this.options.indentation),a=this.options.valueRenderer(r,t===s),o=s!==this.values.length-1?`
`:"";this.stream.write(i+n+" "+a+o)})}cleanup(){this.stream.write((0,Ha.eraseLines)(this.values.length)),this.stream.write(Ha.cursorShow)}};Wa.default=Tc});var lp=Ee(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.withPromise=xn.withCallback=void 0;var k1=(e,t,r)=>{e.open(),e.onSelect((s,n)=>r(t(s,n)))};xn.withCallback=k1;var x1=(e,t)=>new Promise((r,s)=>{e.open(),e.onSelect((n,i)=>{n===null?s():r(t(n,i))})});xn.withPromise=x1});var up=Ee(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.withObjectValues=Tn.withArrayValues=void 0;var T1=e=>({input:e.values,output:(t,r)=>({id:t,value:r})});Tn.withArrayValues=T1;var N1=e=>{let t=e.values;return{input:Object.values(t),output:(r,s)=>({id:Object.keys(t)[r],value:s})}};Tn.withObjectValues=N1});var vp=Ee((Nn,yp)=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.default=void 0;var D1=hp(ip()),O1=hp(dp()),mp=lp(),pp=up();function hp(e){return e&&e.__esModule?e:{default:e}}function F1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),s.forEach(function(n){M1(e,n,r[n])})}return e}function M1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var L1={outputStream:process.stdout,inputStream:process.stdin,values:[],defaultValue:0,selected:"(x)",unselected:"( )",indentation:0,cleanup:!0,valueRenderer:e=>e},fp=(e,t)=>{e=F1({},L1,e);let r=new O1.default(e,e.outputStream),s=new D1.default(e.inputStream);s.setDefaultValue(e.defaultValue),s.attachRenderer(r);let n;return Array.isArray(e.values)?n=(0,pp.withArrayValues)(e):n=(0,pp.withObjectValues)(e),e.values=n.input,s.setValues(e.values),typeof t=="function"?(0,mp.withCallback)(s,n.output,t):(0,mp.withPromise)(s,n.output)};Nn=yp.exports=fp;Object.defineProperty(Nn,"__esModule",{value:!0});var B1=fp;Nn.default=B1});var gp=Ee((HV,z1)=>{z1.exports=["|/-\\","\u2802-\u2013\u2014\u2013-","\u25D0\u25D3\u25D1\u25D2","\u25F4\u25F7\u25F6\u25F5","\u25F0\u25F3\u25F2\u25F1","\u2596\u2598\u259D\u2597","\u25A0\u25A1\u25AA\u25AB","\u258C\u2580\u2590\u2584","\u2589\u258A\u258B\u258C\u258D\u258E\u258F\u258E\u258D\u258C\u258B\u258A\u2589","\u2581\u2583\u2584\u2585\u2586\u2587\u2588\u2587\u2586\u2585\u2584\u2583","\u2190\u2196\u2191\u2197\u2192\u2198\u2193\u2199","\u2524\u2518\u2534\u2514\u251C\u250C\u252C\u2510","\u25E2\u25E3\u25E4\u25E5",".oO\xB0Oo.",".oO@*",["\u{1F30D}","\u{1F30E}","\u{1F30F}"],"\u25E1\u25E1 \u2299\u2299 \u25E0\u25E0","\u2631\u2632\u2634","\u280B\u2819\u2839\u2838\u283C\u2834\u2826\u2827\u2807\u280F","\u280B\u2819\u281A\u281E\u2816\u2826\u2834\u2832\u2833\u2813","\u2804\u2806\u2807\u280B\u2819\u2838\u2830\u2820\u2830\u2838\u2819\u280B\u2807\u2806","\u280B\u2819\u281A\u2812\u2802\u2802\u2812\u2832\u2834\u2826\u2816\u2812\u2810\u2810\u2812\u2813\u280B","\u2801\u2809\u2819\u281A\u2812\u2802\u2802\u2812\u2832\u2834\u2824\u2804\u2804\u2824\u2834\u2832\u2812\u2802\u2802\u2812\u281A\u2819\u2809\u2801","\u2808\u2809\u280B\u2813\u2812\u2810\u2810\u2812\u2816\u2826\u2824\u2820\u2820\u2824\u2826\u2816\u2812\u2810\u2810\u2812\u2813\u280B\u2809\u2808","\u2801\u2801\u2809\u2819\u281A\u2812\u2802\u2802\u2812\u2832\u2834\u2824\u2804\u2804\u2824\u2820\u2820\u2824\u2826\u2816\u2812\u2810\u2810\u2812\u2813\u280B\u2809\u2808\u2808","\u2884\u2882\u2881\u2841\u2848\u2850\u2860","\u28B9\u28BA\u28BC\u28F8\u28C7\u2867\u2857\u284F","\u28FE\u28FD\u28FB\u28BF\u287F\u28DF\u28EF\u28F7","\u2801\u2802\u2804\u2840\u2880\u2820\u2810\u2808",["\u{1F311}","\u{1F312}","\u{1F313}","\u{1F314}","\u{1F315}","\u{1F31D}","\u{1F316}","\u{1F317}","\u{1F318}","\u{1F31A}"],["\u{1F55B}","\u{1F550}","\u{1F551}","\u{1F552}","\u{1F553}","\u{1F554}","\u{1F555}","\u{1F556}","\u{1F557}","\u{1F558}","\u{1F559}","\u{1F55A}"]]});var Ip=Ee(Ep=>{var bp=require("readline"),wp=0,Sp=60;function q1(e){this.clearLine(this.stream),this.stream.write(e)}var Vt=function(e){if(!(this instanceof Vt))return new Vt(e);typeof e=="string"?e={text:e}:e||(e={}),this.text=e.text||"",this.setSpinnerString(wp),this.setSpinnerDelay(Sp),this.onTick=e.onTick||q1,this.stream=e.stream||process.stdout};Vt.spinners=gp();Vt.setDefaultSpinnerString=function(e){return wp=e,this};Vt.setDefaultSpinnerDelay=function(e){return Sp=e,this};Vt.prototype.start=function(){if(this.stream===process.stdout&&this.stream.isTTY!==!0)return this;var e=0,t=this,r=function(){var s=t.text.indexOf("%s")>-1?t.text.replace("%s",t.chars[e]):t.chars[e]+" "+t.text;t.onTick(s),e=++e%t.chars.length};return r(),this.id=setInterval(r,this.delay),this};Vt.prototype.isSpinning=function(){return this.id!==void 0};Vt.prototype.setSpinnerDelay=function(e){return this.delay=e,this};Vt.prototype.setSpinnerString=function(e){let t=U1(e,this.spinners);return this.chars=Array.isArray(t)?t:t.split(""),this};Vt.prototype.setSpinnerTitle=function(e){return this.text=e,this};Vt.prototype.stop=function(e){return this.isSpinning===!1?this:(clearInterval(this.id),this.id=void 0,e&&this.clearLine(this.stream),this)};Vt.prototype.clearLine=function(e){return bp.clearLine(e,0),bp.cursorTo(e,0),this};function $1(e){return typeof e=="number"&&e%1===0}function U1(e,t){if(!$1(e))return e+"";var r=Vt.spinners.length;return e=e>=r?0:e,e=e<0?r+e:e,Vt.spinners[e]}Ep.Spinner=Vt});var kP=Ee((t9,RP)=>{"use strict";var j1=Object.create,wo=Object.defineProperty,G1=Object.getOwnPropertyDescriptor,Pl=Object.getOwnPropertyNames,V1=Object.getPrototypeOf,H1=Object.prototype.hasOwnProperty,So=(e,t)=>function(){return e&&(t=(0,e[Pl(e)[0]])(e=0)),t},Ce=(e,t)=>function(){return t||(0,e[Pl(e)[0]])((t={exports:{}}).exports,t),t.exports},Eo=(e,t)=>{for(var r in t)wo(e,r,{get:t[r],enumerable:!0})},Tg=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Pl(t))!H1.call(e,n)&&n!==r&&wo(e,n,{get:()=>t[n],enumerable:!(s=G1(t,n))||s.enumerable});return e},ke=(e,t,r)=>(r=e!=null?j1(V1(e)):{},Tg(t||!e||!e.__esModule?wo(r,"default",{value:e,enumerable:!0}):r,e)),Al=e=>Tg(wo({},"__esModule",{value:!0}),e),_l={};Eo(_l,{__assign:()=>so,__asyncDelegator:()=>iA,__asyncGenerator:()=>nA,__asyncValues:()=>aA,__await:()=>ta,__awaiter:()=>Y1,__classPrivateFieldGet:()=>lA,__classPrivateFieldSet:()=>uA,__createBinding:()=>eA,__decorate:()=>Q1,__exportStar:()=>tA,__extends:()=>W1,__generator:()=>Z1,__importDefault:()=>dA,__importStar:()=>cA,__makeTemplateObject:()=>oA,__metadata:()=>X1,__param:()=>J1,__read:()=>Ng,__rest:()=>K1,__spread:()=>rA,__spreadArrays:()=>sA,__values:()=>Gd});function W1(e,t){ro(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function K1(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function Q1(e,t,r,s){var n=arguments.length,i=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,r):s,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,s);else for(var o=e.length-1;o>=0;o--)(a=e[o])&&(i=(n<3?a(i):n>3?a(t,r,i):a(t,r))||i);return n>3&&i&&Object.defineProperty(t,r,i),i}function J1(e,t){return function(r,s){t(r,s,e)}}function X1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Y1(e,t,r,s){function n(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(l){try{d(s.next(l))}catch(m){a(m)}}function c(l){try{d(s.throw(l))}catch(m){a(m)}}function d(l){l.done?i(l.value):n(l.value).then(o,c)}d((s=s.apply(e,t||[])).next())})}function Z1(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,n,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(d){return function(l){return c([d,l])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;r;)try{if(s=1,n&&(i=d[0]&2?n.return:d[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,d[1])).done)return i;switch(n=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,n=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(l){d=[6,l],n=0}finally{s=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function eA(e,t,r,s){s===void 0&&(s=r),e[s]=t[r]}function tA(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Gd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],s=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ng(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var s=r.call(e),n,i=[],a;try{for(;(t===void 0||t-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(o){a={error:o}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(a)throw a.error}}return i}function rA(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ng(arguments[t]));return e}function sA(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var s=Array(e),n=0,t=0;t<r;t++)for(var i=arguments[t],a=0,o=i.length;a<o;a++,n++)s[n]=i[a];return s}function ta(e){return this instanceof ta?(this.v=e,this):new ta(e)}function nA(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(e,t||[]),n,i=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(p){s[p]&&(n[p]=function(h){return new Promise(function(y,v){i.push([p,h,y,v])>1||o(p,h)})})}function o(p,h){try{c(s[p](h))}catch(y){m(i[0][3],y)}}function c(p){p.value instanceof ta?Promise.resolve(p.value.v).then(d,l):m(i[0][2],p)}function d(p){o("next",p)}function l(p){o("throw",p)}function m(p,h){p(h),i.shift(),i.length&&o(i[0][0],i[0][1])}}function iA(e){var t,r;return t={},s("next"),s("throw",function(n){throw n}),s("return"),t[Symbol.iterator]=function(){return this},t;function s(n,i){t[n]=e[n]?function(a){return(r=!r)?{value:ta(e[n](a)),done:n==="return"}:i?i(a):a}:i}}function aA(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Gd=="function"?Gd(e):e[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(i){r[i]=e[i]&&function(a){return new Promise(function(o,c){a=e[i](a),n(o,c,a.done,a.value)})}}function n(i,a,o,c){Promise.resolve(c).then(function(d){i({value:d,done:o})},a)}}function oA(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function cA(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function dA(e){return e&&e.__esModule?e:{default:e}}function lA(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function uA(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var ro,so,Dg=So({"../../node_modules/.pnpm/tslib@1.14.1/node_modules/tslib/tslib.es6.js"(){"use strict";ro=function(e,t){return ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)s.hasOwnProperty(n)&&(r[n]=s[n])},ro(e,t)},so=function(){return so=Object.assign||function(t){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},so.apply(this,arguments)}}}),Og,Fg,mA=So({"../../node_modules/.pnpm/@aws-sdk+util-utf8-browser@3.259.0/node_modules/@aws-sdk/util-utf8-browser/dist-es/pureJs.js"(){"use strict";Og=e=>{let t=[];for(let r=0,s=e.length;r<s;r++){let n=e.charCodeAt(r);if(n<128)t.push(n);else if(n<2048)t.push(n>>6|192,n&63|128);else if(r+1<e.length&&(n&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let i=65536+((n&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else t.push(n>>12|224,n>>6&63|128,n&63|128)}return Uint8Array.from(t)},Fg=e=>{let t="";for(let r=0,s=e.length;r<s;r++){let n=e[r];if(n<128)t+=String.fromCharCode(n);else if(192<=n&&n<224){let i=e[++r];t+=String.fromCharCode((n&31)<<6|i&63)}else if(240<=n&&n<365){let a="%"+[n,e[++r],e[++r],e[++r]].map(o=>o.toString(16)).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((n&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t}}});function pA(e){return new TextEncoder().encode(e)}function hA(e){return new TextDecoder("utf-8").decode(e)}var fA=So({"../../node_modules/.pnpm/@aws-sdk+util-utf8-browser@3.259.0/node_modules/@aws-sdk/util-utf8-browser/dist-es/whatwgEncodingApi.js"(){"use strict"}}),Mg={};Eo(Mg,{fromUtf8:()=>Lg,toUtf8:()=>Bg});var Lg,Bg,yA=So({"../../node_modules/.pnpm/@aws-sdk+util-utf8-browser@3.259.0/node_modules/@aws-sdk/util-utf8-browser/dist-es/index.js"(){"use strict";mA(),fA(),Lg=e=>typeof TextEncoder=="function"?pA(e):Og(e),Bg=e=>typeof TextDecoder=="function"?hA(e):Fg(e)}}),vA=Ce({"../../node_modules/.pnpm/@aws-crypto+util@3.0.0/node_modules/@aws-crypto/util/build/convertToBuffer.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.convertToBuffer=void 0;var t=(yA(),Al(Mg)),r=typeof Buffer<"u"&&Buffer.from?function(n){return Buffer.from(n,"utf8")}:t.fromUtf8;function s(n){return n instanceof Uint8Array?n:typeof n=="string"?r(n):ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(n)}e.convertToBuffer=s}}),gA=Ce({"../../node_modules/.pnpm/@aws-crypto+util@3.0.0/node_modules/@aws-crypto/util/build/isEmptyData.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEmptyData=void 0;function t(r){return typeof r=="string"?r.length===0:r.byteLength===0}e.isEmptyData=t}}),bA=Ce({"../../node_modules/.pnpm/@aws-crypto+util@3.0.0/node_modules/@aws-crypto/util/build/numToUint8.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.numToUint8=void 0;function t(r){return new Uint8Array([(r&4278190080)>>24,(r&16711680)>>16,(r&65280)>>8,r&255])}e.numToUint8=t}}),wA=Ce({"../../node_modules/.pnpm/@aws-crypto+util@3.0.0/node_modules/@aws-crypto/util/build/uint32ArrayFrom.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=void 0;function t(r){if(!Uint32Array.from){for(var s=new Uint32Array(r.length),n=0;n<r.length;)s[n]=r[n],n+=1;return s}return Uint32Array.from(r)}e.uint32ArrayFrom=t}}),zg=Ce({"../../node_modules/.pnpm/@aws-crypto+util@3.0.0/node_modules/@aws-crypto/util/build/index.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uint32ArrayFrom=e.numToUint8=e.isEmptyData=e.convertToBuffer=void 0;var t=vA();Object.defineProperty(e,"convertToBuffer",{enumerable:!0,get:function(){return t.convertToBuffer}});var r=gA();Object.defineProperty(e,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var s=bA();Object.defineProperty(e,"numToUint8",{enumerable:!0,get:function(){return s.numToUint8}});var n=wA();Object.defineProperty(e,"uint32ArrayFrom",{enumerable:!0,get:function(){return n.uint32ArrayFrom}})}}),SA=Ce({"../../node_modules/.pnpm/@aws-crypto+crc32@3.0.0/node_modules/@aws-crypto/crc32/build/aws_crc32.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=void 0;var t=(Dg(),Al(_l)),r=zg(),s=Rl(),n=function(){function i(){this.crc32=new s.Crc32}return i.prototype.update=function(a){(0,r.isEmptyData)(a)||this.crc32.update((0,r.convertToBuffer)(a))},i.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(a){return[2,(0,r.numToUint8)(this.crc32.digest())]})})},i.prototype.reset=function(){this.crc32=new s.Crc32},i}();e.AwsCrc32=n}}),Rl=Ce({"../../node_modules/.pnpm/@aws-crypto+crc32@3.0.0/node_modules/@aws-crypto/crc32/build/index.js"(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AwsCrc32=e.Crc32=e.crc32=void 0;var t=(Dg(),Al(_l)),r=zg();function s(c){return new n().update(c).digest()}e.crc32=s;var n=function(){function c(){this.checksum=4294967295}return c.prototype.update=function(d){var l,m;try{for(var p=t.__values(d),h=p.next();!h.done;h=p.next()){var y=h.value;this.checksum=this.checksum>>>8^a[(this.checksum^y)&255]}}catch(v){l={error:v}}finally{try{h&&!h.done&&(m=p.return)&&m.call(p)}finally{if(l)throw l.error}}return this},c.prototype.digest=function(){return(this.checksum^4294967295)>>>0},c}();e.Crc32=n;var i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],a=(0,r.uint32ArrayFrom)(i),o=SA();Object.defineProperty(e,"AwsCrc32",{enumerable:!0,get:function(){return o.AwsCrc32}})}}),kl=Ce({"../../node_modules/.pnpm/fast-xml-parser@4.2.5/node_modules/fast-xml-parser/src/util.js"(e){"use strict";var t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",s="["+t+"]["+r+"]*",n=new RegExp("^"+s+"$"),i=function(o,c){let d=[],l=c.exec(o);for(;l;){let m=[];m.startIndex=c.lastIndex-l[0].length;let p=l.length;for(let h=0;h<p;h++)m.push(l[h]);d.push(m),l=c.exec(o)}return d},a=function(o){let c=n.exec(o);return!(c===null||typeof c>"u")};e.isExist=function(o){return typeof o<"u"},e.isEmptyObject=function(o){return Object.keys(o).length===0},e.merge=function(o,c,d){if(c){let l=Object.keys(c),m=l.length;for(let p=0;p<m;p++)d==="strict"?o[l[p]]=[c[l[p]]]:o[l[p]]=c[l[p]]}},e.getValue=function(o){return e.isExist(o)?o:""},e.isName=a,e.getAllMatches=i,e.nameRegexp=s}}),qg=Ce({"../../node_modules/.pnpm/fast-xml-parser@4.2.5/node_modules/fast-xml-parser/src/validator.js"(e){"use strict";var t=kl(),r={allowBooleanAttributes:!1,unpairedTags:[]};e.validate=function(w,I){I=Object.assign({},r,I);let L=[],be=!1,re=!1;w[0]==="\uFEFF"&&(w=w.substr(1));for(let g=0;g<w.length;g++)if(w[g]==="<"&&w[g+1]==="?"){if(g+=2,g=n(w,g),g.err)return g}else if(w[g]==="<"){let J=g;if(g++,w[g]==="!"){g=i(w,g);continue}else{let k=!1;w[g]==="/"&&(k=!0,g++);let F="";for(;g<w.length&&w[g]!==">"&&w[g]!==" "&&w[g]!=="	"&&w[g]!==`
`&&w[g]!=="\r";g++)F+=w[g];if(F=F.trim(),F[F.length-1]==="/"&&(F=F.substring(0,F.length-1),g--),!v(F)){let ie;return F.trim().length===0?ie="Invalid space after '<'.":ie="Tag '"+F+"' is an invalid name.",h("InvalidTag",ie,E(w,g))}let $=c(w,g);if($===!1)return h("InvalidAttr","Attributes for '"+F+"' have open quote.",E(w,g));let N=$.value;if(g=$.index,N[N.length-1]==="/"){let ie=g-N.length;N=N.substring(0,N.length-1);let ee=l(N,I);if(ee===!0)be=!0;else return h(ee.err.code,ee.err.msg,E(w,ie+ee.err.line))}else if(k)if($.tagClosed){if(N.trim().length>0)return h("InvalidTag","Closing tag '"+F+"' can't have attributes or invalid starting.",E(w,J));{let ie=L.pop();if(F!==ie.tagName){let ee=E(w,ie.tagStartPos);return h("InvalidTag","Expected closing tag '"+ie.tagName+"' (opened in line "+ee.line+", col "+ee.col+") instead of closing tag '"+F+"'.",E(w,J))}L.length==0&&(re=!0)}}else return h("InvalidTag","Closing tag '"+F+"' doesn't have proper closing.",E(w,g));else{let ie=l(N,I);if(ie!==!0)return h(ie.err.code,ie.err.msg,E(w,g-N.length+ie.err.line));if(re===!0)return h("InvalidXml","Multiple possible root nodes found.",E(w,g));I.unpairedTags.indexOf(F)!==-1||L.push({tagName:F,tagStartPos:J}),be=!0}for(g++;g<w.length;g++)if(w[g]==="<")if(w[g+1]==="!"){g++,g=i(w,g);continue}else if(w[g+1]==="?"){if(g=n(w,++g),g.err)return g}else break;else if(w[g]==="&"){let ie=p(w,g);if(ie==-1)return h("InvalidChar","char '&' is not expected.",E(w,g));g=ie}else if(re===!0&&!s(w[g]))return h("InvalidXml","Extra text at the end",E(w,g));w[g]==="<"&&g--}}else{if(s(w[g]))continue;return h("InvalidChar","char '"+w[g]+"' is not expected.",E(w,g))}if(be){if(L.length==1)return h("InvalidTag","Unclosed tag '"+L[0].tagName+"'.",E(w,L[0].tagStartPos));if(L.length>0)return h("InvalidXml","Invalid '"+JSON.stringify(L.map(g=>g.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return h("InvalidXml","Start tag expected.",1);return!0};function s(w){return w===" "||w==="	"||w===`
`||w==="\r"}function n(w,I){let L=I;for(;I<w.length;I++)if(w[I]=="?"||w[I]==" "){let be=w.substr(L,I-L);if(I>5&&be==="xml")return h("InvalidXml","XML declaration allowed only at the start of the document.",E(w,I));if(w[I]=="?"&&w[I+1]==">"){I++;break}else continue}return I}function i(w,I){if(w.length>I+5&&w[I+1]==="-"&&w[I+2]==="-"){for(I+=3;I<w.length;I++)if(w[I]==="-"&&w[I+1]==="-"&&w[I+2]===">"){I+=2;break}}else if(w.length>I+8&&w[I+1]==="D"&&w[I+2]==="O"&&w[I+3]==="C"&&w[I+4]==="T"&&w[I+5]==="Y"&&w[I+6]==="P"&&w[I+7]==="E"){let L=1;for(I+=8;I<w.length;I++)if(w[I]==="<")L++;else if(w[I]===">"&&(L--,L===0))break}else if(w.length>I+9&&w[I+1]==="["&&w[I+2]==="C"&&w[I+3]==="D"&&w[I+4]==="A"&&w[I+5]==="T"&&w[I+6]==="A"&&w[I+7]==="["){for(I+=8;I<w.length;I++)if(w[I]==="]"&&w[I+1]==="]"&&w[I+2]===">"){I+=2;break}}return I}var a='"',o="'";function c(w,I){let L="",be="",re=!1;for(;I<w.length;I++){if(w[I]===a||w[I]===o)be===""?be=w[I]:be!==w[I]||(be="");else if(w[I]===">"&&be===""){re=!0;break}L+=w[I]}return be!==""?!1:{value:L,index:I,tagClosed:re}}var d=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function l(w,I){let L=t.getAllMatches(w,d),be={};for(let re=0;re<L.length;re++){if(L[re][1].length===0)return h("InvalidAttr","Attribute '"+L[re][2]+"' has no space in starting.",M(L[re]));if(L[re][3]!==void 0&&L[re][4]===void 0)return h("InvalidAttr","Attribute '"+L[re][2]+"' is without value.",M(L[re]));if(L[re][3]===void 0&&!I.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+L[re][2]+"' is not allowed.",M(L[re]));let g=L[re][2];if(!y(g))return h("InvalidAttr","Attribute '"+g+"' is an invalid name.",M(L[re]));if(!be.hasOwnProperty(g))be[g]=1;else return h("InvalidAttr","Attribute '"+g+"' is repeated.",M(L[re]))}return!0}function m(w,I){let L=/\d/;for(w[I]==="x"&&(I++,L=/[\da-fA-F]/);I<w.length;I++){if(w[I]===";")return I;if(!w[I].match(L))break}return-1}function p(w,I){if(I++,w[I]===";")return-1;if(w[I]==="#")return I++,m(w,I);let L=0;for(;I<w.length;I++,L++)if(!(w[I].match(/\w/)&&L<20)){if(w[I]===";")break;return-1}return I}function h(w,I,L){return{err:{code:w,msg:I,line:L.line||L,col:L.col}}}function y(w){return t.isName(w)}function v(w){return t.isName(w)}function E(w,I){let L=w.substring(0,I).split(/\r?\n/);return{line:L.length,col:L[L.length-1].length+1}}function M(w){return w.startIndex+w[1].length}}}),EA=Ce({"../../node_modules/.pnpm/fast-xml-parser@4.2.5/node_modules/fast-xml-parser/src/xmlparser/OptionsBuilder.js"(e){"use strict";var t={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(s,n){return n},attributeValueProcessor:function(s,n){return n},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(s,n,i){return s}},r=function(s){return Object.assign({},t,s)};e.buildOptions=r,e.defaultOptions=t}}),IA=Ce({"../../node_modules/.pnpm/fast-xml-parser@4.2.5/node_modules/fast-xml-parser/src/xmlparser/xmlNode.js"(e,t){"use strict";var r=class{constructor(s){this.tagname=s,this.child=[],this[":@"]={}}add(s,n){s==="__proto__"&&(s="#__proto__"),this.child.push({[s]:n})}addChild(s){s.tagname==="__proto__"&&(s.tagname="#__proto__"),s[":@"]&&Object.keys(s[":@"]).length>0?this.child.push({[s.tagname]:s.child,":@":s[":@"]}):this.child.push({[s.tagname]:s.child})}};t.exports=r}}),CA=Ce({"../../node_modules/.pnpm/fast-xml-parser@4.2.5/node_modules/fast-xml-parser/src/xmlparser/DocTypeReader.js"(e,t){"use strict";var r=kl();function s(m,p){let h={};if(m[p+3]==="O"&&m[p+4]==="C"&&m[p+5]==="T"&&m[p+6]==="Y"&&m[p+7]==="P"&&m[p+8]==="E"){p=p+9;let y=1,v=!1,E=!1,M="";for(;p<m.length;p++)if(m[p]==="<"&&!E){if(v&&a(m,p))p+=7,[entityName,val,p]=n(m,p+1),val.indexOf("&")===-1&&(h[l(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(v&&o(m,p))p+=8;else if(v&&c(m,p))p+=8;else if(v&&d(m,p))p+=9;else if(i)E=!0;else throw new Error("Invalid DOCTYPE");y++,M=""}else if(m[p]===">"){if(E?m[p-1]==="-"&&m[p-2]==="-"&&(E=!1,y--):y--,y===0)break}else m[p]==="["?v=!0:M+=m[p];if(y!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:h,i:p}}function n(m,p){let h="";for(;p<m.length&&m[p]!=="'"&&m[p]!=='"';p++)h+=m[p];if(h=h.trim(),h.indexOf(" ")!==-1)throw new Error("External entites are not supported");let y=m[p++],v="";for(;p<m.length&&m[p]!==y;p++)v+=m[p];return[h,v,p]}function i(m,p){return m[p+1]==="!"&&m[p+2]==="-"&&m[p+3]==="-"}function a(m,p){return m[p+1]==="!"&&m[p+2]==="E"&&m[p+3]==="N"&&m[p+4]==="T"&&m[p+5]==="I"&&m[p+6]==="T"&&m[p+7]==="Y"}function o(m,p){return m[p+1]==="!"&&m[p+2]==="E"&&m[p+3]==="L"&&m[p+4]==="E"&&m[p+5]==="M"&&m[p+6]==="E"&&m[p+7]==="N"&&m[p+8]==="T"}function c(m,p){return m[p+1]==="!"&&m[p+2]==="A"&&m[p+3]==="T"&&m[p+4]==="T"&&m[p+5]==="L"&&m[p+6]==="I"&&m[p+7]==="S"&&m[p+8]==="T"}function d(m,p){return m[p+1]==="!"&&m[p+2]==="N"&&m[p+3]==="O"&&m[p+4]==="T"&&m[p+5]==="A"&&m[p+6]==="T"&&m[p+7]==="I"&&m[p+8]==="O"&&m[p+9]==="N"}function l(m){if(r.isName(m))return m;throw new Error(`Invalid entity name ${m}`)}t.exports=s}}),PA=Ce({"../../node_modules/.pnpm/strnum@1.0.5/node_modules/strnum/strnum.js"(e,t){"use strict";var r=/^[-+]?0x[a-fA-F0-9]+$/,s=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var n={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function i(o,c={}){if(c=Object.assign({},n,c),!o||typeof o!="string")return o;let d=o.trim();if(c.skipLike!==void 0&&c.skipLike.test(d))return o;if(c.hex&&r.test(d))return Number.parseInt(d,16);{let l=s.exec(d);if(l){let m=l[1],p=l[2],h=a(l[3]),y=l[4]||l[6];if(!c.leadingZeros&&p.length>0&&m&&d[2]!==".")return o;if(!c.leadingZeros&&p.length>0&&!m&&d[1]!==".")return o;{let v=Number(d),E=""+v;return E.search(/[eE]/)!==-1||y?c.eNotation?v:o:d.indexOf(".")!==-1?E==="0"&&h===""||E===h||m&&E==="-"+h?v:o:p?h===E||m+h===E?v:o:d===E||d===m+E?v:o}}else return o}}function a(o){return o&&o.indexOf(".")!==-1&&(o=o.replace(/0+$/,""),o==="."?o="0":o[0]==="."?o="0"+o:o[o.length-1]==="."&&(o=o.substr(0,o.length-1))),o}t.exports=i}}),AA=Ce({"../../node_modules/.pnpm/fast-xml-parser@4.2.5/node_modules/fast-xml-parser/src/xmlparser/OrderedObjParser.js"(e,t){"use strict";var r=kl(),s=IA(),n=CA(),i=PA(),a="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,r.nameRegexp),o=class{constructor(g){this.options=g,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"}},this.addExternalEntities=c,this.parseXml=h,this.parseTextData=d,this.resolveNameSpace=l,this.buildAttributesMap=p,this.isItStopNode=M,this.replaceEntitiesValue=v,this.readStopNodeData=be,this.saveTextToParentTag=E,this.addChild=y}};function c(g){let J=Object.keys(g);for(let k=0;k<J.length;k++){let F=J[k];this.lastEntities[F]={regex:new RegExp("&"+F+";","g"),val:g[F]}}}function d(g,J,k,F,$,N,ie){if(g!==void 0&&(this.options.trimValues&&!F&&(g=g.trim()),g.length>0)){ie||(g=this.replaceEntitiesValue(g));let ee=this.options.tagValueProcessor(J,g,k,$,N);return ee==null?g:typeof ee!=typeof g||ee!==g?ee:this.options.trimValues?re(g,this.options.parseTagValue,this.options.numberParseOptions):g.trim()===g?re(g,this.options.parseTagValue,this.options.numberParseOptions):g}}function l(g){if(this.options.removeNSPrefix){let J=g.split(":"),k=g.charAt(0)==="/"?"/":"";if(J[0]==="xmlns")return"";J.length===2&&(g=k+J[1])}return g}var m=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function p(g,J,k){if(!this.options.ignoreAttributes&&typeof g=="string"){let F=r.getAllMatches(g,m),$=F.length,N={};for(let ie=0;ie<$;ie++){let ee=this.resolveNameSpace(F[ie][1]),z=F[ie][4],ue=this.options.attributeNamePrefix+ee;if(ee.length)if(this.options.transformAttributeName&&(ue=this.options.transformAttributeName(ue)),ue==="__proto__"&&(ue="#__proto__"),z!==void 0){this.options.trimValues&&(z=z.trim()),z=this.replaceEntitiesValue(z);let St=this.options.attributeValueProcessor(ee,z,J);St==null?N[ue]=z:typeof St!=typeof z||St!==z?N[ue]=St:N[ue]=re(z,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(N[ue]=!0)}if(!Object.keys(N).length)return;if(this.options.attributesGroupName){let ie={};return ie[this.options.attributesGroupName]=N,ie}return N}}var h=function(g){g=g.replace(/\r\n?/g,`
`);let J=new s("!xml"),k=J,F="",$="";for(let N=0;N<g.length;N++)if(g[N]==="<")if(g[N+1]==="/"){let ee=I(g,">",N,"Closing Tag is not closed."),z=g.substring(N+2,ee).trim();if(this.options.removeNSPrefix){let Ti=z.indexOf(":");Ti!==-1&&(z=z.substr(Ti+1))}this.options.transformTagName&&(z=this.options.transformTagName(z)),k&&(F=this.saveTextToParentTag(F,k,$));let ue=$.substring($.lastIndexOf(".")+1);if(z&&this.options.unpairedTags.indexOf(z)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${z}>`);let St=0;ue&&this.options.unpairedTags.indexOf(ue)!==-1?(St=$.lastIndexOf(".",$.lastIndexOf(".")-1),this.tagsNodeStack.pop()):St=$.lastIndexOf("."),$=$.substring(0,St),k=this.tagsNodeStack.pop(),F="",N=ee}else if(g[N+1]==="?"){let ee=L(g,N,!1,"?>");if(!ee)throw new Error("Pi Tag is not closed.");if(F=this.saveTextToParentTag(F,k,$),!(this.options.ignoreDeclaration&&ee.tagName==="?xml"||this.options.ignorePiTags)){let z=new s(ee.tagName);z.add(this.options.textNodeName,""),ee.tagName!==ee.tagExp&&ee.attrExpPresent&&(z[":@"]=this.buildAttributesMap(ee.tagExp,$,ee.tagName)),this.addChild(k,z,$)}N=ee.closeIndex+1}else if(g.substr(N+1,3)==="!--"){let ee=I(g,"-->",N+4,"Comment is not closed.");if(this.options.commentPropName){let z=g.substring(N+4,ee-2);F=this.saveTextToParentTag(F,k,$),k.add(this.options.commentPropName,[{[this.options.textNodeName]:z}])}N=ee}else if(g.substr(N+1,2)==="!D"){let ee=n(g,N);this.docTypeEntities=ee.entities,N=ee.i}else if(g.substr(N+1,2)==="!["){let ee=I(g,"]]>",N,"CDATA is not closed.")-2,z=g.substring(N+9,ee);if(F=this.saveTextToParentTag(F,k,$),this.options.cdataPropName)k.add(this.options.cdataPropName,[{[this.options.textNodeName]:z}]);else{let ue=this.parseTextData(z,k.tagname,$,!0,!1,!0);ue==null&&(ue=""),k.add(this.options.textNodeName,ue)}N=ee+2}else{let ee=L(g,N,this.options.removeNSPrefix),z=ee.tagName,ue=ee.tagExp,St=ee.attrExpPresent,Ti=ee.closeIndex;this.options.transformTagName&&(z=this.options.transformTagName(z)),k&&F&&k.tagname!=="!xml"&&(F=this.saveTextToParentTag(F,k,$,!1));let um=k;if(um&&this.options.unpairedTags.indexOf(um.tagname)!==-1&&(k=this.tagsNodeStack.pop(),$=$.substring(0,$.lastIndexOf("."))),z!==J.tagname&&($+=$?"."+z:z),this.isItStopNode(this.options.stopNodes,$,z)){let dr="";if(ue.length>0&&ue.lastIndexOf("/")===ue.length-1)N=ee.closeIndex;else if(this.options.unpairedTags.indexOf(z)!==-1)N=ee.closeIndex;else{let ac=this.readStopNodeData(g,z,Ti+1);if(!ac)throw new Error(`Unexpected end of ${z}`);N=ac.i,dr=ac.tagContent}let ic=new s(z);z!==ue&&St&&(ic[":@"]=this.buildAttributesMap(ue,$,z)),dr&&(dr=this.parseTextData(dr,z,$,!0,St,!0,!0)),$=$.substr(0,$.lastIndexOf(".")),ic.add(this.options.textNodeName,dr),this.addChild(k,ic,$)}else{if(ue.length>0&&ue.lastIndexOf("/")===ue.length-1){z[z.length-1]==="/"?(z=z.substr(0,z.length-1),ue=z):ue=ue.substr(0,ue.length-1),this.options.transformTagName&&(z=this.options.transformTagName(z));let dr=new s(z);z!==ue&&St&&(dr[":@"]=this.buildAttributesMap(ue,$,z)),this.addChild(k,dr,$),$=$.substr(0,$.lastIndexOf("."))}else{let dr=new s(z);this.tagsNodeStack.push(k),z!==ue&&St&&(dr[":@"]=this.buildAttributesMap(ue,$,z)),this.addChild(k,dr,$),k=dr}F="",N=Ti}}else F+=g[N];return J.child};function y(g,J,k){let F=this.options.updateTag(J.tagname,k,J[":@"]);F===!1||(typeof F=="string"&&(J.tagname=F),g.addChild(J))}var v=function(g){if(this.options.processEntities){for(let J in this.docTypeEntities){let k=this.docTypeEntities[J];g=g.replace(k.regx,k.val)}for(let J in this.lastEntities){let k=this.lastEntities[J];g=g.replace(k.regex,k.val)}if(this.options.htmlEntities)for(let J in this.htmlEntities){let k=this.htmlEntities[J];g=g.replace(k.regex,k.val)}g=g.replace(this.ampEntity.regex,this.ampEntity.val)}return g};function E(g,J,k,F){return g&&(F===void 0&&(F=Object.keys(J.child).length===0),g=this.parseTextData(g,J.tagname,k,!1,J[":@"]?Object.keys(J[":@"]).length!==0:!1,F),g!==void 0&&g!==""&&J.add(this.options.textNodeName,g),g=""),g}function M(g,J,k){let F="*."+k;for(let $ in g){let N=g[$];if(F===N||J===N)return!0}return!1}function w(g,J,k=">"){let F,$="";for(let N=J;N<g.length;N++){let ie=g[N];if(F)ie===F&&(F="");else if(ie==='"'||ie==="'")F=ie;else if(ie===k[0])if(k[1]){if(g[N+1]===k[1])return{data:$,index:N}}else return{data:$,index:N};else ie==="	"&&(ie=" ");$+=ie}}function I(g,J,k,F){let $=g.indexOf(J,k);if($===-1)throw new Error(F);return $+J.length-1}function L(g,J,k,F=">"){let $=w(g,J+1,F);if(!$)return;let N=$.data,ie=$.index,ee=N.search(/\s/),z=N,ue=!0;if(ee!==-1&&(z=N.substr(0,ee).replace(/\s\s*$/,""),N=N.substr(ee+1)),k){let St=z.indexOf(":");St!==-1&&(z=z.substr(St+1),ue=z!==$.data.substr(St+1))}return{tagName:z,tagExp:N,closeIndex:ie,attrExpPresent:ue}}function be(g,J,k){let F=k,$=1;for(;k<g.length;k++)if(g[k]==="<")if(g[k+1]==="/"){let N=I(g,">",k,`${J} is not closed`);if(g.substring(k+2,N).trim()===J&&($--,$===0))return{tagContent:g.substring(F,k),i:N};k=N}else if(g[k+1]==="?")k=I(g,"?>",k+1,"StopNode is not closed.");else if(g.substr(k+1,3)==="!--")k=I(g,"-->",k+3,"StopNode is not closed.");else if(g.substr(k+1,2)==="![")k=I(g,"]]>",k,"StopNode is not closed.")-2;else{let N=L(g,k,">");N&&((N&&N.tagName)===J&&N.tagExp[N.tagExp.length-1]!=="/"&&$++,k=N.closeIndex)}}function re(g,J,k){if(J&&typeof g=="string"){let F=g.trim();return F==="true"?!0:F==="false"?!1:i(g,k)}else return r.isExist(g)?g:""}t.exports=o}}),_A=Ce({"../../node_modules/.pnpm/fast-xml-parser@4.2.5/node_modules/fast-xml-parser/src/xmlparser/node2json.js"(e){"use strict";function t(a,o){return r(a,o)}function r(a,o,c){let d,l={};for(let m=0;m<a.length;m++){let p=a[m],h=s(p),y="";if(c===void 0?y=h:y=c+"."+h,h===o.textNodeName)d===void 0?d=p[h]:d+=""+p[h];else{if(h===void 0)continue;if(p[h]){let v=r(p[h],o,y),E=i(v,o);p[":@"]?n(v,p[":@"],y,o):Object.keys(v).length===1&&v[o.textNodeName]!==void 0&&!o.alwaysCreateTextNode?v=v[o.textNodeName]:Object.keys(v).length===0&&(o.alwaysCreateTextNode?v[o.textNodeName]="":v=""),l[h]!==void 0&&l.hasOwnProperty(h)?(Array.isArray(l[h])||(l[h]=[l[h]]),l[h].push(v)):o.isArray(h,y,E)?l[h]=[v]:l[h]=v}}}return typeof d=="string"?d.length>0&&(l[o.textNodeName]=d):d!==void 0&&(l[o.textNodeName]=d),l}function s(a){let o=Object.keys(a);for(let c=0;c<o.length;c++){let d=o[c];if(d!==":@")return d}}function n(a,o,c,d){if(o){let l=Object.keys(o),m=l.length;for(let p=0;p<m;p++){let h=l[p];d.isArray(h,c+"."+h,!0,!0)?a[h]=[o[h]]:a[h]=o[h]}}}function i(a,o){let{textNodeName:c}=o,d=Object.keys(a).length;return!!(d===0||d===1&&(a[c]||typeof a[c]=="boolean"||a[c]===0))}e.prettify=t}}),RA=Ce({"../../node_modules/.pnpm/fast-xml-parser@4.2.5/node_modules/fast-xml-parser/src/xmlparser/XMLParser.js"(e,t){"use strict";var{buildOptions:r}=EA(),s=AA(),{prettify:n}=_A(),i=qg(),a=class{constructor(o){this.externalEntities={},this.options=r(o)}parse(o,c){if(typeof o!="string")if(o.toString)o=o.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(c){c===!0&&(c={});let m=i.validate(o,c);if(m!==!0)throw Error(`${m.err.msg}:${m.err.line}:${m.err.col}`)}let d=new s(this.options);d.addExternalEntities(this.externalEntities);let l=d.parseXml(o);return this.options.preserveOrder||l===void 0?l:n(l,this.options)}addEntity(o,c){if(c.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(o.indexOf("&")!==-1||o.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(c==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[o]=c}};t.exports=a}}),kA=Ce({"../../node_modules/.pnpm/fast-xml-parser@4.2.5/node_modules/fast-xml-parser/src/xmlbuilder/orderedJs2Xml.js"(e,t){"use strict";var r=`
`;function s(d,l){let m="";return l.format&&l.indentBy.length>0&&(m=r),n(d,l,"",m)}function n(d,l,m,p){let h="",y=!1;for(let v=0;v<d.length;v++){let E=d[v],M=i(E),w="";if(m.length===0?w=M:w=`${m}.${M}`,M===l.textNodeName){let g=E[M];o(w,l)||(g=l.tagValueProcessor(M,g),g=c(g,l)),y&&(h+=p),h+=g,y=!1;continue}else if(M===l.cdataPropName){y&&(h+=p),h+=`<![CDATA[${E[M][0][l.textNodeName]}]]>`,y=!1;continue}else if(M===l.commentPropName){h+=p+`<!--${E[M][0][l.textNodeName]}-->`,y=!0;continue}else if(M[0]==="?"){let g=a(E[":@"],l),J=M==="?xml"?"":p,k=E[M][0][l.textNodeName];k=k.length!==0?" "+k:"",h+=J+`<${M}${k}${g}?>`,y=!0;continue}let I=p;I!==""&&(I+=l.indentBy);let L=a(E[":@"],l),be=p+`<${M}${L}`,re=n(E[M],l,w,I);l.unpairedTags.indexOf(M)!==-1?l.suppressUnpairedNode?h+=be+">":h+=be+"/>":(!re||re.length===0)&&l.suppressEmptyNode?h+=be+"/>":re&&re.endsWith(">")?h+=be+`>${re}${p}</${M}>`:(h+=be+">",re&&p!==""&&(re.includes("/>")||re.includes("</"))?h+=p+l.indentBy+re+p:h+=re,h+=`</${M}>`),y=!0}return h}function i(d){let l=Object.keys(d);for(let m=0;m<l.length;m++){let p=l[m];if(p!==":@")return p}}function a(d,l){let m="";if(d&&!l.ignoreAttributes)for(let p in d){let h=l.attributeValueProcessor(p,d[p]);h=c(h,l),h===!0&&l.suppressBooleanAttributes?m+=` ${p.substr(l.attributeNamePrefix.length)}`:m+=` ${p.substr(l.attributeNamePrefix.length)}="${h}"`}return m}function o(d,l){d=d.substr(0,d.length-l.textNodeName.length-1);let m=d.substr(d.lastIndexOf(".")+1);for(let p in l.stopNodes)if(l.stopNodes[p]===d||l.stopNodes[p]==="*."+m)return!0;return!1}function c(d,l){if(d&&d.length>0&&l.processEntities)for(let m=0;m<l.entities.length;m++){let p=l.entities[m];d=d.replace(p.regex,p.val)}return d}t.exports=s}}),xA=Ce({"../../node_modules/.pnpm/fast-xml-parser@4.2.5/node_modules/fast-xml-parser/src/xmlbuilder/json2xml.js"(e,t){"use strict";var r=kA(),s={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(c,d){return d},attributeValueProcessor:function(c,d){return d},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function n(c){this.options=Object.assign({},s,c),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=o),this.processTextOrObjNode=i,this.options.format?(this.indentate=a,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}n.prototype.build=function(c){return this.options.preserveOrder?r(c,this.options):(Array.isArray(c)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(c={[this.options.arrayNodeName]:c}),this.j2x(c,0).val)},n.prototype.j2x=function(c,d){let l="",m="";for(let p in c)if(!(typeof c[p]>"u"))if(c[p]===null)p[0]==="?"?m+=this.indentate(d)+"<"+p+"?"+this.tagEndChar:m+=this.indentate(d)+"<"+p+"/"+this.tagEndChar;else if(c[p]instanceof Date)m+=this.buildTextValNode(c[p],p,"",d);else if(typeof c[p]!="object"){let h=this.isAttribute(p);if(h)l+=this.buildAttrPairStr(h,""+c[p]);else if(p===this.options.textNodeName){let y=this.options.tagValueProcessor(p,""+c[p]);m+=this.replaceEntitiesValue(y)}else m+=this.buildTextValNode(c[p],p,"",d)}else if(Array.isArray(c[p])){let h=c[p].length,y="";for(let v=0;v<h;v++){let E=c[p][v];typeof E>"u"||(E===null?p[0]==="?"?m+=this.indentate(d)+"<"+p+"?"+this.tagEndChar:m+=this.indentate(d)+"<"+p+"/"+this.tagEndChar:typeof E=="object"?this.options.oneListGroup?y+=this.j2x(E,d+1).val:y+=this.processTextOrObjNode(E,p,d):y+=this.buildTextValNode(E,p,"",d))}this.options.oneListGroup&&(y=this.buildObjectNode(y,p,"",d)),m+=y}else if(this.options.attributesGroupName&&p===this.options.attributesGroupName){let h=Object.keys(c[p]),y=h.length;for(let v=0;v<y;v++)l+=this.buildAttrPairStr(h[v],""+c[p][h[v]])}else m+=this.processTextOrObjNode(c[p],p,d);return{attrStr:l,val:m}},n.prototype.buildAttrPairStr=function(c,d){return d=this.options.attributeValueProcessor(c,""+d),d=this.replaceEntitiesValue(d),this.options.suppressBooleanAttributes&&d==="true"?" "+c:" "+c+'="'+d+'"'};function i(c,d,l){let m=this.j2x(c,l+1);return c[this.options.textNodeName]!==void 0&&Object.keys(c).length===1?this.buildTextValNode(c[this.options.textNodeName],d,m.attrStr,l):this.buildObjectNode(m.val,d,m.attrStr,l)}n.prototype.buildObjectNode=function(c,d,l,m){if(c==="")return d[0]==="?"?this.indentate(m)+"<"+d+l+"?"+this.tagEndChar:this.indentate(m)+"<"+d+l+this.closeTag(d)+this.tagEndChar;{let p="</"+d+this.tagEndChar,h="";return d[0]==="?"&&(h="?",p=""),l&&c.indexOf("<")===-1?this.indentate(m)+"<"+d+l+h+">"+c+p:this.options.commentPropName!==!1&&d===this.options.commentPropName&&h.length===0?this.indentate(m)+`<!--${c}-->`+this.newLine:this.indentate(m)+"<"+d+l+h+this.tagEndChar+c+this.indentate(m)+p}},n.prototype.closeTag=function(c){let d="";return this.options.unpairedTags.indexOf(c)!==-1?this.options.suppressUnpairedNode||(d="/"):this.options.suppressEmptyNode?d="/":d=`></${c}`,d},n.prototype.buildTextValNode=function(c,d,l,m){if(this.options.cdataPropName!==!1&&d===this.options.cdataPropName)return this.indentate(m)+`<![CDATA[${c}]]>`+this.newLine;if(this.options.commentPropName!==!1&&d===this.options.commentPropName)return this.indentate(m)+`<!--${c}-->`+this.newLine;if(d[0]==="?")return this.indentate(m)+"<"+d+l+"?"+this.tagEndChar;{let p=this.options.tagValueProcessor(d,c);return p=this.replaceEntitiesValue(p),p===""?this.indentate(m)+"<"+d+l+this.closeTag(d)+this.tagEndChar:this.indentate(m)+"<"+d+l+">"+p+"</"+d+this.tagEndChar}},n.prototype.replaceEntitiesValue=function(c){if(c&&c.length>0&&this.options.processEntities)for(let d=0;d<this.options.entities.length;d++){let l=this.options.entities[d];c=c.replace(l.regex,l.val)}return c};function a(c){return this.options.indentBy.repeat(c)}function o(c){return c.startsWith(this.options.attributeNamePrefix)?c.substr(this.attrPrefixLen):!1}t.exports=n}}),vn=Ce({"../../node_modules/.pnpm/fast-xml-parser@4.2.5/node_modules/fast-xml-parser/src/fxp.js"(e,t){"use strict";var r=qg(),s=RA(),n=xA();t.exports={XMLParser:s,XMLValidator:r,XMLBuilder:n}}}),TA=Ce({"../../node_modules/.pnpm/obliterator@1.6.1/node_modules/obliterator/iterator.js"(e,t){"use strict";function r(s){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:s}),this.done=!1}r.prototype.next=function(){if(this.done)return{done:!0};var s=this._next();return s.done&&(this.done=!0),s},typeof Symbol<"u"&&(r.prototype[Symbol.iterator]=function(){return this}),r.of=function(){var s=arguments,n=s.length,i=0;return new r(function(){return i>=n?{done:!0}:{done:!1,value:s[i++]}})},r.empty=function(){var s=new r(null);return s.done=!0,s},r.is=function(s){return s instanceof r?!0:typeof s=="object"&&s!==null&&typeof s.next=="function"},t.exports=r}}),$g=Ce({"../../node_modules/.pnpm/obliterator@1.6.1/node_modules/obliterator/foreach.js"(e,t){"use strict";var r=typeof ArrayBuffer<"u",s=typeof Symbol<"u";function n(i,a){var o,c,d,l,m;if(!i)throw new Error("obliterator/forEach: invalid iterable.");if(typeof a!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(i)||r&&ArrayBuffer.isView(i)||typeof i=="string"||i.toString()==="[object Arguments]"){for(d=0,l=i.length;d<l;d++)a(i[d],d);return}if(typeof i.forEach=="function"){i.forEach(a);return}if(s&&Symbol.iterator in i&&typeof i.next!="function"&&(i=i[Symbol.iterator]()),typeof i.next=="function"){for(o=i,d=0;m=o.next(),m.done!==!0;)a(m.value,d),d++;return}for(c in i)i.hasOwnProperty(c)&&a(i[c],c)}n.forEachWithNullKeys=function(i,a){var o,c,d,l,m;if(!i)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof a!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(i)||r&&ArrayBuffer.isView(i)||typeof i=="string"||i.toString()==="[object Arguments]"){for(d=0,l=i.length;d<l;d++)a(i[d],null);return}if(i instanceof Set){i.forEach(function(p){a(p,null)});return}if(typeof i.forEach=="function"){i.forEach(a);return}if(s&&Symbol.iterator in i&&typeof i.next!="function"&&(i=i[Symbol.iterator]()),typeof i.next=="function"){for(o=i,d=0;m=o.next(),m.done!==!0;)a(m.value,null),d++;return}for(c in i)i.hasOwnProperty(c)&&a(i[c],c)},t.exports=n}}),Ug=Ce({"../../node_modules/.pnpm/mnemonist@0.38.3/node_modules/mnemonist/utils/typed-arrays.js"(e){"use strict";var t=Math.pow(2,8)-1,r=Math.pow(2,16)-1,s=Math.pow(2,32)-1,n=Math.pow(2,7)-1,i=Math.pow(2,15)-1,a=Math.pow(2,31)-1;e.getPointerArray=function(c){var d=c-1;return d<=t?Uint8Array:d<=r?Uint16Array:d<=s?Uint32Array:Float64Array},e.getSignedPointerArray=function(c){var d=c-1;return d<=n?Int8Array:d<=i?Int16Array:d<=a?Int32Array:Float64Array},e.getNumberType=function(c){return c===(c|0)?Math.sign(c)===-1?c<=127&&c>=-128?Int8Array:c<=32767&&c>=-32768?Int16Array:Int32Array:c<=255?Uint8Array:c<=65535?Uint16Array:Uint32Array:Float64Array};var o={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(c,d){var l=null,m=0,p,h,y,v,E;for(v=0,E=c.length;v<E;v++)y=d?d(c[v]):c[v],h=e.getNumberType(y),p=o[h.name],p>m&&(m=p,l=h);return l},e.isTypedArray=function(c){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(c)},e.concat=function(){var c=0,d,l,m;for(d=0,m=arguments.length;d<m;d++)c+=arguments[d].length;var p=new arguments[0].constructor(c);for(d=0,l=0;d<m;d++)p.set(arguments[d],l),l+=arguments[d].length;return p},e.indices=function(c){for(var d=e.getPointerArray(c),l=new d(c),m=0;m<c;m++)l[m]=m;return l}}}),NA=Ce({"../../node_modules/.pnpm/mnemonist@0.38.3/node_modules/mnemonist/utils/iterables.js"(e){"use strict";var t=$g(),r=Ug();function s(o){return Array.isArray(o)||r.isTypedArray(o)}function n(o){if(typeof o.length=="number")return o.length;if(typeof o.size=="number")return o.size}function i(o){var c=n(o),d=typeof c=="number"?new Array(c):[],l=0;return t(o,function(m){d[l++]=m}),d}function a(o){var c=n(o),d=typeof c=="number"?r.getPointerArray(c):Array,l=typeof c=="number"?new Array(c):[],m=typeof c=="number"?new d(c):[],p=0;return t(o,function(h){l[p]=h,m[p]=p++}),[l,m]}e.isArrayLike=s,e.guessLength=n,e.toArray=i,e.toArrayWithIndices=a}}),DA=Ce({"../../node_modules/.pnpm/mnemonist@0.38.3/node_modules/mnemonist/lru-cache.js"(e,t){"use strict";var r=TA(),s=$g(),n=Ug(),i=NA();function a(o,c,d){if(arguments.length<2&&(d=o,o=null,c=null),this.capacity=d,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var l=n.getPointerArray(d);this.forward=new l(d),this.backward=new l(d),this.K=typeof o=="function"?new o(d):new Array(d),this.V=typeof c=="function"?new c(d):new Array(d),this.size=0,this.head=0,this.tail=0,this.items={}}a.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}},a.prototype.splayOnTop=function(o){var c=this.head;if(this.head===o)return this;var d=this.backward[o],l=this.forward[o];return this.tail===o?this.tail=d:this.backward[l]=d,this.forward[d]=l,this.backward[c]=o,this.head=o,this.forward[o]=c,this},a.prototype.set=function(o,c){var d=this.items[o];if(typeof d<"u"){this.splayOnTop(d),this.V[d]=c;return}this.size<this.capacity?d=this.size++:(d=this.tail,this.tail=this.backward[d],delete this.items[this.K[d]]),this.items[o]=d,this.K[d]=o,this.V[d]=c,this.forward[d]=this.head,this.backward[this.head]=d,this.head=d},a.prototype.setpop=function(o,c){var d=null,l=null,m=this.items[o];return typeof m<"u"?(this.splayOnTop(m),d=this.V[m],this.V[m]=c,{evicted:!1,key:o,value:d}):(this.size<this.capacity?m=this.size++:(m=this.tail,this.tail=this.backward[m],d=this.V[m],l=this.K[m],delete this.items[this.K[m]]),this.items[o]=m,this.K[m]=o,this.V[m]=c,this.forward[m]=this.head,this.backward[this.head]=m,this.head=m,l?{evicted:!0,key:l,value:d}:null)},a.prototype.has=function(o){return o in this.items},a.prototype.get=function(o){var c=this.items[o];if(!(typeof c>"u"))return this.splayOnTop(c),this.V[c]},a.prototype.peek=function(o){var c=this.items[o];if(!(typeof c>"u"))return this.V[c]},a.prototype.forEach=function(o,c){c=arguments.length>1?c:this;for(var d=0,l=this.size,m=this.head,p=this.K,h=this.V,y=this.forward;d<l;)o.call(c,h[m],p[m],this),m=y[m],d++},a.prototype.keys=function(){var o=0,c=this.size,d=this.head,l=this.K,m=this.forward;return new r(function(){if(o>=c)return{done:!0};var p=l[d];return o++,o<c&&(d=m[d]),{done:!1,value:p}})},a.prototype.values=function(){var o=0,c=this.size,d=this.head,l=this.V,m=this.forward;return new r(function(){if(o>=c)return{done:!0};var p=l[d];return o++,o<c&&(d=m[d]),{done:!1,value:p}})},a.prototype.entries=function(){var o=0,c=this.size,d=this.head,l=this.K,m=this.V,p=this.forward;return new r(function(){if(o>=c)return{done:!0};var h=l[d],y=m[d];return o++,o<c&&(d=p[d]),{done:!1,value:[h,y]}})},typeof Symbol<"u"&&(a.prototype[Symbol.iterator]=a.prototype.entries),a.prototype.inspect=function(){for(var o=new Map,c=this.entries(),d;d=c.next(),!d.done;)o.set(d.value[0],d.value[1]);return Object.defineProperty(o,"constructor",{value:a,enumerable:!1}),o},typeof Symbol<"u"&&(a.prototype[Symbol.for("nodejs.util.inspect.custom")]=a.prototype.inspect),a.from=function(o,c,d,l){if(arguments.length<2){if(l=i.guessLength(o),typeof l!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(l=c,c=null,d=null);var m=new a(c,d,l);return s(o,function(p,h){m.set(h,p)}),m},t.exports=a}}),OA=Ce({"../../node_modules/.pnpm/object-hash@3.0.0/node_modules/object-hash/index.js"(e,t){"use strict";var r=require("crypto");e=t.exports=s;function s(m,p){return p=a(m,p),c(m,p)}e.sha1=function(m){return s(m)},e.keys=function(m){return s(m,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},e.MD5=function(m){return s(m,{algorithm:"md5",encoding:"hex"})},e.keysMD5=function(m){return s(m,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var n=r.getHashes?r.getHashes().slice():["sha1","md5"];n.push("passthrough");var i=["buffer","hex","binary","base64"];function a(m,p){p=p||{};var h={};if(h.algorithm=p.algorithm||"sha1",h.encoding=p.encoding||"hex",h.excludeValues=!!p.excludeValues,h.algorithm=h.algorithm.toLowerCase(),h.encoding=h.encoding.toLowerCase(),h.ignoreUnknown=p.ignoreUnknown===!0,h.respectType=p.respectType!==!1,h.respectFunctionNames=p.respectFunctionNames!==!1,h.respectFunctionProperties=p.respectFunctionProperties!==!1,h.unorderedArrays=p.unorderedArrays===!0,h.unorderedSets=p.unorderedSets!==!1,h.unorderedObjects=p.unorderedObjects!==!1,h.replacer=p.replacer||void 0,h.excludeKeys=p.excludeKeys||void 0,typeof m>"u")throw new Error("Object argument required.");for(var y=0;y<n.length;++y)n[y].toLowerCase()===h.algorithm.toLowerCase()&&(h.algorithm=n[y]);if(n.indexOf(h.algorithm)===-1)throw new Error('Algorithm "'+h.algorithm+'"  not supported. supported values: '+n.join(", "));if(i.indexOf(h.encoding)===-1&&h.algorithm!=="passthrough")throw new Error('Encoding "'+h.encoding+'"  not supported. supported values: '+i.join(", "));return h}function o(m){if(typeof m!="function")return!1;var p=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return p.exec(Function.prototype.toString.call(m))!=null}function c(m,p){var h;p.algorithm!=="passthrough"?h=r.createHash(p.algorithm):h=new l,typeof h.write>"u"&&(h.write=h.update,h.end=h.update);var y=d(p,h);if(y.dispatch(m),h.update||h.end(""),h.digest)return h.digest(p.encoding==="buffer"?void 0:p.encoding);var v=h.read();return p.encoding==="buffer"?v:v.toString(p.encoding)}e.writeToStream=function(m,p,h){return typeof h>"u"&&(h=p,p={}),p=a(m,p),d(p,h).dispatch(m)};function d(m,p,h){h=h||[];var y=function(v){return p.update?p.update(v,"utf8"):p.write(v,"utf8")};return{dispatch:function(v){m.replacer&&(v=m.replacer(v));var E=typeof v;return v===null&&(E="null"),this["_"+E](v)},_object:function(v){var E=/\[object (.*)\]/i,M=Object.prototype.toString.call(v),w=E.exec(M);w?w=w[1]:w="unknown:["+M+"]",w=w.toLowerCase();var I=null;if((I=h.indexOf(v))>=0)return this.dispatch("[CIRCULAR:"+I+"]");if(h.push(v),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(v))return y("buffer:"),y(v);if(w!=="object"&&w!=="function"&&w!=="asyncfunction")if(this["_"+w])this["_"+w](v);else{if(m.ignoreUnknown)return y("["+w+"]");throw new Error('Unknown object type "'+w+'"')}else{var L=Object.keys(v);m.unorderedObjects&&(L=L.sort()),m.respectType!==!1&&!o(v)&&L.splice(0,0,"prototype","__proto__","constructor"),m.excludeKeys&&(L=L.filter(function(re){return!m.excludeKeys(re)})),y("object:"+L.length+":");var be=this;return L.forEach(function(re){be.dispatch(re),y(":"),m.excludeValues||be.dispatch(v[re]),y(",")})}},_array:function(v,E){E=typeof E<"u"?E:m.unorderedArrays!==!1;var M=this;if(y("array:"+v.length+":"),!E||v.length<=1)return v.forEach(function(L){return M.dispatch(L)});var w=[],I=v.map(function(L){var be=new l,re=h.slice(),g=d(m,be,re);return g.dispatch(L),w=w.concat(re.slice(h.length)),be.read().toString()});return h=h.concat(w),I.sort(),this._array(I,!1)},_date:function(v){return y("date:"+v.toJSON())},_symbol:function(v){return y("symbol:"+v.toString())},_error:function(v){return y("error:"+v.toString())},_boolean:function(v){return y("bool:"+v.toString())},_string:function(v){y("string:"+v.length+":"),y(v.toString())},_function:function(v){y("fn:"),o(v)?this.dispatch("[native]"):this.dispatch(v.toString()),m.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(v.name)),m.respectFunctionProperties&&this._object(v)},_number:function(v){return y("number:"+v.toString())},_xml:function(v){return y("xml:"+v.toString())},_null:function(){return y("Null")},_undefined:function(){return y("Undefined")},_regexp:function(v){return y("regex:"+v.toString())},_uint8array:function(v){return y("uint8array:"),this.dispatch(Array.prototype.slice.call(v))},_uint8clampedarray:function(v){return y("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(v))},_int8array:function(v){return y("int8array:"),this.dispatch(Array.prototype.slice.call(v))},_uint16array:function(v){return y("uint16array:"),this.dispatch(Array.prototype.slice.call(v))},_int16array:function(v){return y("int16array:"),this.dispatch(Array.prototype.slice.call(v))},_uint32array:function(v){return y("uint32array:"),this.dispatch(Array.prototype.slice.call(v))},_int32array:function(v){return y("int32array:"),this.dispatch(Array.prototype.slice.call(v))},_float32array:function(v){return y("float32array:"),this.dispatch(Array.prototype.slice.call(v))},_float64array:function(v){return y("float64array:"),this.dispatch(Array.prototype.slice.call(v))},_arraybuffer:function(v){return y("arraybuffer:"),this.dispatch(new Uint8Array(v))},_url:function(v){return y("url:"+v.toString(),"utf8")},_map:function(v){y("map:");var E=Array.from(v);return this._array(E,m.unorderedSets!==!1)},_set:function(v){y("set:");var E=Array.from(v);return this._array(E,m.unorderedSets!==!1)},_file:function(v){return y("file:"),this.dispatch([v.name,v.size,v.type,v.lastModfied])},_blob:function(){if(m.ignoreUnknown)return y("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return y("domwindow")},_bigint:function(v){return y("bigint:"+v.toString())},_process:function(){return y("process")},_timer:function(){return y("timer")},_pipe:function(){return y("pipe")},_tcp:function(){return y("tcp")},_udp:function(){return y("udp")},_tty:function(){return y("tty")},_statwatcher:function(){return y("statwatcher")},_securecontext:function(){return y("securecontext")},_connection:function(){return y("connection")},_zlib:function(){return y("zlib")},_context:function(){return y("context")},_nodescript:function(){return y("nodescript")},_httpparser:function(){return y("httpparser")},_dataview:function(){return y("dataview")},_signal:function(){return y("signal")},_fsevent:function(){return y("fsevent")},_tlswrap:function(){return y("tlswrap")}}}function l(){return{buf:"",write:function(m){this.buf+=m},end:function(m){this.buf+=m},read:function(){return this.buf}}}}}),FA=Ce({"../../node_modules/.pnpm/throttled-queue@2.1.4/node_modules/throttled-queue/dist/throttledQueue.js"(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(s,n,i){i===void 0&&(i=!1),i&&(n=n/s,s=1);var a=[],o=0,c=0,d,l=function(){var m=o+n,p=Date.now();if(p<m){d!==void 0&&clearTimeout(d),d=setTimeout(l,m-p);return}o=p,c=0;for(var h=0,y=a.splice(0,s);h<y.length;h++){var v=y[h];c++,v()}a.length?d=setTimeout(l,n):d=void 0};return function(m){return new Promise(function(p,h){var y=function(){return Promise.resolve().then(m).then(p).catch(h)},v=Date.now();d===void 0&&v-o>n&&(o=v,c=0),c++<s?y():(a.push(y),d===void 0&&(d=setTimeout(l,o+n-v)))})}}t.exports=r,e.default=r}}),jg=Am(),_t=e=>{let t=e.httpHandler;return{setHttpHandler(r){t=r},httpHandler(){return t},updateHttpClientConfig(r,s){t.updateHttpClientConfig(r,s)},httpHandlerConfigs(){return t.httpHandlerConfigs()}}},Rt=e=>({httpHandler:e.httpHandler()}),Cp;(function(e){e.HEADER="header",e.QUERY="query"})(Cp||(Cp={}));var ra;(function(e){e.HTTP="http",e.HTTPS="https"})(ra||(ra={}));var uo;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(uo||(uo={}));var Pp;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Pp||(Pp={}));var Z="__smithy_context",Ap;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Ap||(Ap={}));var Y=class Gg{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new Gg({...this,headers:{...this.headers}});return t.query&&(t.query=MA(t.query)),t}};function MA(e){return Object.keys(e).reduce((t,r)=>{let s=e[r];return{...t,[r]:Array.isArray(s)?[...s]:s}},{})}var xl=class{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let t=e;return typeof t.statusCode=="number"&&typeof t.headers=="object"}},LA=e=>t=>async r=>{if(!Y.isInstance(r.request))return t(r);let{request:s}=r,{handlerProtocol:n=""}=e.requestHandler.metadata||{};if(n.indexOf("h2")>=0&&!s.headers[":authority"])delete s.headers.host,s.headers[":authority"]="";else if(!s.headers.host){let i=s.hostname;s.port!=null&&(i+=`:${s.port}`),s.headers.host=i}return t(r)},BA={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},We=e=>({applyToStack:t=>{t.add(LA(e),BA)}}),zA=()=>(e,t)=>async r=>{try{let s=await e(r),{clientName:n,commandName:i,logger:a,dynamoDbDocumentClientOptions:o={}}=t,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:d}=o,l=c??t.inputFilterSensitiveLog,m=d??t.outputFilterSensitiveLog,{$metadata:p,...h}=s.output;return a?.info?.({clientName:n,commandName:i,input:l(r.input),output:m(h),metadata:p}),s}catch(s){let{clientName:n,commandName:i,logger:a,dynamoDbDocumentClientOptions:o={}}=t,{overrideInputFilterSensitiveLog:c}=o,d=c??t.inputFilterSensitiveLog;throw a?.error?.({clientName:n,commandName:i,input:d(r.input),error:s,metadata:s.$metadata}),s}},qA={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Ke=e=>({applyToStack:t=>{t.add(zA(),qA)}}),_p="X-Amzn-Trace-Id",$A="AWS_LAMBDA_FUNCTION_NAME",UA="_X_AMZN_TRACE_ID",jA=e=>t=>async r=>{let{request:s}=r;if(!Y.isInstance(s)||e.runtime!=="node"||s.headers.hasOwnProperty(_p))return t(r);let n=process.env[$A],i=process.env[UA],a=o=>typeof o=="string"&&o.length>0;return a(n)&&a(i)&&(s.headers[_p]=i),t({...r,request:s})},GA={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Qe=e=>({applyToStack:t=>{t.add(jA(e),GA)}}),ei=class Vg extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,Vg.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},ve=class Hg extends ei{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,Hg.prototype)}},pn=class Wg extends ei{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,Wg.prototype)}},Kg=(...e)=>async()=>{if(e.length===0)throw new ei("No providers in chain");let t;for(let r of e)try{return await r()}catch(s){if(t=s,s?.tryNextLink)continue;throw s}throw t},VA=e=>()=>Promise.resolve(e),Io=(e,t,r)=>{let s,n,i,a=!1,o=async()=>{n||(n=e());try{s=await n,i=!0,a=!1}finally{n=void 0}return s};return t===void 0?async c=>((!i||c?.forceRefresh)&&(s=await o()),s):async c=>((!i||c?.forceRefresh)&&(s=await o()),a?s:r&&!r(s)?(a=!0,s):(t(s)&&await o(),s))},HA=ke(Rl()),Qg={},Vd={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Qg[e]=t,Vd[t]=e}function WA(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let s=e.slice(r,r+2).toLowerCase();if(s in Vd)t[r/2]=Vd[s];else throw new Error(`Cannot decode unrecognized sequence ${s} as hexadecimal`)}return t}function yr(e){let t="";for(let r=0;r<e.byteLength;r++)t+=Qg[e[r]];return t}var Nc=class Jg{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let s=7,n=Math.abs(Math.round(t));s>-1&&n>0;s--,n/=256)r[s]=n;return t<0&&Rp(r),new Jg(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Rp(t),parseInt(yr(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Rp(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var Xg=class{constructor(e,t){this.toUtf8=e,this.fromUtf8=t}format(e){let t=[];for(let n of Object.keys(e)){let i=this.fromUtf8(n);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[n]))}let r=new Uint8Array(t.reduce((n,i)=>n+i.byteLength,0)),s=0;for(let n of t)r.set(n,s),s+=n.byteLength;return r}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,e.value,!1),new Uint8Array(r.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":let n=new DataView(new ArrayBuffer(3+e.value.byteLength));n.setUint8(0,6),n.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(n.buffer);return i.set(e.value,3),i;case"string":let a=this.fromUtf8(e.value),o=new DataView(new ArrayBuffer(3+a.byteLength));o.setUint8(0,7),o.setUint16(1,a.byteLength,!1);let c=new Uint8Array(o.buffer);return c.set(a,3),c;case"timestamp":let d=new Uint8Array(9);return d[0]=8,d.set(Nc.fromNumber(e.value.valueOf()).bytes,1),d;case"uuid":if(!r_.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let l=new Uint8Array(17);return l[0]=9,l.set(WA(e.value.replace(/\-/g,"")),1),l}}parse(e){let t={},r=0;for(;r<e.byteLength;){let s=e.getUint8(r++),n=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,s));switch(r+=s,e.getUint8(r++)){case 0:t[n]={type:xp,value:!0};break;case 1:t[n]={type:xp,value:!1};break;case 2:t[n]={type:KA,value:e.getInt8(r++)};break;case 3:t[n]={type:QA,value:e.getInt16(r,!1)},r+=2;break;case 4:t[n]={type:JA,value:e.getInt32(r,!1)},r+=4;break;case 5:t[n]={type:XA,value:new Nc(new Uint8Array(e.buffer,e.byteOffset+r,8))},r+=8;break;case 6:let i=e.getUint16(r,!1);r+=2,t[n]={type:YA,value:new Uint8Array(e.buffer,e.byteOffset+r,i)},r+=i;break;case 7:let a=e.getUint16(r,!1);r+=2,t[n]={type:ZA,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+r,a))},r+=a;break;case 8:t[n]={type:e_,value:new Date(new Nc(new Uint8Array(e.buffer,e.byteOffset+r,8)).valueOf())},r+=8;break;case 9:let o=new Uint8Array(e.buffer,e.byteOffset+r,16);r+=16,t[n]={type:t_,value:`${yr(o.subarray(0,4))}-${yr(o.subarray(4,6))}-${yr(o.subarray(6,8))}-${yr(o.subarray(8,10))}-${yr(o.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}},kp;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(kp||(kp={}));var xp="boolean",KA="byte",QA="short",JA="integer",XA="long",YA="binary",ZA="string",e_="timestamp",t_="uuid",r_=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,s_=ke(Rl()),Yg=4,Vs=Yg*2,mn=4,n_=Vs+mn*2;function i_({byteLength:e,byteOffset:t,buffer:r}){if(e<n_)throw new Error("Provided message too short to accommodate event stream message overhead");let s=new DataView(r,t,e),n=s.getUint32(0,!1);if(e!==n)throw new Error("Reported message length does not match received message length");let i=s.getUint32(Yg,!1),a=s.getUint32(Vs,!1),o=s.getUint32(e-mn,!1),c=new s_.Crc32().update(new Uint8Array(r,t,Vs));if(a!==c.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+Vs,e-(Vs+mn))),o!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${o}`);return{headers:new DataView(r,t+Vs+mn,i),body:new Uint8Array(r,t+Vs+mn+i,n-i-(Vs+mn+mn))}}var a_=class{constructor(e,t){this.headerMarshaller=new Xg(e,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage(){return e},isEndOfStream(){return t}}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let t=this.isEndOfStream;return{getMessages(){return e},isEndOfStream(){return t}}}encode({headers:e,body:t}){let r=this.headerMarshaller.format(e),s=r.byteLength+t.byteLength+16,n=new Uint8Array(s),i=new DataView(n.buffer,n.byteOffset,n.byteLength),a=new HA.Crc32;return i.setUint32(0,s,!1),i.setUint32(4,r.byteLength,!1),i.setUint32(8,a.update(n.subarray(0,8)).digest(),!1),n.set(r,12),n.set(t,r.byteLength+12),i.setUint32(s-4,a.update(n.subarray(8,s-4)).digest(),!1),n}decode(e){let{headers:t,body:r}=i_(e);return{headers:this.headerMarshaller.parse(t),body:r}}formatHeaders(e){return this.headerMarshaller.format(e)}},o_=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.decoder.decode(e)}},c_=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}},d_=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream){let t=await this.options.deserializer(e);t!==void 0&&(yield t)}}},l_=class{constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.serializer(e)}},Nr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t},Zg=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",Hd=require("buffer"),sa=(e,t=0,r=e.byteLength-t)=>{if(!Zg(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Hd.Buffer.from(e,t,r)},Tl=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Hd.Buffer.from(e,t):Hd.Buffer.from(e)},De=e=>{let t=Tl(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},fn=e=>typeof e=="string"?De(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Le=e=>sa(e.buffer,e.byteOffset,e.byteLength).toString("utf8"),u_="X-Amz-Algorithm",m_="X-Amz-Credential",eb="X-Amz-Date",p_="X-Amz-SignedHeaders",h_="X-Amz-Expires",tb="X-Amz-Signature",rb="X-Amz-Security-Token",sb="authorization",nb=eb.toLowerCase(),f_="date",y_=[sb,nb,f_],v_=tb.toLowerCase(),Wd="x-amz-content-sha256",g_=rb.toLowerCase(),b_={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},w_=/^proxy-/,S_=/^sec-/,Dc="AWS4-HMAC-SHA256",E_="AWS4-HMAC-SHA256-PAYLOAD",I_="UNSIGNED-PAYLOAD",C_=50,ib="aws4_request",P_=60*60*24*7,Ka={},Oc=[],Fc=(e,t,r)=>`${e}/${t}/${r}/${ib}`,A_=async(e,t,r,s,n)=>{let i=await Tp(e,t.secretAccessKey,t.accessKeyId),a=`${r}:${s}:${n}:${yr(i)}:${t.sessionToken}`;if(a in Ka)return Ka[a];for(Oc.push(a);Oc.length>C_;)delete Ka[Oc.shift()];let o=`AWS4${t.secretAccessKey}`;for(let c of[r,s,n,ib])o=await Tp(e,o,c);return Ka[a]=o},Tp=(e,t,r)=>{let s=new e(t);return s.update(fn(r)),s.digest()},Np=({headers:e},t,r)=>{let s={};for(let n of Object.keys(e).sort()){if(e[n]==null)continue;let i=n.toLowerCase();(i in b_||t?.has(i)||w_.test(i)||S_.test(i))&&(!r||r&&!r.has(i))||(s[i]=e[n].trim().replace(/\s+/g," "))}return s},hn=e=>encodeURIComponent(e).replace(/[!'()*]/g,__),__=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,R_=({query:e={}})=>{let t=[],r={};for(let s of Object.keys(e).sort()){if(s.toLowerCase()===v_)continue;t.push(s);let n=e[s];typeof n=="string"?r[s]=`${hn(s)}=${hn(n)}`:Array.isArray(n)&&(r[s]=n.slice(0).reduce((i,a)=>i.concat([`${hn(s)}=${hn(a)}`]),[]).sort().join("&"))}return t.map(s=>r[s]).filter(s=>s).join("&")},Mc=async({headers:e,body:t},r)=>{for(let s of Object.keys(e))if(s.toLowerCase()===Wd)return e[s];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Zg(t)){let s=new r;return s.update(fn(t)),yr(await s.digest())}return I_},k_=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},ab=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?x_(t):void 0}),x_=e=>Object.keys(e).reduce((t,r)=>{let s=e[r];return{...t,[r]:Array.isArray(s)?[...s]:s}},{}),T_=(e,t={})=>{let{headers:r,query:s={}}=typeof e.clone=="function"?e.clone():ab(e);for(let n of Object.keys(r)){let i=n.toLowerCase();i.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(i)&&(s[n]=r[n],delete r[n])}return{...e,headers:r,query:s}},Dp=e=>{e=typeof e.clone=="function"?e.clone():ab(e);for(let t of Object.keys(e.headers))y_.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},N_=e=>D_(e).toISOString().replace(/\.\d{3}Z$/,"Z"),D_=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Kd=class{constructor({applyChecksum:e,credentials:t,region:r,service:s,sha256:n,uriEscapePath:i=!0}){this.headerMarshaller=new Xg(Le,De),this.service=s,this.sha256=n,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=Nr(r),this.credentialProvider=Nr(t)}async presign(e,t={}){let{signingDate:r=new Date,expiresIn:s=3600,unsignableHeaders:n,unhoistableHeaders:i,signableHeaders:a,signingRegion:o,signingService:c}=t,d=await this.credentialProvider();this.validateResolvedCredentials(d);let l=o??await this.regionProvider(),{longDate:m,shortDate:p}=Qa(r);if(s>P_)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let h=Fc(p,l,c??this.service),y=T_(Dp(e),{unhoistableHeaders:i});d.sessionToken&&(y.query[rb]=d.sessionToken),y.query[u_]=Dc,y.query[m_]=`${d.accessKeyId}/${h}`,y.query[eb]=m,y.query[h_]=s.toString(10);let v=Np(y,n,a);return y.query[p_]=Op(v),y.query[tb]=await this.getSignature(m,h,this.getSigningKey(d,l,p,c),this.createCanonicalRequest(y,v,await Mc(e,this.sha256))),y}async sign(e,t){return typeof e=="string"?this.signString(e,t):e.headers&&e.payload?this.signEvent(e,t):e.message?this.signMessage(e,t):this.signRequest(e,t)}async signEvent({headers:e,payload:t},{signingDate:r=new Date,priorSignature:s,signingRegion:n,signingService:i}){let a=n??await this.regionProvider(),{shortDate:o,longDate:c}=Qa(r),d=Fc(o,a,i??this.service),l=await Mc({headers:{},body:t},this.sha256),m=new this.sha256;m.update(e);let p=yr(await m.digest()),h=[E_,c,d,s,p,l].join(`
`);return this.signString(h,{signingDate:r,signingRegion:a,signingService:i})}async signMessage(e,{signingDate:t=new Date,signingRegion:r,signingService:s}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:t,signingRegion:r,signingService:s,priorSignature:e.priorSignature}).then(i=>({message:e.message,signature:i}))}async signString(e,{signingDate:t=new Date,signingRegion:r,signingService:s}={}){let n=await this.credentialProvider();this.validateResolvedCredentials(n);let i=r??await this.regionProvider(),{shortDate:a}=Qa(t),o=new this.sha256(await this.getSigningKey(n,i,a,s));return o.update(fn(e)),yr(await o.digest())}async signRequest(e,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:s,signingRegion:n,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let o=n??await this.regionProvider(),c=Dp(e),{longDate:d,shortDate:l}=Qa(t),m=Fc(l,o,i??this.service);c.headers[nb]=d,a.sessionToken&&(c.headers[g_]=a.sessionToken);let p=await Mc(c,this.sha256);!k_(Wd,c.headers)&&this.applyChecksum&&(c.headers[Wd]=p);let h=Np(c,s,r),y=await this.getSignature(d,m,this.getSigningKey(a,o,l,i),this.createCanonicalRequest(c,h,p));return c.headers[sb]=`${Dc} Credential=${a.accessKeyId}/${m}, SignedHeaders=${Op(h)}, Signature=${y}`,c}createCanonicalRequest(e,t,r){let s=Object.keys(t).sort();return`${e.method}
${this.getCanonicalPath(e)}
${R_(e)}
${s.map(n=>`${n}:${t[n]}`).join(`
`)}

${s.join(";")}
${r}`}async createStringToSign(e,t,r){let s=new this.sha256;s.update(fn(r));let n=await s.digest();return`${Dc}
${e}
${t}
${yr(n)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let t=[];for(let n of e.split("/"))n?.length!==0&&n!=="."&&(n===".."?t.pop():t.push(n));let r=`${e?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(r).replace(/%2F/g,"/")}return e}async getSignature(e,t,r,s){let n=await this.createStringToSign(e,t,s),i=new this.sha256(await r);return i.update(fn(n)),yr(await i.digest())}getSigningKey(e,t,r,s){return A_(this.sha256,e,r,t,s||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},Qa=e=>{let t=N_(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},Op=e=>Object.keys(e).sort().join(";"),O_=3e5,zt=e=>{let t=e.credentials?F_(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:s=e.systemClockOffset||0,sha256:n}=e,i;return e.signer?i=Nr(e.signer):e.regionInfoProvider?i=()=>Nr(e.region)().then(async a=>[await e.regionInfoProvider(a,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},a]).then(([a,o])=>{let{signingRegion:c,signingService:d}=a;e.signingRegion=e.signingRegion||c||o,e.signingName=e.signingName||d||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:n,uriEscapePath:r},m=e.signerConstructor||Kd;return new m(l)}):i=async a=>{a=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Nr(e.region)(),properties:{}},a);let o=a.signingRegion,c=a.signingName;e.signingRegion=e.signingRegion||o,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:n,uriEscapePath:r},l=e.signerConstructor||Kd;return new l(d)},{...e,systemClockOffset:s,signingEscapePath:r,credentials:t,signer:i}},F_=e=>typeof e=="function"?Io(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<O_,t=>t.expiration!==void 0):Nr(e),ob=e=>new Date(Date.now()+e),M_=(e,t)=>Math.abs(ob(t).getTime()-e)>=3e5,Fp=(e,t)=>{let r=Date.parse(e);return M_(r,t)?r-Date.now():t},L_=e=>(t,r)=>async function(s){if(!Y.isInstance(s.request))return t(s);let n=r.endpointV2?.properties?.authSchemes?.[0],i=n?.name==="sigv4a"?n?.signingRegionSet?.join(","):void 0,a=await e.signer(n),o=await t({...s,request:await a.sign(s.request,{signingDate:ob(e.systemClockOffset),signingRegion:i||r.signing_region,signingService:r.signing_service})}).catch(d=>{let l=d.ServerTime??Mp(d.$response);throw l&&(e.systemClockOffset=Fp(l,e.systemClockOffset)),d}),c=Mp(o.response);return c&&(e.systemClockOffset=Fp(c,e.systemClockOffset)),o},Mp=e=>xl.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,B_={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Je=e=>({applyToStack:t=>{t.addRelativeTo(L_(e),B_)}});function Xe(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}var cb={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],version:"1.1"},db=cb,lb="",z_=e=>{let{partitions:t}=db;for(let s of t){let{regions:n,outputs:i}=s;for(let[a,o]of Object.entries(n))if(a===e)return{...i,...o}}for(let s of t){let{regionRegex:n,outputs:i}=s;if(new RegExp(n).test(e))return{...i}}let r=t.find(s=>s.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},ub=(e,t="")=>{db=e,lb=t},q_=()=>{ub(cb,"")},mb=()=>lb,$_=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),pb=e=>$_.test(e)||e.startsWith("[")&&e.endsWith("]"),na="endpoints";function Ws(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Ws(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Ws).join(", ")})`:JSON.stringify(e,null,2)}var or=class extends Error{constructor(e){super(e),this.name="EndpointError"}},hb={};Eo(hb,{aws:()=>fb,booleanEquals:()=>G_,getAttr:()=>vb,isSet:()=>H_,isValidHostLabel:()=>Nl,not:()=>W_,parseURL:()=>K_,stringEquals:()=>Q_,substring:()=>J_,uriEncode:()=>X_});var fb={};Eo(fb,{getUserAgentPrefix:()=>mb,isVirtualHostableS3Bucket:()=>yb,parseArn:()=>j_,partition:()=>z_,setPartitionInfo:()=>ub,useDefaultPartitionInfo:()=>q_});var U_=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Nl=(e,t=!1)=>{if(!t)return U_.test(e);let r=e.split(".");for(let s of r)if(!Nl(s))return!1;return!0},yb=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!yb(r))return!1;return!0}return!(!Nl(e)||e.length<3||e.length>63||e!==e.toLowerCase()||pb(e))},j_=e=>{let t=e.split(":");if(t.length<6)return null;let[r,s,n,i,a,...o]=t;return r!=="arn"||s===""||n===""||o[0]===""?null:{partition:s,service:n,region:i,accountId:a,resourceId:o[0].includes("/")?o[0].split("/"):o}},G_=(e,t)=>e===t,V_=e=>{let t=e.split("."),r=[];for(let s of t){let n=s.indexOf("[");if(n!==-1){if(s.indexOf("]")!==s.length-1)throw new or(`Path: '${e}' does not end with ']'`);let i=s.slice(n+1,-1);if(Number.isNaN(parseInt(i)))throw new or(`Invalid array index: '${i}' in path: '${e}'`);n!==0&&r.push(s.slice(0,n)),r.push(i)}else r.push(s)}return r},vb=(e,t)=>V_(t).reduce((r,s)=>{if(typeof r!="object")throw new or(`Index '${s}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(s)]:r[s]},e),H_=e=>e!=null,W_=e=>!e,Lp;(function(e){e.AAAA="AAAA",e.A="A"})(Lp||(Lp={}));var Lc={[ra.HTTP]:80,[ra.HTTPS]:443},K_=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:p,port:h,protocol:y="",path:v="",query:E={}}=e,M=new URL(`${y}//${p}${h?`:${h}`:""}${v}`);return M.search=Object.entries(E).map(([w,I])=>`${w}=${I}`).join("&"),M}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:s,hostname:n,pathname:i,protocol:a,search:o}=t;if(o)return null;let c=a.slice(0,-1);if(!Object.values(ra).includes(c))return null;let d=pb(n),l=r.includes(`${s}:${Lc[c]}`)||typeof e=="string"&&e.includes(`${s}:${Lc[c]}`),m=`${s}${l?`:${Lc[c]}`:""}`;return{scheme:c,authority:m,path:i,normalizedPath:i.endsWith("/")?i:`${i}/`,isIp:d}},Q_=(e,t)=>e===t,J_=(e,t,r,s)=>t>=r||e.length<r?null:s?e.substring(e.length-r,e.length-t):e.substring(t,r),X_=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),gb=(e,t)=>{let r=[],s={...t.endpointParams,...t.referenceRecord},n=0;for(;n<e.length;){let i=e.indexOf("{",n);if(i===-1){r.push(e.slice(n));break}r.push(e.slice(n,i));let a=e.indexOf("}",i);if(a===-1){r.push(e.slice(i));break}e[i+1]==="{"&&e[a+1]==="}"&&(r.push(e.slice(i+1,a)),n=a+2);let o=e.substring(i+1,a);if(o.includes("#")){let[c,d]=o.split("#");r.push(vb(s[c],d))}else r.push(s[o]);n=a+1}return r.join("")},Y_=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Co=(e,t,r)=>{if(typeof e=="string")return gb(e,r);if(e.fn)return bb(e,r);if(e.ref)return Y_(e,r);throw new or(`'${t}': ${String(e)} is not a string, function or reference.`)},bb=({fn:e,argv:t},r)=>{let s=t.map(n=>["boolean","number"].includes(typeof n)?n:Co(n,"arg",r));return e.split(".").reduce((n,i)=>n[i],hb)(...s)},Z_=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new or(`'${e}' is already defined in Reference Record.`);let s=bb(t,r);return r.logger?.debug?.(na,`evaluateCondition: ${Ws(t)} = ${Ws(s)}`),{result:s===""?!0:!!s,...e!=null&&{toAssign:{name:e,value:s}}}},Dl=(e=[],t)=>{let r={};for(let s of e){let{result:n,toAssign:i}=Z_(s,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!n)return{result:n};i&&(r[i.name]=i.value,t.logger?.debug?.(na,`assign: ${i.name} := ${Ws(i.value)}`))}return{result:!0,referenceRecord:r}},eR=(e,t)=>Object.entries(e).reduce((r,[s,n])=>({...r,[s]:n.map(i=>{let a=Co(i,"Header value entry",t);if(typeof a!="string")throw new or(`Header '${s}' value '${a}' is not a string`);return a})}),{}),wb=(e,t)=>{if(Array.isArray(e))return e.map(r=>wb(r,t));switch(typeof e){case"string":return gb(e,t);case"object":if(e===null)throw new or(`Unexpected endpoint property: ${e}`);return Sb(e,t);case"boolean":return e;default:throw new or(`Unexpected endpoint property type: ${typeof e}`)}},Sb=(e,t)=>Object.entries(e).reduce((r,[s,n])=>({...r,[s]:wb(n,t)}),{}),tR=(e,t)=>{let r=Co(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(s){throw console.error(`Failed to construct URL with ${r}`,s),s}throw new or(`Endpoint URL must be a string, got ${typeof r}`)},rR=(e,t)=>{let{conditions:r,endpoint:s}=e,{result:n,referenceRecord:i}=Dl(r,t);if(!n)return;let a={...t,referenceRecord:{...t.referenceRecord,...i}},{url:o,properties:c,headers:d}=s;return t.logger?.debug?.(na,`Resolving endpoint from template: ${Ws(s)}`),{...d!=null&&{headers:eR(d,a)},...c!=null&&{properties:Sb(c,a)},url:tR(o,a)}},sR=(e,t)=>{let{conditions:r,error:s}=e,{result:n,referenceRecord:i}=Dl(r,t);if(n)throw new or(Co(s,"Error",{...t,referenceRecord:{...t.referenceRecord,...i}}))},nR=(e,t)=>{let{conditions:r,rules:s}=e,{result:n,referenceRecord:i}=Dl(r,t);if(n)return Eb(s,{...t,referenceRecord:{...t.referenceRecord,...i}})},Eb=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let s=rR(r,t);if(s)return s}else if(r.type==="error")sR(r,t);else if(r.type==="tree"){let s=nR(r,t);if(s)return s}else throw new or(`Unknown endpoint rule: ${r}`);throw new or("Rules evaluation failed")},Ye=(e,t)=>{let{endpointParams:r,logger:s}=t,{parameters:n,rules:i}=e;t.logger?.debug?.(`${na} Initial EndpointParams: ${Ws(r)}`);let a=Object.entries(n).filter(([,d])=>d.default!=null).map(([d,l])=>[d,l.default]);if(a.length>0)for(let[d,l]of a)r[d]=r[d]??l;let o=Object.entries(n).filter(([,d])=>d.required).map(([d])=>d);for(let d of o)if(r[d]==null)throw new or(`Missing required parameter: '${d}'`);let c=Eb(i,{endpointParams:r,logger:s,referenceRecord:{}});if(t.endpointParams?.Endpoint)try{let d=new URL(t.endpointParams.Endpoint),{protocol:l,port:m}=d;c.url.protocol=l,c.url.port=m}catch{}return t.logger?.debug?.(`${na} Resolved endpoint: ${Ws(c)}`),c},Bp="user-agent",Bc="x-amz-user-agent",zp=" ",zc="/",iR=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,aR=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,qp="-",oR=e=>(t,r)=>async s=>{let{request:n}=s;if(!Y.isInstance(n))return t(s);let{headers:i}=n,a=r?.userAgent?.map(qc)||[],o=(await e.defaultUserAgentProvider()).map(qc),c=e?.customUserAgent?.map(qc)||[],d=mb(),l=(d?[d]:[]).concat([...o,...a,...c]).join(zp),m=[...o.filter(p=>p.startsWith("aws-sdk-")),...c].join(zp);return e.runtime!=="browser"?(m&&(i[Bc]=i[Bc]?`${i[Bp]} ${m}`:m),i[Bp]=l):i[Bc]=l,t({...s,request:n})},qc=e=>{let t=e[0].split(zc).map(a=>a.replace(iR,qp)).join(zc),r=e[1]?.replace(aR,qp),s=t.indexOf(zc),n=t.substring(0,s),i=t.substring(s+1);return n==="api"&&(i=i.toLowerCase()),[n,i,r].filter(a=>a&&a.length>0).reduce((a,o,c)=>{switch(c){case 0:return o;case 1:return`${a}/${o}`;default:return`${a}#${o}`}},"")},cR={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Ze=e=>({applyToStack:t=>{t.add(oR(e),cR)}}),Ks;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Ks||(Ks={}));var ri=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},dR="AWS_USE_DUALSTACK_ENDPOINT",lR="use_dualstack_endpoint",et={environmentVariableSelector:e=>ri(e,dR,Ks.ENV),configFileSelector:e=>ri(e,lR,Ks.CONFIG),default:!1},uR="AWS_USE_FIPS_ENDPOINT",mR="use_fips_endpoint",tt={environmentVariableSelector:e=>ri(e,uR,Ks.ENV),configFileSelector:e=>ri(e,mR,Ks.CONFIG),default:!1},pR="AWS_REGION",hR="region",qe={environmentVariableSelector:e=>e[pR],configFileSelector:e=>e[hR],default:()=>{throw new Error("Region is missing")}},rt={preferredFile:"credentials"},Ib=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),$p=e=>Ib(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,st=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return $p(t);let s=await t();return $p(s)},useFipsEndpoint:async()=>{let s=typeof t=="string"?t:await t();return Ib(s)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}},Up="content-length";function fR(e){return t=>async r=>{let s=r.request;if(Y.isInstance(s)){let{body:n,headers:i}=s;if(n&&Object.keys(i).map(a=>a.toLowerCase()).indexOf(Up)===-1)try{let a=e(n);s.headers={...s.headers,[Up]:String(a)}}catch{}}return t({...r,request:s})}}var yR={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},nt=e=>({applyToStack:t=>{t.add(fR(e.bodyLengthChecker),yR)}}),vR=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),ER(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!SR(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},gR=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,bR=/(\d+\.){3}\d+/,wR=/\.\./,SR=e=>gR.test(e)&&!bR.test(e)&&!wR.test(e),ER=e=>{let[t,r,s,n,i,a]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,c=[t,r,s,i,a].filter(Boolean).length===5;if(o&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!s&&!!i&&!!a},IR=(e,t,r)=>{let s=async()=>{let n=r[e]??r[t];return typeof n=="function"?n():n};return e==="endpoint"||t==="endpoint"?async()=>{let n=await s();if(n&&typeof n=="object"){if("url"in n)return n.url.href;if("hostname"in n){let{protocol:i,hostname:a,port:o,path:c}=n;return`${i}//${a}${o?":"+o:""}${c}`}}return n}:s},CR=async(e,t,r,s)=>{let n=await PR(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(n,s)},PR=async(e,t,r)=>{let s={},n=t?.getEndpointParameterInstructions?.()||{};for(let[i,a]of Object.entries(n))switch(a.type){case"staticContextParams":s[i]=a.value;break;case"contextParams":s[i]=e[a.name];break;case"clientContextParams":case"builtInParams":s[i]=await IR(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(n).length===0&&Object.assign(s,r),String(r.serviceId).toLowerCase()==="s3"&&await vR(s),s};function AR(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[s,n=null]=r.split("=");s=decodeURIComponent(s),n&&(n=decodeURIComponent(n)),s in t?Array.isArray(t[s])?t[s].push(n):t[s]=[t[s],n]:t[s]=n}return t}var Re=e=>{if(typeof e=="string")return Re(new URL(e));let{hostname:t,pathname:r,port:s,protocol:n,search:i}=e,a;return i&&(a=AR(i)),{hostname:t,port:s?parseInt(s):void 0,protocol:n,path:r,query:a}},_R=e=>typeof e=="object"?"url"in e?Re(e.url):e:Re(e),RR=({config:e,instructions:t})=>(r,s)=>async n=>{let i=await CR(n.input,{getEndpointParameterInstructions(){return t}},{...e},s);s.endpointV2=i,s.authSchemes=i.properties?.authSchemes;let a=s.authSchemes?.[0];return a&&(s.signing_region=a.signingRegion,s.signing_service=a.signingName),r({...n})},kR=(e,t)=>(r,s)=>async n=>{let{response:i}=await r(n);try{let a=await t(i,e);return{response:i,output:a}}catch(a){if(Object.defineProperty(a,"$response",{value:i}),!("$metadata"in a)){let o="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";a.message+=`
  `+o}throw a}},xR=(e,t)=>(r,s)=>async n=>{let i=s.endpointV2?.url&&e.urlParser?async()=>e.urlParser(s.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(n.input,{...e,endpoint:i});return r({...n,request:a})},TR={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Cb={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function W(e,t,r){return{applyToStack:s=>{s.add(kR(e,r),TR),s.add(xR(e,t),Cb)}}}var NR={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Cb.name},K=(e,t)=>({applyToStack:r=>{r.addRelativeTo(RR({config:e,instructions:t}),NR)}}),it=e=>{let t=e.tls??!0,{endpoint:r}=e,s=r!=null?async()=>_R(await Nr(r)()):void 0;return{...e,endpoint:s,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:Nr(e.useDualstackEndpoint??!1),useFipsEndpoint:Nr(e.useFipsEndpoint??!1)}},si;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(si||(si={}));var mo=3,$e=si.STANDARD,DR=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],OR=["TimeoutError","RequestTimeout","RequestTimeoutException"],FR=[500,502,503,504],MR=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Pb=e=>e.$metadata?.httpStatusCode===429||DR.includes(e.name)||e.$retryable?.throttling==!0,Ab=e=>OR.includes(e.name)||MR.includes(e?.code||"")||FR.includes(e.$metadata?.httpStatusCode||0),LR=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!Ab(e)}return!1},BR=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let t=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>setTimeout(r,t))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}updateClientSendingRate(e){let t;if(this.updateMeasuredRate(),Pb(e)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),t=Math.floor(e*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){let r=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(e){return parseFloat(e.toFixed(8))}},Qd=100,_b=20*1e3,zR=500,jp=500,qR=5,$R=10,UR=1,jR="amz-sdk-invocation-id",GR="amz-sdk-request",VR=()=>{let e=Qd;return{computeNextBackoffDelay:s=>Math.floor(Math.min(_b,Math.random()*2**s*e)),setDelayBase:s=>{e=s}}},Gp=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(_b,e),getRetryCost:()=>r}),Rb=class{constructor(e){this.maxAttempts=e,this.mode=si.STANDARD,this.capacity=jp,this.retryBackoffStrategy=VR(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return Gp({retryDelay:Qd,retryCount:0})}async refreshRetryTokenForRetry(e,t){let r=await this.getMaxAttempts();if(this.shouldRetry(e,t,r)){let s=t.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?zR:Qd);let n=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,n):n,a=this.getCapacityCost(s);return this.capacity-=a,Gp({retryDelay:i,retryCount:e.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(jp,this.capacity+(e.getRetryCost()??UR))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${mo}`),mo}}shouldRetry(e,t,r){return e.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(e){return e==="TRANSIENT"?$R:qR}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}},HR=class{constructor(e,t){this.maxAttemptsProvider=e,this.mode=si.ADAPTIVE;let{rateLimiter:r}=t??{};this.rateLimiter=r??new BR,this.standardRetryStrategy=new Rb(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(e,t)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}},WR=ke(require("crypto")),no=new Uint8Array(256),Ja=no.length;function KR(){return Ja>no.length-16&&(WR.default.randomFillSync(no),Ja=0),no.slice(Ja,Ja+=16)}var QR=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function JR(e){return typeof e=="string"&&QR.test(e)}var XR=JR,Ot=[];for(let e=0;e<256;++e)Ot.push((e+256).toString(16).substr(1));function YR(e,t=0){let r=(Ot[e[t+0]]+Ot[e[t+1]]+Ot[e[t+2]]+Ot[e[t+3]]+"-"+Ot[e[t+4]]+Ot[e[t+5]]+"-"+Ot[e[t+6]]+Ot[e[t+7]]+"-"+Ot[e[t+8]]+Ot[e[t+9]]+"-"+Ot[e[t+10]]+Ot[e[t+11]]+Ot[e[t+12]]+Ot[e[t+13]]+Ot[e[t+14]]+Ot[e[t+15]]).toLowerCase();if(!XR(r))throw TypeError("Stringified UUID is invalid");return r}var ZR=YR;function ek(e,t,r){e=e||{};let s=e.random||(e.rng||KR)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){r=r||0;for(let n=0;n<16;++n)t[r+n]=s[n];return t}return ZR(s)}var tk=ek,rk=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Vp="AWS_MAX_ATTEMPTS",Hp="max_attempts",at={environmentVariableSelector:e=>{let t=e[Vp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${Vp} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[Hp];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${Hp} mast be a number, got "${t}"`);return r},default:mo},ot=e=>{let{retryStrategy:t}=e,r=Nr(e.maxAttempts??mo);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await Nr(e.retryMode)()===si.ADAPTIVE?new HR(r):new Rb(r))}},sk="AWS_RETRY_MODE",nk="retry_mode",ct={environmentVariableSelector:e=>e[sk],configFileSelector:e=>e[nk],default:$e},ik=e=>(t,r)=>async s=>{let n=await e.retryStrategy(),i=await e.maxAttempts();if(ak(n)){n=n;let a=await n.acquireInitialRetryToken(r.partition_id),o=new Error,c=0,d=0,{request:l}=s;for(Y.isInstance(l)&&(l.headers[jR]=tk());;)try{Y.isInstance(l)&&(l.headers[GR]=`attempt=${c+1}; max=${i}`);let{response:m,output:p}=await t(s);return n.recordSuccess(a),p.$metadata.attempts=c+1,p.$metadata.totalRetryDelay=d,{response:m,output:p}}catch(m){let p=ok(m);o=rk(m);try{a=await n.refreshRetryTokenForRetry(a,p)}catch{throw o.$metadata||(o.$metadata={}),o.$metadata.attempts=c+1,o.$metadata.totalRetryDelay=d,o}c=a.getRetryCount();let h=a.getRetryDelay();d+=h,await new Promise(y=>setTimeout(y,h))}}else return n=n,n?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",n.mode]]),n.retry(t,s)},ak=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",ok=e=>{let t={errorType:ck(e)},r=lk(e.$response);return r&&(t.retryAfterHint=r),t},ck=e=>Pb(e)?"THROTTLING":Ab(e)?"TRANSIENT":LR(e)?"SERVER_ERROR":"CLIENT_ERROR",dk={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},dt=e=>({applyToStack:t=>{t.add(ik(e),dk)}}),lk=e=>{if(!xl.isInstance(e))return;let t=Object.keys(e.headers).find(i=>i.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],s=Number(r);return Number.isNaN(s)?new Date(r):new Date(s*1e3)},lt=class{trace(){}debug(){}info(){}warn(){}error(){}},po=()=>{let e=[],t=[],r=!1,s=new Set,n=m=>m.sort((p,h)=>Wp[h.step]-Wp[p.step]||Kp[h.priority||"normal"]-Kp[p.priority||"normal"]),i=m=>{let p=!1,h=y=>y.name&&y.name===m?(p=!0,s.delete(m),!1):!0;return e=e.filter(h),t=t.filter(h),p},a=m=>{let p=!1,h=y=>y.middleware===m?(p=!0,y.name&&s.delete(y.name),!1):!0;return e=e.filter(h),t=t.filter(h),p},o=m=>(e.forEach(p=>{m.add(p.middleware,{...p})}),t.forEach(p=>{m.addRelativeTo(p.middleware,{...p})}),m.identifyOnResolve?.(l.identifyOnResolve()),m),c=m=>{let p=[];return m.before.forEach(h=>{h.before.length===0&&h.after.length===0?p.push(h):p.push(...c(h))}),p.push(m),m.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?p.push(h):p.push(...c(h))}),p},d=(m=!1)=>{let p=[],h=[],y={};return e.forEach(E=>{let M={...E,before:[],after:[]};M.name&&(y[M.name]=M),p.push(M)}),t.forEach(E=>{let M={...E,before:[],after:[]};M.name&&(y[M.name]=M),h.push(M)}),h.forEach(E=>{if(E.toMiddleware){let M=y[E.toMiddleware];if(M===void 0){if(m)return;throw new Error(`${E.toMiddleware} is not found when adding ${E.name||"anonymous"} middleware ${E.relation} ${E.toMiddleware}`)}E.relation==="after"&&M.after.push(E),E.relation==="before"&&M.before.push(E)}}),n(p).map(c).reduce((E,M)=>(E.push(...M),E),[])},l={add:(m,p={})=>{let{name:h,override:y}=p,v={step:"initialize",priority:"normal",middleware:m,...p};if(h){if(s.has(h)){if(!y)throw new Error(`Duplicate middleware name '${h}'`);let E=e.findIndex(w=>w.name===h),M=e[E];if(M.step!==v.step||M.priority!==v.priority)throw new Error(`"${h}" middleware with ${M.priority} priority in ${M.step} step cannot be overridden by same-name middleware with ${v.priority} priority in ${v.step} step.`);e.splice(E,1)}s.add(h)}e.push(v)},addRelativeTo:(m,p)=>{let{name:h,override:y}=p,v={middleware:m,...p};if(h){if(s.has(h)){if(!y)throw new Error(`Duplicate middleware name '${h}'`);let E=t.findIndex(w=>w.name===h),M=t[E];if(M.toMiddleware!==v.toMiddleware||M.relation!==v.relation)throw new Error(`"${h}" middleware ${M.relation} "${M.toMiddleware}" middleware cannot be overridden by same-name middleware ${v.relation} "${v.toMiddleware}" middleware.`);t.splice(E,1)}s.add(h)}t.push(v)},clone:()=>o(po()),use:m=>{m.applyToStack(l)},remove:m=>typeof m=="string"?i(m):a(m),removeByTag:m=>{let p=!1,h=y=>{let{tags:v,name:E}=y;return v&&v.includes(m)?(E&&s.delete(E),p=!0,!1):!0};return e=e.filter(h),t=t.filter(h),p},concat:m=>{let p=o(po());return p.use(m),p.identifyOnResolve(r||p.identifyOnResolve()||(m.identifyOnResolve?.()??!1)),p},applyToStack:o,identify:()=>d(!0).map(m=>{let p=m.step??m.relation+" "+m.toMiddleware;return m.name+" - "+p}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,p)=>{for(let h of d().map(y=>y.middleware).reverse())m=h(m,p);return r&&console.log(l.identify()),m}};return l},Wp={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Kp={high:3,normal:2,low:1},ut=class{constructor(e){this.middlewareStack=po(),this.config=e}send(e,t,r){let s=typeof t!="function"?t:void 0,n=typeof t=="function"?t:r,i=e.resolveMiddleware(this.middlewareStack,this.config,s);if(n)i(e).then(a=>n(null,a.output),a=>n(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}},uk=/^[A-Za-z0-9+/]*={0,2}$/,Ue=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!uk.exec(e))throw new TypeError("Invalid base64 string.");let t=Tl(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)},je=e=>sa(e.buffer,e.byteOffset,e.byteLength).toString("base64");function mk(e,t="utf-8"){return t==="base64"?je(e):Le(e)}function pk(e,t){return t==="base64"?Yi.mutate(Ue(e)):Yi.mutate(De(e))}var Yi=class kb extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return pk(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,kb.prototype),t}transformToString(t="utf-8"){return mk(this,t)}},hk=require("stream"),fk=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:s,checksumAlgorithmFn:n,checksumLocationName:i,streamHasher:a}=t,o=r!==void 0&&n!==void 0&&i!==void 0&&a!==void 0,c=o?a(n,e):void 0,d=new hk.Readable({read:()=>{}});return e.on("data",l=>{let m=s(l)||0;d.push(`${m.toString(16)}\r
`),d.push(l),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),o){let l=r(await c);d.push(`${i}:${l}\r
`),d.push(`\r
`)}d.push(null)}),d};function yk(e){let t=[];for(let r of Object.keys(e).sort()){let s=e[r];if(r=hn(r),Array.isArray(s))for(let n=0,i=s.length;n<i;n++)t.push(`${r}=${hn(s[n])}`);else{let n=r;(s||typeof s=="string")&&(n+=`=${hn(s)}`),t.push(n)}}return t.join("&")}var Qp=require("http"),Jp=require("https"),vk=["ECONNRESET","EPIPE","ETIMEDOUT"],gk=e=>{let t={};for(let r of Object.keys(e)){let s=e[r];t[r]=Array.isArray(s)?s.join(","):s}return t},bk=(e,t,r=0)=>{if(!r)return;let s=setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r);e.on("socket",n=>{n.connecting?n.on("connect",()=>{clearTimeout(s)}):clearTimeout(s)})},wk=(e,{keepAlive:t,keepAliveMsecs:r})=>{t===!0&&e.on("socket",s=>{s.setKeepAlive(t,r||0)})},Sk=(e,t,r=0)=>{e.setTimeout(r,()=>{e.destroy(),t(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))})},Ek=require("stream"),Xp=1e3;async function Ik(e,t,r=Xp){let s=t.headers??{},n=s.Expect||s.expect,i=-1,a=!1;n==="100-continue"&&await Promise.race([new Promise(o=>{i=Number(setTimeout(o,Math.max(Xp,r)))}),new Promise(o=>{e.on("continue",()=>{clearTimeout(i),o()}),e.on("error",()=>{a=!0,clearTimeout(i),o()})})]),a||Ck(e,t.body)}function Ck(e,t){t instanceof Ek.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}var mt=class{constructor(e){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((t,r)=>{typeof e=="function"?e().then(s=>{t(this.resolveDefaultConfig(s))}).catch(r):t(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:t,connectionTimeout:r,socketTimeout:s,httpAgent:n,httpsAgent:i}=e||{},a=!0,o=50;return{connectionTimeout:r,requestTimeout:t??s,httpAgent:n||new Qp.Agent({keepAlive:a,maxSockets:o}),httpsAgent:i||new Jp.Agent({keepAlive:a,maxSockets:o})}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:t}={}){return this.config||(this.config=await this.configProvider),new Promise((r,s)=>{let n,i=async v=>{await n,r(v)},a=async v=>{await n,s(v)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(t?.aborted){let v=new Error("Request aborted");v.name="AbortError",a(v);return}let o=e.protocol==="https:",c=yk(e.query||{}),d;if(e.username!=null||e.password!=null){let v=e.username??"",E=e.password??"";d=`${v}:${E}`}let l=e.path;c&&(l+=`?${c}`),e.fragment&&(l+=`#${e.fragment}`);let m={headers:e.headers,host:e.hostname,method:e.method,path:l,port:e.port,agent:o?this.config.httpsAgent:this.config.httpAgent,auth:d},h=(o?Jp.request:Qp.request)(m,v=>{let E=new xl({statusCode:v.statusCode||-1,reason:v.statusMessage,headers:gk(v.headers),body:v});i({response:E})});h.on("error",v=>{vk.includes(v.code)?a(Object.assign(v,{name:"TimeoutError"})):a(v)}),bk(h,a,this.config.connectionTimeout),Sk(h,a,this.config.requestTimeout),t&&(t.onabort=()=>{h.abort();let v=new Error("Request aborted");v.name="AbortError",a(v)});let y=m.agent;typeof y=="object"&&"keepAlive"in y&&wk(h,{keepAlive:y.keepAlive,keepAliveMsecs:y.keepAliveMsecs}),n=Ik(h,e,this.config.requestTimeout).catch(s)})}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[e]:t}))}httpHandlerConfigs(){return this.config??{}}},KV=class{constructor(e){this.sessions=[],this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(t=>t!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let t of this.sessions)t===e&&(t.destroyed||t.destroy())}},Pk=require("stream"),Ak=class extends Pk.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,t,r){this.bufferedBytes.push(e),r()}},Ge=e=>new Promise((t,r)=>{let s=new Ak;e.pipe(s),e.on("error",n=>{s.end(),r(n)}),s.on("error",r),s.on("finish",function(){let n=new Uint8Array(Buffer.concat(this.bufferedBytes));t(n)})}),$c=require("stream"),_k=require("util"),Yp="The stream has already been transformed.",Rk=e=>{if(!(e instanceof $c.Readable)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(Yp);return t=!0,await Ge(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let n=await r();return s===void 0||Buffer.isEncoding(s)?sa(n.buffer,n.byteOffset,n.byteLength).toString(s):new _k.TextDecoder(s).decode(n)},transformToWebStream:()=>{if(t)throw new Error(Yp);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof $c.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return t=!0,$c.Readable.toWeb(e)}})},pt=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return Yi.mutate(e);if(!e)return Yi.mutate(new Uint8Array);let r=t.streamCollector(e);return Yi.mutate(await r)},Q=class{constructor(){this.middlewareStack=po()}},Ut="***SensitiveInformation***",kk=(e,t)=>{for(let r of Object.keys(e)){let s=e[r],n=async function(a,o,c){let d=new s(a);if(typeof o=="function")this.send(d,o);else if(typeof c=="function"){if(typeof o!="object")throw new Error(`Expected http options but got ${typeof o}`);this.send(d,o||{},c)}else return this.send(d,o)},i=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[i]=n}},X=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Te=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&fo.warn(ho(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&fo.warn(ho(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},ge=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&fo.warn(ho(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},xk=Math.ceil(2**127*(2-2**-23)),Zp=e=>{let t=ge(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>xk)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},ar=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},At=e=>Ol(e,32),eh=e=>Ol(e,16),th=e=>Ol(e,8),Ol=(e,t)=>{let r=ar(e);if(r!==void 0&&Tk(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Tk=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},D=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},he=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},u=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return fo.warn(ho(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Nk=e=>{if(e==null)return;let t=he(e),r=Object.entries(t).filter(([,s])=>s!=null).map(([s])=>s);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},xb=e=>ge(typeof e=="string"?ii(e):e),Dk=xb,Ok=e=>Zp(typeof e=="string"?ii(e):e),Fk=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ii=e=>{let t=e.match(Fk);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Uc=e=>typeof e=="string"?Mk(e):ge(e),Mk=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},Dr=e=>ar(typeof e=="string"?ii(e):e),B=e=>At(typeof e=="string"?ii(e):e),Lk=e=>eh(typeof e=="string"?ii(e):e),Bk=e=>th(typeof e=="string"?ii(e):e),ho=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),fo={warn:console.warn},zk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],QV=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),qk=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Bt=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=qk.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,s,n,i,a,o,c,d,l]=t,m=Lk(Tb(s)),p=Zi(n,"month",1,12),h=Zi(i,"day",1,31),y=$k(m,p,h,{hours:a,minutes:o,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&y.setTime(y.getTime()-Hk(l)),y},JV=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),XV=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),YV=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Se=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=xb(e);else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},$k=(e,t,r,s)=>{let n=t-1;return jk(e,n,r),new Date(Date.UTC(e,n,r,Zi(s.hours,"hour",0,23),Zi(s.minutes,"minute",0,59),Zi(s.seconds,"seconds",0,60),Vk(s.fractionalMilliseconds)))},ZV=50*365*24*60*60*1e3,Uk=[31,28,31,30,31,30,31,31,30,31,30,31],jk=(e,t,r)=>{let s=Uk[t];if(t===1&&Gk(e)&&(s=29),r>s)throw new TypeError(`Invalid day for ${zk[t]} in ${e}: ${r}`)},Gk=e=>e%4===0&&(e%100!==0||e%400===0),Zi=(e,t,r,s)=>{let n=Bk(Tb(e));if(n<r||n>s)throw new TypeError(`${t} must be between ${r} and ${s}, inclusive`);return n},Vk=e=>e==null?0:Ok("0."+e)*1e3,Hk=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let s=Number(e.substring(1,3)),n=Number(e.substring(4,6));return r*(s*60+n)*60*1e3},Tb=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)},ht=class Nb extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Nb.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}},O=(e,t={})=>{Object.entries(t).filter(([,s])=>s!==void 0).forEach(([s,n])=>{(e[s]==null||e[s]==="")&&(e[s]=n)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},Wk=({output:e,parsedBody:t,exceptionCtor:r,errorCode:s})=>{let n=Kk(e),i=n.httpStatusCode?n.httpStatusCode+"":void 0,a=new r({name:t?.code||t?.Code||s||i||"UnknownError",$fault:"client",$metadata:n});throw O(a,t)},ft=e=>({output:t,parsedBody:r,errorCode:s})=>{Wk({output:t,parsedBody:r,exceptionCtor:e,errorCode:s})},Kk=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),yt=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},rh=!1,vt=e=>{e&&!rh&&parseInt(e.substring(1,e.indexOf(".")))<14&&(rh=!0)},Qk=e=>{let t=[];for(let r in uo){let s=uo[r];e[s]!==void 0&&t.push({algorithmId:()=>s,checksumConstructor:()=>e[s]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},Jk=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},Xk=e=>{let t=e.retryStrategy;return{setRetryStrategy(r){t=r},retryStrategy(){return t}}},Yk=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},kt=e=>({...Qk(e),...Xk(e)}),xt=e=>({...Jk(e),...Yk(e)});function vr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var q=e=>Array.isArray(e)?e:[e],Qs=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=Qs(e[r]));return e},Jd=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Jd.prototype=Object.create(String.prototype,{constructor:{value:Jd,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Jd,String);function _(e,t,r){let s,n,i;if(typeof t>"u"&&typeof r>"u")s={},i=e;else{if(s=e,typeof t=="function")return n=t,i=r,Zk(s,n,i);i=t}for(let a of Object.keys(i)){if(!Array.isArray(i[a])){s[a]=i[a];continue}Db(s,null,i,a)}return s}var R=(e,t)=>{let r={};for(let s in t)Db(r,e,t,s);return r},Zk=(e,t,r)=>_(e,Object.entries(r).reduce((s,[n,i])=>(Array.isArray(i)?s[n]=i:typeof i=="function"?s[n]=[t,i()]:s[n]=[t,i],s),{})),Db=(e,t,r,s)=>{if(t!==null){let a=r[s];typeof a=="function"&&(a=[,a]);let[o=ex,c=tx,d=s]=a;(typeof o=="function"&&o(t[d])||typeof o!="function"&&o)&&(e[s]=c(t[d]));return}let[n,i]=r[s];if(typeof i=="function"){let a,o=n===void 0&&(a=i())!=null,c=typeof n=="function"&&!!n(void 0)||typeof n!="function"&&!!n;o?e[s]=a:c&&(e[s]=i())}else{let a=n===void 0&&i!=null,o=typeof n=="function"&&!!n(i)||typeof n!="function"&&!!n;(a||o)&&(e[s]=i)}},ex=e=>e!=null,tx=e=>e,Me=(e,t,r,s,n,i)=>{if(t!=null&&t[r]!==void 0){let a=s();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(n,i?a.split("/").map(o=>vr(o)).join("/"):vr(a))}else throw new Error("No value provided for input HTTP label: "+r+".");return e},S=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=S(e[r]));return t}return e},rx=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"apigateway"}),sx={name:"@aws-sdk/client-apigatewayv2",description:"AWS SDK for JavaScript Apigatewayv2 Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo apigatewayv2"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-stream":"^2.0.12","@smithy/util-utf8":"^2.0.0",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-apigatewayv2",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-apigatewayv2"}},nx=(e,{stsClientCtor:t})=>zt({...e,stsClientCtor:t}),ix=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),ax={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-sdk-sts":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}},Js=class Ob extends ht{constructor(t){super(t),Object.setPrototypeOf(this,Ob.prototype)}},ox=class Fb extends Js{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Fb.prototype)}},cx=class Mb extends Js{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Mb.prototype)}},dx=class Lb extends Js{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Lb.prototype)}},lx=class Bb extends Js{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,Bb.prototype)}},ux=class zb extends Js{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,zb.prototype)}},mx=class qb extends Js{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,qb.prototype)}},px=class $b extends Js{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,$b.prototype)}},Ub=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Ut}}),hx=e=>({...e,...e.Credentials&&{Credentials:Ub(e.Credentials)}}),fx=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Ut}}),yx=e=>({...e,...e.Credentials&&{Credentials:Ub(e.Credentials)}}),vx=ke(vn()),gx=async(e,t)=>{let r=Ll,s;return s=zl({...xx(e,t),Action:"AssumeRole",Version:"2011-06-15"}),Ml(t,r,"/",void 0,s)},bx=async(e,t)=>{let r=Ll,s;return s=zl({...Tx(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),Ml(t,r,"/",void 0,s)},wx=async(e,t)=>{let r=Ll,s;return s=zl({...Nx(e,t),Action:"GetCallerIdentity",Version:"2011-06-15"}),Ml(t,r,"/",void 0,s)},Sx=async(e,t)=>{if(e.statusCode>=300)return Ex(e,t);let r=await Po(e.body,t),s={};return s=zx(r.AssumeRoleResult,t),{$metadata:Xr(e),...s}},Ex=async(e,t)=>{let r={...e,body:await Bl(e.body,t)},s=ql(e,r.body);switch(s){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await jb(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Gb(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Vb(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Hb(r,t);default:let n=r.body;return Fl({output:e,parsedBody:n.Error,errorCode:s})}},Ix=async(e,t)=>{if(e.statusCode>=300)return Cx(e,t);let r=await Po(e.body,t),s={};return s=qx(r.AssumeRoleWithWebIdentityResult,t),{$metadata:Xr(e),...s}},Cx=async(e,t)=>{let r={...e,body:await Bl(e.body,t)},s=ql(e,r.body);switch(s){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await jb(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await _x(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await Rx(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await kx(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Gb(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Vb(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Hb(r,t);default:let n=r.body;return Fl({output:e,parsedBody:n.Error,errorCode:s})}},Px=async(e,t)=>{if(e.statusCode>=300)return Ax(e,t);let r=await Po(e.body,t),s={};return s=Ux(r.GetCallerIdentityResult,t),{$metadata:Xr(e),...s}},Ax=async(e,t)=>{let r={...e,body:await Bl(e.body,t)},s=ql(e,r.body),n=r.body;return Fl({output:e,parsedBody:n.Error,errorCode:s})},jb=async(e,t)=>{let r=e.body,s=$x(r.Error,t),n=new ox({$metadata:Xr(e),...s});return O(n,r)},_x=async(e,t)=>{let r=e.body,s=jx(r.Error,t),n=new px({$metadata:Xr(e),...s});return O(n,r)},Rx=async(e,t)=>{let r=e.body,s=Gx(r.Error,t),n=new ux({$metadata:Xr(e),...s});return O(n,r)},kx=async(e,t)=>{let r=e.body,s=Vx(r.Error,t),n=new mx({$metadata:Xr(e),...s});return O(n,r)},Gb=async(e,t)=>{let r=e.body,s=Hx(r.Error,t),n=new cx({$metadata:Xr(e),...s});return O(n,r)},Vb=async(e,t)=>{let r=e.body,s=Wx(r.Error,t),n=new dx({$metadata:Xr(e),...s});return O(n,r)},Hb=async(e,t)=>{let r=e.body,s=Kx(r.Error,t),n=new lx({$metadata:Xr(e),...s});return O(n,r)},xx=(e,t)=>{let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let s=Wb(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(s).forEach(([n,i])=>{let a=`PolicyArns.${n}`;r[a]=i})}if(e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let s=Bx(e.Tags,t);e.Tags?.length===0&&(r.Tags=[]),Object.entries(s).forEach(([n,i])=>{let a=`Tags.${n}`;r[a]=i})}if(e.TransitiveTagKeys!=null){let s=Lx(e.TransitiveTagKeys,t);e.TransitiveTagKeys?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(s).forEach(([n,i])=>{let a=`TransitiveTagKeys.${n}`;r[a]=i})}if(e.ExternalId!=null&&(r.ExternalId=e.ExternalId),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(r.SourceIdentity=e.SourceIdentity),e.ProvidedContexts!=null){let s=Fx(e.ProvidedContexts,t);e.ProvidedContexts?.length===0&&(r.ProvidedContexts=[]),Object.entries(s).forEach(([n,i])=>{let a=`ProvidedContexts.${n}`;r[a]=i})}return r},Tx=(e,t)=>{let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(r.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(r.ProviderId=e.ProviderId),e.PolicyArns!=null){let s=Wb(e.PolicyArns,t);e.PolicyArns?.length===0&&(r.PolicyArns=[]),Object.entries(s).forEach(([n,i])=>{let a=`PolicyArns.${n}`;r[a]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r},Nx=(e,t)=>({}),Wb=(e,t)=>{let r={},s=1;for(let n of e){if(n===null)continue;let i=Dx(n,t);Object.entries(i).forEach(([a,o])=>{r[`member.${s}.${a}`]=o}),s++}return r},Dx=(e,t)=>{let r={};return e.arn!=null&&(r.arn=e.arn),r},Ox=(e,t)=>{let r={};return e.ProviderArn!=null&&(r.ProviderArn=e.ProviderArn),e.ContextAssertion!=null&&(r.ContextAssertion=e.ContextAssertion),r},Fx=(e,t)=>{let r={},s=1;for(let n of e){if(n===null)continue;let i=Ox(n,t);Object.entries(i).forEach(([a,o])=>{r[`member.${s}.${a}`]=o}),s++}return r},Mx=(e,t)=>{let r={};return e.Key!=null&&(r.Key=e.Key),e.Value!=null&&(r.Value=e.Value),r},Lx=(e,t)=>{let r={},s=1;for(let n of e)n!==null&&(r[`member.${s}`]=n,s++);return r},Bx=(e,t)=>{let r={},s=1;for(let n of e){if(n===null)continue;let i=Mx(n,t);Object.entries(i).forEach(([a,o])=>{r[`member.${s}.${a}`]=o}),s++}return r},Kb=(e,t)=>{let r={};return e.AssumedRoleId!==void 0&&(r.AssumedRoleId=u(e.AssumedRoleId)),e.Arn!==void 0&&(r.Arn=u(e.Arn)),r},zx=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=Qb(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=Kb(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=B(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(r.SourceIdentity=u(e.SourceIdentity)),r},qx=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=Qb(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=u(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=Kb(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=B(e.PackedPolicySize)),e.Provider!==void 0&&(r.Provider=u(e.Provider)),e.Audience!==void 0&&(r.Audience=u(e.Audience)),e.SourceIdentity!==void 0&&(r.SourceIdentity=u(e.SourceIdentity)),r},Qb=(e,t)=>{let r={};return e.AccessKeyId!==void 0&&(r.AccessKeyId=u(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(r.SecretAccessKey=u(e.SecretAccessKey)),e.SessionToken!==void 0&&(r.SessionToken=u(e.SessionToken)),e.Expiration!==void 0&&(r.Expiration=D(Bt(e.Expiration))),r},$x=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},Ux=(e,t)=>{let r={};return e.UserId!==void 0&&(r.UserId=u(e.UserId)),e.Account!==void 0&&(r.Account=u(e.Account)),e.Arn!==void 0&&(r.Arn=u(e.Arn)),r},jx=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},Gx=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},Vx=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},Hx=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},Wx=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},Kx=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},Xr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Qx=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),Fl=ft(Js),Ml=async(e,t,r,s,n)=>{let{hostname:i,protocol:a="https",port:o,path:c}=await e.endpoint(),d={protocol:a,hostname:i,port:o,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return s!==void 0&&(d.hostname=s),n!==void 0&&(d.body=n),new Y(d)},Ll={"content-type":"application/x-www-form-urlencoded"},Po=(e,t)=>Qx(e,t).then(r=>{if(r.length){let s=new vx.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});s.addEntity("#xD","\r"),s.addEntity("#10",`
`);let n=s.parse(r),i="#text",a=Object.keys(n)[0],o=n[a];return o[i]&&(o[a]=o[i],delete o[i]),Qs(o)}return{}}),Bl=async(e,t)=>{let r=await Po(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},zl=e=>Object.entries(e).map(([t,r])=>vr(t)+"="+vr(r)).join("&"),ql=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},Jx=class Jb extends Q{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,Jb.getEndpointParameterInstructions())),this.middlewareStack.use(Je(r));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:hx,[Z]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRole"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return gx(t,r)}deserialize(t,r){return Sx(t,r)}},Xx=class Xb extends Q{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,Xb.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:fx,outputFilterSensitiveLog:yx,[Z]:{service:"AWSSecurityTokenServiceV20110615",operation:"AssumeRoleWithWebIdentity"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return bx(t,r)}deserialize(t,r){return Ix(t,r)}},sh="us-east-1",Yb=e=>typeof e!="function"?e===void 0?sh:e:async()=>{try{return await e()}catch{return sh}},Zb=(e,t)=>{let r,s;return async(n,i)=>{if(s=n,!r){let{logger:o,region:c,requestHandler:d}=e;r=new t({logger:o,credentialDefaultProvider:()=>async()=>s,region:Yb(c||e.region),...d?{requestHandler:d}:{}})}let{Credentials:a}=await r.send(new Jx(i));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${i.RoleArn}`);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration}}},ew=(e,t)=>{let r;return async s=>{if(!r){let{logger:i,region:a,requestHandler:o}=e;r=new t({logger:i,region:Yb(a||e.region),...o?{requestHandler:o}:{}})}let{Credentials:n}=await r.send(new Xx(s));if(!n||!n.AccessKeyId||!n.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${s.RoleArn}`);return{accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.SessionToken,expiration:n.Expiration}}},Yx=e=>t=>e({roleAssumer:Zb(t,t.stsClientCtor),roleAssumerWithWebIdentity:ew(t,t.stsClientCtor),...t}),Zx="AWS_ACCESS_KEY_ID",e2="AWS_SECRET_ACCESS_KEY",t2="AWS_SESSION_TOKEN",r2="AWS_CREDENTIAL_EXPIRATION",tw=()=>async()=>{let e=process.env[Zx],t=process.env[e2],r=process.env[t2],s=process.env[r2];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...s&&{expiration:new Date(s)}};throw new ve("Unable to find environment variable credentials.")},s2=require("os"),n2=require("path"),jc={},i2=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",$l=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:s=`C:${n2.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${s}${r}`;let n=i2();return jc[n]||(jc[n]=(0,s2.homedir)()),jc[n]},rw="AWS_PROFILE",a2="default",ai=e=>e.profile||process.env[rw]||a2,o2=require("crypto"),c2=require("path"),sw=e=>{let r=(0,o2.createHash)("sha1").update(e).digest("hex");return(0,c2.join)($l(),".aws","sso","cache",`${r}.json`)},d2=require("fs"),{readFile:l2}=d2.promises,nw=async e=>{let t=sw(e),r=await l2(t,"utf8");return JSON.parse(r)},u2=require("path"),m2="AWS_CONFIG_FILE",iw=()=>process.env[m2]||(0,u2.join)($l(),".aws","config"),p2=require("path"),h2="AWS_SHARED_CREDENTIALS_FILE",f2=()=>process.env[h2]||(0,p2.join)($l(),".aws","credentials"),nh=/^profile\s(["'])?([^\1]+)\1$/,y2=e=>Object.entries(e).filter(([t])=>nh.test(t)).reduce((t,[r,s])=>({...t,[nh.exec(r)[2]]:s}),{...e.default&&{default:e.default}}),v2=["__proto__","profile __proto__"],Xd=e=>{let t={},r;for(let s of e.split(/\r?\n/))if(s=s.split(/(^|\s)[;#]/)[0].trim(),s[0]==="["&&s[s.length-1]==="]"){if(r=s.substring(1,s.length-1),v2.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let i=s.indexOf("="),a=0,o=s.length-1;if(i!==-1&&i!==a&&i!==o){let[d,l]=[s.substring(0,i).trim(),s.substring(i+1).trim()];t[r]=t[r]||{},t[r][d]=l}}return t},g2=require("fs"),{readFile:b2}=g2.promises,Gc={},Yd=(e,t)=>((!Gc[e]||t?.ignoreCache)&&(Gc[e]=b2(e,"utf8")),Gc[e]),ih=()=>({}),aw=async(e={})=>{let{filepath:t=f2(),configFilepath:r=iw()}=e,s=await Promise.all([Yd(r,{ignoreCache:e.ignoreCache}).then(Xd).then(y2).catch(ih),Yd(t,{ignoreCache:e.ignoreCache}).then(Xd).catch(ih)]);return{configFile:s[0],credentialsFile:s[1]}},ah=/^sso-session\s(["'])?([^\1]+)\1$/,w2=e=>Object.entries(e).filter(([t])=>ah.test(t)).reduce((t,[r,s])=>({...t,[ah.exec(r)[2]]:s}),{}),S2=()=>({}),ow=async(e={})=>Yd(e.configFilepath??iw()).then(Xd).then(w2).catch(S2),E2=(...e)=>{let t={};for(let r of e)for(let[s,n]of Object.entries(r))t[s]!==void 0?Object.assign(t[s],n):t[s]=n;return t},Ao=async e=>{let t=await aw(e);return E2(t.configFile,t.credentialsFile)},I2=require("url"),C2=require("buffer"),P2=require("http");function aa(e){return new Promise((t,r)=>{let s=(0,P2.request)({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});s.on("error",n=>{r(Object.assign(new ei("Unable to connect to instance metadata service"),n)),s.destroy()}),s.on("timeout",()=>{r(new ei("TimeoutError from instance metadata service")),s.destroy()}),s.on("response",n=>{let{statusCode:i=400}=n;(i<200||300<=i)&&(r(Object.assign(new ei("Error response received from instance metadata service"),{statusCode:i})),s.destroy());let a=[];n.on("data",o=>{a.push(o)}),n.on("end",()=>{t(C2.Buffer.concat(a)),s.destroy()})}),s.end()})}var cw=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",dw=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)}),A2=1e3,_2=0,lw=({maxRetries:e=_2,timeout:t=A2})=>({maxRetries:e,timeout:t}),Zd=(e,t)=>{let r=e();for(let s=0;s<t;s++)r=r.catch(e);return r},io="AWS_CONTAINER_CREDENTIALS_FULL_URI",ao="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",oh="AWS_CONTAINER_AUTHORIZATION_TOKEN",uw=(e={})=>{let{timeout:t,maxRetries:r}=lw(e);return()=>Zd(async()=>{let s=await N2(),n=JSON.parse(await R2(t,s));if(!cw(n))throw new ve("Invalid response received from instance metadata service.");return dw(n)},r)},R2=async(e,t)=>(process.env[oh]&&(t.headers={...t.headers,Authorization:process.env[oh]}),(await aa({...t,timeout:e})).toString()),k2="169.254.170.2",x2={localhost:!0,"127.0.0.1":!0},T2={"http:":!0,"https:":!0},N2=async()=>{if(process.env[ao])return{hostname:k2,path:process.env[ao]};if(process.env[io]){let e=(0,I2.parse)(process.env[io]);if(!e.hostname||!(e.hostname in x2))throw new ve(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in T2))throw new ve(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new ve(`The container metadata credential provider cannot be used unless the ${ao} or ${io} environment variable is set`,!1)},D2=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new ve(t.message||`Cannot load config from environment variables with getter: ${e}`)}},O2=(e,{preferredFile:t="config",...r}={})=>async()=>{let s=ai(r),{configFile:n,credentialsFile:i}=await aw(r),a=i[s]||{},o=n[s]||{},c=t==="config"?{...a,...o}:{...o,...a};try{let d=e(c);if(d===void 0)throw new Error;return d}catch(d){throw new ve(d.message||`Cannot load config for profile ${s} in SDK configuration files with getter: ${e}`)}},F2=e=>typeof e=="function",M2=e=>F2(e)?async()=>await e():VA(e),A=({environmentVariableSelector:e,configFileSelector:t,default:r},s={})=>Io(Kg(D2(e),O2(t,s),M2(r))),yo;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(yo||(yo={}));var L2="AWS_EC2_METADATA_SERVICE_ENDPOINT",B2="ec2_metadata_service_endpoint",z2={environmentVariableSelector:e=>e[L2],configFileSelector:e=>e[B2],default:void 0},ti;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(ti||(ti={}));var q2="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",$2="ec2_metadata_service_endpoint_mode",U2={environmentVariableSelector:e=>e[q2],configFileSelector:e=>e[$2],default:ti.IPv4},mw=async()=>Re(await j2()||await G2()),j2=async()=>A(z2)(),G2=async()=>{let e=await A(U2)();switch(e){case ti.IPv4:return yo.IPv4;case ti.IPv6:return yo.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(ti)}`)}},V2=5*60,H2=5*60,W2="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",ch=(e,t)=>{let r=V2+Math.floor(Math.random()*H2),s=new Date(Date.now()+r*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+W2);let n=e.originalExpiration??e.expiration;return{...e,...n?{originalExpiration:n}:{},expiration:s}},K2=(e,t={})=>{let r=t?.logger||console,s;return async()=>{let n;try{n=await e(),n.expiration&&n.expiration.getTime()<Date.now()&&(n=ch(n,r))}catch(i){if(s)r.warn("Credential renew failed: ",i),n=ch(s,r);else throw i}return s=n,n}},pw="/latest/meta-data/iam/security-credentials/",Q2="/latest/api/token",hw=(e={})=>K2(J2(e),{logger:e.logger}),J2=e=>{let t=!1,{timeout:r,maxRetries:s}=lw(e),n=async(i,a)=>{let o=(await Zd(async()=>{let c;try{c=await Y2(a)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},i)).trim();return Zd(async()=>{let c;try{c=await Z2(o,a)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},i)};return async()=>{let i=await mw();if(t)return n(s,{...i,timeout:r});{let a;try{a=(await X2({...i,timeout:r})).toString()}catch(o){if(o?.statusCode===400)throw Object.assign(o,{message:"EC2 Metadata token request returned error"});return(o.message==="TimeoutError"||[403,404,405].includes(o.statusCode))&&(t=!0),n(s,{...i,timeout:r})}return n(s,{...i,headers:{"x-aws-ec2-metadata-token":a},timeout:r})}}},X2=async e=>aa({...e,path:Q2,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),Y2=async e=>(await aa({...e,path:pw})).toString(),Z2=async(e,t)=>{let r=JSON.parse((await aa({...t,path:pw+e})).toString());if(!cw(r))throw new ve("Invalid response received from instance metadata service.");return dw(r)},eT=(e,t)=>{let r={EcsContainer:uw,Ec2InstanceMetadata:hw,Environment:tw};if(e in r)return r[e]();throw new ve(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)},tT=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(rT(e)||sT(e)),rT=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",sT=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",nT=async(e,t,r,s={})=>{let n=t[e];if(!r.roleAssumer)throw new ve(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:i}=n;if(i&&i in s)throw new ve(`Detected a cycle attempting to resolve credentials for profile ${ai(r)}. Profiles visited: `+Object.keys(s).join(", "),!1);let a=i?r0(i,t,r,{...s,[i]:!0}):eT(n.credential_source,e)(),o={RoleArn:n.role_arn,RoleSessionName:n.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:n.external_id,DurationSeconds:parseInt(n.duration_seconds||"3600",10)},{mfa_serial:c}=n;if(c){if(!r.mfaCodeProvider)throw new ve(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);o.SerialNumber=c,o.TokenCode=await r.mfaCodeProvider(c)}let d=await a;return r.roleAssumer(d,o)},iT=require("child_process"),aT=require("util"),oT=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}},cT=async(e,t)=>{let r=t[e];if(t[e]){let s=r.credential_process;if(s!==void 0){let n=(0,aT.promisify)(iT.exec);try{let{stdout:i}=await n(s),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return oT(e,a)}catch(i){throw new ve(i.message)}}else throw new ve(`Profile ${e} did not contain credential_process.`)}else throw new ve(`Profile ${e} could not be found in shared credentials file.`)},fw=(e={})=>async()=>{let t=await Ao(e);return cT(ai(e),t)},dT=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",lT=async(e,t)=>fw({...e,profile:t})(),yw=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),uT=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),mT={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}},dh=require("os"),Vc=require("process"),pT=()=>{try{return typeof require=="function"&&typeof RP<"u"&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}},hT="AWS_SDK_UA_APP_ID",fT="sdk-ua-app-id",gt=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],["ua","2.0"],[`os/${(0,dh.platform)()}`,(0,dh.release)()],["lang/js"],["md/nodejs",`${Vc.versions.node}`]],s=pT();s&&r.push(s),e&&r.push([`api/${e}`,t]),Vc.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Vc.env.AWS_EXECUTION_ENV}`]);let n=A({environmentVariableSelector:a=>a[hT],configFileSelector:a=>a[fT],default:void 0})(),i;return async()=>{if(!i){let a=await n;i=a?[...r,[`app/${a}`]]:[...r]}return i}},yT=require("buffer"),lh=require("crypto"),Ne=class{constructor(e,t){this.algorithmIdentifier=e,this.secret=t,this.reset()}update(e,t){this.hash.update(fn(uh(e,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,lh.createHmac)(this.algorithmIdentifier,uh(this.secret)):(0,lh.createHash)(this.algorithmIdentifier)}};function uh(e,t){return yT.Buffer.isBuffer(e)?e:typeof e=="string"?Tl(e,t):ArrayBuffer.isView(e)?sa(e.buffer,e.byteOffset,e.byteLength):sa(e)}var mh=require("fs"),bt=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,mh.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,mh.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)},vw="required",gs="fn",bs="argv",oi="ref",ph="isSet",ts="tree",Dn="error",Mi="endpoint",Ul="PartitionResult",hh={[vw]:!1,type:"String"},fh={[vw]:!0,default:!1,type:"Boolean"},yh={[oi]:"Endpoint"},gw={[gs]:"booleanEquals",[bs]:[{[oi]:"UseFIPS"},!0]},bw={[gs]:"booleanEquals",[bs]:[{[oi]:"UseDualStack"},!0]},Fr={},vh={[gs]:"booleanEquals",[bs]:[!0,{[gs]:"getAttr",[bs]:[{[oi]:Ul},"supportsFIPS"]}]},gh={[gs]:"booleanEquals",[bs]:[!0,{[gs]:"getAttr",[bs]:[{[oi]:Ul},"supportsDualStack"]}]},bh=[gw],wh=[bw],Sh=[{[oi]:"Region"}],vT={version:"1.0",parameters:{Region:hh,UseDualStack:fh,UseFIPS:fh,Endpoint:hh},rules:[{conditions:[{[gs]:ph,[bs]:[yh]}],type:ts,rules:[{conditions:bh,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Dn},{conditions:wh,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Dn},{endpoint:{url:yh,properties:Fr,headers:Fr},type:Mi}]},{conditions:[{[gs]:ph,[bs]:Sh}],type:ts,rules:[{conditions:[{[gs]:"aws.partition",[bs]:Sh,assign:Ul}],type:ts,rules:[{conditions:[gw,bw],type:ts,rules:[{conditions:[vh,gh],type:ts,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Fr,headers:Fr},type:Mi}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Dn}]},{conditions:bh,type:ts,rules:[{conditions:[vh],type:ts,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Fr,headers:Fr},type:Mi}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Dn}]},{conditions:wh,type:ts,rules:[{conditions:[gh],type:ts,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Fr,headers:Fr},type:Mi}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Dn}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Fr,headers:Fr},type:Mi}]}]},{error:"Invalid Configuration: Missing Region",type:Dn}]},gT=vT,bT=(e,t={})=>Ye(gT,{endpointParams:e,logger:t.logger}),wT=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??bT,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),ST="AWS_EXECUTION_ENV",Eh="AWS_REGION",Ih="AWS_DEFAULT_REGION",ET="AWS_EC2_METADATA_DISABLED",IT=["in-region","cross-region","mobile","standard","legacy"],CT="/latest/meta-data/placement/region",PT="AWS_DEFAULTS_MODE",AT="defaults_mode",_T={environmentVariableSelector:e=>e[PT],configFileSelector:e=>e[AT],default:"legacy"},wt=({region:e=A(qe),defaultsMode:t=A(_T)}={})=>Io(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return RT(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${IT.join(", ")}, got ${r}`)}}),RT=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await kT();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},kT=async()=>{if(process.env[ST]&&(process.env[Eh]||process.env[Ih]))return process.env[Eh]??process.env[Ih];if(!process.env[ET])try{let e=await mw();return(await aa({...e,path:CT})).toString()}catch{}},xT=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=wT(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:mT.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},Tt=e=>{let t=async()=>{if(e.region===void 0)throw new Error("Region is missing from runtimeConfig");let r=e.region;return typeof r=="string"?r:r()};return{setRegion(r){t=r},region(){return t}}},Nt=e=>({region:e.region()}),Hc=e=>e,TT=(e,t)=>{let r={...Hc(Tt(e)),...Hc(kt(e)),...Hc(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},NT=class extends ut{constructor(...[e]){let t=xT(e||{}),r=uT(t),s=st(r),n=it(s),i=ot(n),a=i,o=Xe(a),c=TT(o,e?.extensions||[]);super(c),this.config=c,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},oa=class ww extends ht{constructor(t){super(t),Object.setPrototypeOf(this,ww.prototype)}},DT=class Sw extends oa{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Sw.prototype)}},OT=class Ew extends oa{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Ew.prototype)}},FT=class Iw extends oa{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,Iw.prototype)}},MT=class Cw extends oa{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,Cw.prototype)}},LT=e=>({...e,...e.accessToken&&{accessToken:Ut}}),BT=e=>({...e,...e.secretAccessKey&&{secretAccessKey:Ut},...e.sessionToken&&{sessionToken:Ut}}),zT=e=>({...e,...e.roleCredentials&&{roleCredentials:BT(e.roleCredentials)}}),qT=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a=_({},QT,{"x-amz-sso_bearer_token":e.accessToken}),o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/federation/credentials`,c=_({role_name:[,D(e.roleName,"roleName")],account_id:[,D(e.accountId,"accountId")]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},$T=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return UT(e,t);let r=_({$metadata:ca(e)}),s=D(he(await Pw(e.body,t)),"body"),n=R(s,{roleCredentials:S});return Object.assign(r,n),r},UT=async(e,t)=>{let r={...e,body:await JT(e.body,t)},s=XT(e,r.body);switch(s){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await GT(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await VT(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await HT(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await WT(r,t);default:let n=r.body;return jT({output:e,parsedBody:n,errorCode:s})}},jT=ft(oa),GT=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{message:u});Object.assign(r,n);let i=new DT({$metadata:ca(e),...r});return O(i,e.body)},VT=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{message:u});Object.assign(r,n);let i=new OT({$metadata:ca(e),...r});return O(i,e.body)},HT=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{message:u});Object.assign(r,n);let i=new FT({$metadata:ca(e),...r});return O(i,e.body)},WT=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{message:u});Object.assign(r,n);let i=new MT({$metadata:ca(e),...r});return O(i,e.body)},ca=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),KT=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),QT=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Pw=(e,t)=>KT(e,t).then(r=>r.length?JSON.parse(r):{}),JT=async(e,t)=>{let r=await Pw(e,t);return r.message=r.message??r.Message,r},XT=(e,t)=>{let r=(i,a)=>Object.keys(i).find(o=>o.toLowerCase()===a.toLowerCase()),s=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t.code!==void 0)return s(t.code);if(t.__type!==void 0)return s(t.__type)},YT=class Aw extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,Aw.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:LT,outputFilterSensitiveLog:zT,[Z]:{service:"SWBPortalService",operation:"GetRoleCredentials"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return qT(t,r)}deserialize(t,r){return $T(t,r)}},ZT=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"}),eN={version:"3.387.0"},_w="required",ws="fn",Ss="argv",ci="ref",jl="PartitionResult",Mr="tree",Li="error",Bi="endpoint",Ch={[_w]:!1,type:"String"},Ph={[_w]:!0,default:!1,type:"Boolean"},Rw={[ci]:"Endpoint"},kw={[ws]:"booleanEquals",[Ss]:[{[ci]:"UseFIPS"},!0]},xw={[ws]:"booleanEquals",[Ss]:[{[ci]:"UseDualStack"},!0]},Lr={},Ah={[ws]:"booleanEquals",[Ss]:[!0,{[ws]:"getAttr",[Ss]:[{[ci]:jl},"supportsFIPS"]}]},_h={[ws]:"booleanEquals",[Ss]:[!0,{[ws]:"getAttr",[Ss]:[{[ci]:jl},"supportsDualStack"]}]},Rh=[Rw],kh=[kw],xh=[xw],tN={version:"1.0",parameters:{Region:Ch,UseDualStack:Ph,UseFIPS:Ph,Endpoint:Ch},rules:[{conditions:[{[ws]:"aws.partition",[Ss]:[{[ci]:"Region"}],assign:jl}],type:Mr,rules:[{conditions:[{[ws]:"isSet",[Ss]:Rh},{[ws]:"parseURL",[Ss]:Rh,assign:"url"}],type:Mr,rules:[{conditions:kh,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Li},{type:Mr,rules:[{conditions:xh,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Li},{endpoint:{url:Rw,properties:Lr,headers:Lr},type:Bi}]}]},{conditions:[kw,xw],type:Mr,rules:[{conditions:[Ah,_h],type:Mr,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Lr,headers:Lr},type:Bi}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Li}]},{conditions:kh,type:Mr,rules:[{conditions:[Ah],type:Mr,rules:[{type:Mr,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Lr,headers:Lr},type:Bi}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Li}]},{conditions:xh,type:Mr,rules:[{conditions:[_h],type:Mr,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Lr,headers:Lr},type:Bi}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Li}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Lr,headers:Lr},type:Bi}]}]},rN=tN,sN=(e,t={})=>Ye(rN,{endpointParams:e,logger:t.logger}),nN=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??sN,logger:e?.logger??new lt,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),iN=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=nN(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:eN.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},Tw=class extends ut{constructor(...[e]){let t=iN(e||{}),r=ZT(t),s=st(r),n=it(s),i=ot(n),a=i,o=Xe(a);super(o),this.config=o,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},cr=class Nw extends ht{constructor(t){super(t),Object.setPrototypeOf(this,Nw.prototype)}},aN=class Dw extends cr{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,Dw.prototype),this.error=t.error,this.error_description=t.error_description}},oN=class Ow extends cr{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,Ow.prototype),this.error=t.error,this.error_description=t.error_description}},cN=class Fw extends cr{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Fw.prototype),this.error=t.error,this.error_description=t.error_description}},dN=class Mw extends cr{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,Mw.prototype),this.error=t.error,this.error_description=t.error_description}},lN=class Lw extends cr{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,Lw.prototype),this.error=t.error,this.error_description=t.error_description}},uN=class Bw extends cr{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,Bw.prototype),this.error=t.error,this.error_description=t.error_description}},mN=class zw extends cr{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,zw.prototype),this.error=t.error,this.error_description=t.error_description}},pN=class qw extends cr{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,qw.prototype),this.error=t.error,this.error_description=t.error_description}},hN=class $w extends cr{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,$w.prototype),this.error=t.error,this.error_description=t.error_description}},fN=class Uw extends cr{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,Uw.prototype),this.error=t.error,this.error_description=t.error_description}},yN=class jw extends cr{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,jw.prototype),this.error=t.error,this.error_description=t.error_description}},vN=class Gw extends cr{constructor(t){super({name:"InvalidClientMetadataException",$fault:"client",...t}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,Gw.prototype),this.error=t.error,this.error_description=t.error_description}},gN=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={"content-type":"application/json"},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/token`,c;return c=JSON.stringify(R(e,{clientId:[],clientSecret:[],code:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:d=>S(d)})),new Y({protocol:s,hostname:r,port:n,method:"POST",headers:a,path:o,body:c})},bN=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={"content-type":"application/json"},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/client/register`,c;return c=JSON.stringify(R(e,{clientName:[],clientType:[],scopes:d=>S(d)})),new Y({protocol:s,hostname:r,port:n,method:"POST",headers:a,path:o,body:c})},wN=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={"content-type":"application/json"},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/device_authorization`,c;return c=JSON.stringify(R(e,{clientId:[],clientSecret:[],startUrl:[]})),new Y({protocol:s,hostname:r,port:n,method:"POST",headers:a,path:o,body:c})},SN=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return EN(e,t);let r=_({$metadata:Jt(e)}),s=D(he(await _o(e.body,t)),"body"),n=R(s,{accessToken:u,expiresIn:At,idToken:u,refreshToken:u,tokenType:u});return Object.assign(r,n),r},EN=async(e,t)=>{let r={...e,body:await Wl(e.body,t)},s=Kl(e,r.body);switch(s){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await _N(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await RN(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await kN(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Vl(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Vw(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await TN(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Hl(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Hw(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Ww(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Kw(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await NN(r,t);default:let n=r.body;return Gl({output:e,parsedBody:n,errorCode:s})}},IN=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return CN(e,t);let r=_({$metadata:Jt(e)}),s=D(he(await _o(e.body,t)),"body"),n=R(s,{authorizationEndpoint:u,clientId:u,clientIdIssuedAt:ar,clientSecret:u,clientSecretExpiresAt:ar,tokenEndpoint:u});return Object.assign(r,n),r},CN=async(e,t)=>{let r={...e,body:await Wl(e.body,t)},s=Kl(e,r.body);switch(s){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Vl(r,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await xN(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Hl(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Hw(r,t);default:let n=r.body;return Gl({output:e,parsedBody:n,errorCode:s})}},PN=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return AN(e,t);let r=_({$metadata:Jt(e)}),s=D(he(await _o(e.body,t)),"body"),n=R(s,{deviceCode:u,expiresIn:At,interval:At,userCode:u,verificationUri:u,verificationUriComplete:u});return Object.assign(r,n),r},AN=async(e,t)=>{let r={...e,body:await Wl(e.body,t)},s=Kl(e,r.body);switch(s){case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Vl(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Vw(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Hl(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Ww(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Kw(r,t);default:let n=r.body;return Gl({output:e,parsedBody:n,errorCode:s})}},Gl=ft(cr),_N=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{error:u,error_description:u});Object.assign(r,n);let i=new aN({$metadata:Jt(e),...r});return O(i,e.body)},RN=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{error:u,error_description:u});Object.assign(r,n);let i=new oN({$metadata:Jt(e),...r});return O(i,e.body)},kN=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{error:u,error_description:u});Object.assign(r,n);let i=new cN({$metadata:Jt(e),...r});return O(i,e.body)},Vl=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{error:u,error_description:u});Object.assign(r,n);let i=new dN({$metadata:Jt(e),...r});return O(i,e.body)},Vw=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{error:u,error_description:u});Object.assign(r,n);let i=new lN({$metadata:Jt(e),...r});return O(i,e.body)},xN=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{error:u,error_description:u});Object.assign(r,n);let i=new vN({$metadata:Jt(e),...r});return O(i,e.body)},TN=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{error:u,error_description:u});Object.assign(r,n);let i=new uN({$metadata:Jt(e),...r});return O(i,e.body)},Hl=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{error:u,error_description:u});Object.assign(r,n);let i=new mN({$metadata:Jt(e),...r});return O(i,e.body)},Hw=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{error:u,error_description:u});Object.assign(r,n);let i=new pN({$metadata:Jt(e),...r});return O(i,e.body)},Ww=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{error:u,error_description:u});Object.assign(r,n);let i=new hN({$metadata:Jt(e),...r});return O(i,e.body)},Kw=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{error:u,error_description:u});Object.assign(r,n);let i=new fN({$metadata:Jt(e),...r});return O(i,e.body)},NN=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{error:u,error_description:u});Object.assign(r,n);let i=new yN({$metadata:Jt(e),...r});return O(i,e.body)},Jt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),DN=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),_o=(e,t)=>DN(e,t).then(r=>r.length?JSON.parse(r):{}),Wl=async(e,t)=>{let r=await _o(e,t);return r.message=r.message??r.Message,r},Kl=(e,t)=>{let r=(i,a)=>Object.keys(i).find(o=>o.toLowerCase()===a.toLowerCase()),s=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t.code!==void 0)return s(t.code);if(t.__type!==void 0)return s(t.__type)},Qw=class Jw extends Q{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,Jw.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return gN(t,r)}deserialize(t,r){return SN(t,r)}},ON=class Xw extends Q{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,Xw.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOOIDCClient",commandName:"RegisterClientCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return bN(t,r)}deserialize(t,r){return IN(t,r)}},FN=class Yw extends Q{constructor(t){super(),this.input=t}static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,Yw.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SSOOIDCClient",commandName:"StartDeviceAuthorizationCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return wN(t,r)}deserialize(t,r){return PN(t,r)}},MN={CreateTokenCommand:Qw,RegisterClientCommand:ON,StartDeviceAuthorizationCommand:FN},LN=class extends Tw{};kk(MN,LN);var BN=5*60*1e3,Ql="To refresh this SSO session run 'aws sso login' with the corresponding profile.",Wc={},zN=e=>{if(Wc[e])return Wc[e];let t=new Tw({region:e});return Wc[e]=t,t},qN=(e,t)=>zN(t).send(new Qw({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"})),Th=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new pn(`Token is expired. ${Ql}`,!1)},cn=(e,t,r=!1)=>{if(typeof t>"u")throw new pn(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Ql}`,!1)},$N=require("fs"),{writeFile:UN}=$N.promises,jN=(e,t)=>{let r=sw(e),s=JSON.stringify(t,null,2);return UN(r,s)},Nh=new Date(0),GN=(e={})=>async()=>{let t=await Ao(e),r=ai(e),s=t[r];if(s){if(!s.sso_session)throw new pn(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new pn(`Profile '${r}' could not be found in shared credentials file.`,!1);let n=s.sso_session,a=(await ow(e))[n];if(!a)throw new pn(`Sso session '${n}' could not be found in shared credentials file.`,!1);for(let h of["sso_start_url","sso_region"])if(!a[h])throw new pn(`Sso session '${n}' is missing required property '${h}'.`,!1);let o=a.sso_start_url,c=a.sso_region,d;try{d=await nw(n)}catch{throw new pn(`The SSO session token associated with profile=${r} was not found or is invalid. ${Ql}`,!1)}cn("accessToken",d.accessToken),cn("expiresAt",d.expiresAt);let{accessToken:l,expiresAt:m}=d,p={token:l,expiration:new Date(m)};if(p.expiration.getTime()-Date.now()>BN)return p;if(Date.now()-Nh.getTime()<30*1e3)return Th(p),p;cn("clientId",d.clientId,!0),cn("clientSecret",d.clientSecret,!0),cn("refreshToken",d.refreshToken,!0);try{Nh.setTime(Date.now());let h=await qN(d,c);cn("accessToken",h.accessToken),cn("expiresIn",h.expiresIn);let y=new Date(Date.now()+h.expiresIn*1e3);try{await jN(n,{...d,accessToken:h.accessToken,expiresAt:y.toISOString(),refreshToken:h.refreshToken})}catch{}return{token:h.accessToken,expiration:y}}catch{return Th(p),p}},zi=!1,Dh=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:s,ssoRoleName:n,ssoClient:i,profile:a})=>{let o,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let E=await GN({profile:a})();o={accessToken:E.token,expiresAt:new Date(E.expiration).toISOString()}}catch(E){throw new ve(E.message,zi)}else try{o=await nw(e)}catch{throw new ve(`The SSO session associated with this profile is invalid. ${c}`,zi)}if(new Date(o.expiresAt).getTime()-Date.now()<=0)throw new ve(`The SSO session associated with this profile has expired. ${c}`,zi);let{accessToken:d}=o,l=i||new NT({region:s}),m;try{m=await l.send(new YT({accountId:r,roleName:n,accessToken:d}))}catch(E){throw ve.from(E,zi)}let{roleCredentials:{accessKeyId:p,secretAccessKey:h,sessionToken:y,expiration:v}={}}=m;if(!p||!h||!y||!v)throw new ve("SSO returns an invalid temporary credential.",zi);return{accessKeyId:p,secretAccessKey:h,sessionToken:y,expiration:new Date(v)}},Zw=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:s,sso_role_name:n}=e;if(!t||!r||!s||!n)throw new ve(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e},e0=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:s,ssoRoleName:n,ssoClient:i,ssoSession:a}=e,o=ai(e);if(!t&&!r&&!s&&!n&&!a){let d=(await Ao(e))[o];if(!d)throw new ve(`Profile ${o} was not found.`);if(!yw(d))throw new ve(`Profile ${o} is not configured with SSO credentials.`);if(d?.sso_session){let E=(await ow(e))[d.sso_session],M=` configurations in profile ${o} and sso-session ${d.sso_session}`;if(s&&s!==E.sso_region)throw new ve("Conflicting SSO region"+M,!1);if(t&&t!==E.sso_start_url)throw new ve("Conflicting SSO start_url"+M,!1);d.sso_region=E.sso_region,d.sso_start_url=E.sso_start_url}let{sso_start_url:l,sso_account_id:m,sso_region:p,sso_role_name:h,sso_session:y}=Zw(d);return Dh({ssoStartUrl:l,ssoSession:y,ssoAccountId:m,ssoRegion:p,ssoRoleName:h,ssoClient:i,profile:o})}else{if(!t||!r||!s||!n)throw new ve('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return Dh({ssoStartUrl:t,ssoSession:a,ssoAccountId:r,ssoRegion:s,ssoRoleName:n,ssoClient:i,profile:o})}},VN=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:s,sso_region:n,sso_role_name:i}=Zw(e);return e0({ssoStartUrl:t,ssoAccountId:r,ssoSession:s,ssoRegion:n,ssoRoleName:i})()},Oh=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,Fh=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token}),HN=require("fs"),WN=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:s,providerId:n,policyArns:i,policy:a,durationSeconds:o,roleAssumerWithWebIdentity:c}=e;if(!c)throw new ve(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:n,PolicyArns:i,Policy:a,DurationSeconds:o})},KN="AWS_WEB_IDENTITY_TOKEN_FILE",QN="AWS_ROLE_ARN",JN="AWS_ROLE_SESSION_NAME",t0=(e={})=>async()=>{let t=e?.webIdentityTokenFile??process.env[KN],r=e?.roleArn??process.env[QN],s=e?.roleSessionName??process.env[JN];if(!t||!r)throw new ve("Web identity configuration not specified");return WN({...e,webIdentityToken:(0,HN.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:s})()},XN=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,YN=async(e,t)=>t0({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})(),r0=async(e,t,r,s={})=>{let n=t[e];if(Object.keys(s).length>0&&Oh(n))return Fh(n);if(tT(n))return nT(e,t,r,s);if(Oh(n))return Fh(n);if(XN(n))return YN(n,r);if(dT(n))return lT(r,e);if(yw(n))return VN(n);throw new ve(`Profile ${e} could not be found or parsed in shared credentials file.`)},ZN=(e={})=>async()=>{let t=await Ao(e);return r0(ai(e),t,e)},e3="AWS_EC2_METADATA_DISABLED",t3=e=>process.env[ao]||process.env[io]?uw(e):process.env[e3]?async()=>{throw new ve("EC2 Instance Metadata Service access disabled")}:hw(e),qt=(e={})=>Io(Kg(...e.profile||process.env[rw]?[]:[tw()],e0(e),ZN(e),fw(e),t0(e),t3(e),async()=>{throw new ve("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0),s0="required",ae="type",fe="fn",ye="argv",Xs="ref",Mh=!1,r3=!0,yn="booleanEquals",Br="tree",Ft="stringEquals",n0="sigv4",i0="sts",a0="us-east-1",_e="endpoint",Lh="https://sts.{Region}.{PartitionResult#dnsSuffix}",On="error",Jl="getAttr",Bh={[s0]:!1,[ae]:"String"},Kc={[s0]:!0,default:!1,[ae]:"Boolean"},o0={[Xs]:"Endpoint"},zh={[fe]:"isSet",[ye]:[{[Xs]:"Region"}]},Mt={[Xs]:"Region"},qh={[fe]:"aws.partition",[ye]:[Mt],assign:"PartitionResult"},c0={[Xs]:"UseFIPS"},d0={[Xs]:"UseDualStack"},$t={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:n0,signingName:i0,signingRegion:a0}]},headers:{}},sr={},$h={conditions:[{[fe]:Ft,[ye]:[Mt,"aws-global"]}],[_e]:$t,[ae]:_e},l0={[fe]:yn,[ye]:[c0,!0]},u0={[fe]:yn,[ye]:[d0,!0]},Uh={[fe]:yn,[ye]:[!0,{[fe]:Jl,[ye]:[{[Xs]:"PartitionResult"},"supportsFIPS"]}]},m0={[Xs]:"PartitionResult"},jh={[fe]:yn,[ye]:[!0,{[fe]:Jl,[ye]:[m0,"supportsDualStack"]}]},Gh=[{[fe]:"isSet",[ye]:[o0]}],Vh=[l0],Hh=[u0],s3={version:"1.0",parameters:{Region:Bh,UseDualStack:Kc,UseFIPS:Kc,Endpoint:Bh,UseGlobalEndpoint:Kc},rules:[{conditions:[{[fe]:yn,[ye]:[{[Xs]:"UseGlobalEndpoint"},r3]},{[fe]:"not",[ye]:Gh},zh,qh,{[fe]:yn,[ye]:[c0,Mh]},{[fe]:yn,[ye]:[d0,Mh]}],[ae]:Br,rules:[{conditions:[{[fe]:Ft,[ye]:[Mt,"ap-northeast-1"]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,"ap-south-1"]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,"ap-southeast-1"]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,"ap-southeast-2"]}],endpoint:$t,[ae]:_e},$h,{conditions:[{[fe]:Ft,[ye]:[Mt,"ca-central-1"]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,"eu-central-1"]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,"eu-north-1"]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,"eu-west-1"]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,"eu-west-2"]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,"eu-west-3"]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,"sa-east-1"]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,a0]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,"us-east-2"]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,"us-west-1"]}],endpoint:$t,[ae]:_e},{conditions:[{[fe]:Ft,[ye]:[Mt,"us-west-2"]}],endpoint:$t,[ae]:_e},{endpoint:{url:Lh,properties:{authSchemes:[{name:n0,signingName:i0,signingRegion:"{Region}"}]},headers:sr},[ae]:_e}]},{conditions:Gh,[ae]:Br,rules:[{conditions:Vh,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[ae]:On},{conditions:Hh,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ae]:On},{endpoint:{url:o0,properties:sr,headers:sr},[ae]:_e}]},{conditions:[zh],[ae]:Br,rules:[{conditions:[qh],[ae]:Br,rules:[{conditions:[l0,u0],[ae]:Br,rules:[{conditions:[Uh,jh],[ae]:Br,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:sr,headers:sr},[ae]:_e}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ae]:On}]},{conditions:Vh,[ae]:Br,rules:[{conditions:[Uh],[ae]:Br,rules:[{conditions:[{[fe]:Ft,[ye]:["aws-us-gov",{[fe]:Jl,[ye]:[m0,"name"]}]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:sr,headers:sr},[ae]:_e},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:sr,headers:sr},[ae]:_e}]},{error:"FIPS is enabled but this partition does not support FIPS",[ae]:On}]},{conditions:Hh,[ae]:Br,rules:[{conditions:[jh],[ae]:Br,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:sr,headers:sr},[ae]:_e}]},{error:"DualStack is enabled but this partition does not support DualStack",[ae]:On}]},$h,{endpoint:{url:Lh,properties:sr,headers:sr},[ae]:_e}]}]},{error:"Invalid Configuration: Missing Region",[ae]:On}]},n3=s3,i3=(e,t={})=>Ye(n3,{endpointParams:e,logger:t.logger}),a3=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??i3,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),o3=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=a3(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Yx(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:ax.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},Qc=e=>e,c3=(e,t)=>{let r={...Qc(Tt(e)),...Qc(kt(e)),...Qc(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},Xl=class p0 extends ut{constructor(...[t]){let r=o3(t||{}),s=ix(r),n=st(s),i=it(n),a=ot(i),o=a,c=nx(o,{stsClientCtor:p0}),d=Xe(c),l=c3(d,t?.extensions||[]);super(l),this.config=l,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},d3=class h0 extends Q{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,h0.getEndpointParameterInstructions())),this.middlewareStack.use(Je(r));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"STSClient",commandName:"GetCallerIdentityCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AWSSecurityTokenServiceV20110615",operation:"GetCallerIdentity"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return wx(t,r)}deserialize(t,r){return Px(t,r)}},f0=(e,t)=>t?class extends e{constructor(s){super(s);for(let n of t)this.middlewareStack.use(n)}}:e,l3=(e={},t)=>Zb(e,f0(Xl,t)),u3=(e={},t)=>ew(e,f0(Xl,t)),Gt=e=>t=>e({roleAssumer:l3(t),roleAssumerWithWebIdentity:u3(t),...t}),y0="required",Es="fn",Is="argv",di="ref",Wh="isSet",rs="tree",Fn="error",qi="endpoint",Yl="PartitionResult",Kh={[y0]:!1,type:"String"},Qh={[y0]:!0,default:!1,type:"Boolean"},Jh={[di]:"Endpoint"},v0={[Es]:"booleanEquals",[Is]:[{[di]:"UseFIPS"},!0]},g0={[Es]:"booleanEquals",[Is]:[{[di]:"UseDualStack"},!0]},zr={},Xh={[Es]:"booleanEquals",[Is]:[!0,{[Es]:"getAttr",[Is]:[{[di]:Yl},"supportsFIPS"]}]},Yh={[Es]:"booleanEquals",[Is]:[!0,{[Es]:"getAttr",[Is]:[{[di]:Yl},"supportsDualStack"]}]},Zh=[v0],ef=[g0],tf=[{[di]:"Region"}],m3={version:"1.0",parameters:{Region:Kh,UseDualStack:Qh,UseFIPS:Qh,Endpoint:Kh},rules:[{conditions:[{[Es]:Wh,[Is]:[Jh]}],type:rs,rules:[{conditions:Zh,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Fn},{conditions:ef,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Fn},{endpoint:{url:Jh,properties:zr,headers:zr},type:qi}]},{conditions:[{[Es]:Wh,[Is]:tf}],type:rs,rules:[{conditions:[{[Es]:"aws.partition",[Is]:tf,assign:Yl}],type:rs,rules:[{conditions:[v0,g0],type:rs,rules:[{conditions:[Xh,Yh],type:rs,rules:[{endpoint:{url:"https://apigateway-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zr,headers:zr},type:qi}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Fn}]},{conditions:Zh,type:rs,rules:[{conditions:[Xh],type:rs,rules:[{endpoint:{url:"https://apigateway-fips.{Region}.{PartitionResult#dnsSuffix}",properties:zr,headers:zr},type:qi}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Fn}]},{conditions:ef,type:rs,rules:[{conditions:[Yh],type:rs,rules:[{endpoint:{url:"https://apigateway.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:zr,headers:zr},type:qi}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Fn}]},{endpoint:{url:"https://apigateway.{Region}.{PartitionResult#dnsSuffix}",properties:zr,headers:zr},type:qi}]}]},{error:"Invalid Configuration: Missing Region",type:Fn}]},p3=m3,h3=(e,t={})=>Ye(p3,{endpointParams:e,logger:t.logger}),f3=e=>({apiVersion:"2018-11-29",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??h3,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"ApiGatewayV2",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),y3=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=f3(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:sx.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},Jc=e=>e,v3=(e,t)=>{let r={...Jc(Tt(e)),...Jc(kt(e)),...Jc(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},g3=class extends ut{constructor(...[e]){let t=y3(e||{}),r=rx(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=v3(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},Ro=class b0 extends ht{constructor(t){super(t),Object.setPrototypeOf(this,b0.prototype)}},b3=class w0 extends Ro{constructor(t){super({name:"BadRequestException",$fault:"client",...t}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,w0.prototype),this.Message=t.Message}},w3=class S0 extends Ro{constructor(t){super({name:"NotFoundException",$fault:"client",...t}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,S0.prototype),this.Message=t.Message,this.ResourceType=t.ResourceType}},S3=class E0 extends Ro{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,E0.prototype),this.LimitType=t.LimitType,this.Message=t.Message}},E3=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/v2/apis/{ApiId}`;o=Me(o,e,"ApiId",()=>e.ApiId,"{ApiId}",!1);let c;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,body:c})},I3=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/v2/apis`,c=_({maxResults:[,e.MaxResults],nextToken:[,e.NextToken]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},C3=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/v2/apis/{ApiId}/routes`;o=Me(o,e,"ApiId",()=>e.ApiId,"{ApiId}",!1);let c=_({maxResults:[,e.MaxResults],nextToken:[,e.NextToken]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},P3=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return A3(e,t);let r=_({$metadata:li(e)}),s=D(he(await ko(e.body,t)),"body"),n=R(s,{ApiEndpoint:[,u,"apiEndpoint"],ApiGatewayManaged:[,Te,"apiGatewayManaged"],ApiId:[,u,"apiId"],ApiKeySelectionExpression:[,u,"apiKeySelectionExpression"],CorsConfiguration:[,i=>C0(i,t),"corsConfiguration"],CreatedDate:[,i=>D(Bt(i)),"createdDate"],Description:[,u,"description"],DisableExecuteApiEndpoint:[,Te,"disableExecuteApiEndpoint"],DisableSchemaValidation:[,Te,"disableSchemaValidation"],ImportInfo:[,S,"importInfo"],Name:[,u,"name"],ProtocolType:[,u,"protocolType"],RouteSelectionExpression:[,u,"routeSelectionExpression"],Tags:[,S,"tags"],Version:[,u,"version"],Warnings:[,S,"warnings"]});return Object.assign(r,n),r},A3=async(e,t)=>{let r={...e,body:await ru(e.body,t)},s=su(e,r.body);switch(s){case"NotFoundException":case"com.amazonaws.apigatewayv2#NotFoundException":throw await eu(r,t);case"TooManyRequestsException":case"com.amazonaws.apigatewayv2#TooManyRequestsException":throw await tu(r,t);default:let n=r.body;return Zl({output:e,parsedBody:n,errorCode:s})}},_3=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return R3(e,t);let r=_({$metadata:li(e)}),s=D(he(await ko(e.body,t)),"body"),n=R(s,{Items:[,i=>T3(i,t),"items"],NextToken:[,u,"nextToken"]});return Object.assign(r,n),r},R3=async(e,t)=>{let r={...e,body:await ru(e.body,t)},s=su(e,r.body);switch(s){case"BadRequestException":case"com.amazonaws.apigatewayv2#BadRequestException":throw await I0(r,t);case"NotFoundException":case"com.amazonaws.apigatewayv2#NotFoundException":throw await eu(r,t);case"TooManyRequestsException":case"com.amazonaws.apigatewayv2#TooManyRequestsException":throw await tu(r,t);default:let n=r.body;return Zl({output:e,parsedBody:n,errorCode:s})}},k3=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return x3(e,t);let r=_({$metadata:li(e)}),s=D(he(await ko(e.body,t)),"body"),n=R(s,{Items:[,i=>N3(i,t),"items"],NextToken:[,u,"nextToken"]});return Object.assign(r,n),r},x3=async(e,t)=>{let r={...e,body:await ru(e.body,t)},s=su(e,r.body);switch(s){case"BadRequestException":case"com.amazonaws.apigatewayv2#BadRequestException":throw await I0(r,t);case"NotFoundException":case"com.amazonaws.apigatewayv2#NotFoundException":throw await eu(r,t);case"TooManyRequestsException":case"com.amazonaws.apigatewayv2#TooManyRequestsException":throw await tu(r,t);default:let n=r.body;return Zl({output:e,parsedBody:n,errorCode:s})}},Zl=ft(Ro),I0=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{Message:[,u,"message"]});Object.assign(r,n);let i=new b3({$metadata:li(e),...r});return O(i,e.body)},eu=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{Message:[,u,"message"],ResourceType:[,u,"resourceType"]});Object.assign(r,n);let i=new w3({$metadata:li(e),...r});return O(i,e.body)},tu=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{LimitType:[,u,"limitType"],Message:[,u,"message"]});Object.assign(r,n);let i=new S3({$metadata:li(e),...r});return O(i,e.body)},T3=(e,t)=>(e||[]).filter(s=>s!=null).map(s=>D3(s,t)),N3=(e,t)=>(e||[]).filter(s=>s!=null).map(s=>F3(s,t)),D3=(e,t)=>R(e,{ApiEndpoint:[,u,"apiEndpoint"],ApiGatewayManaged:[,Te,"apiGatewayManaged"],ApiId:[,u,"apiId"],ApiKeySelectionExpression:[,u,"apiKeySelectionExpression"],CorsConfiguration:[,r=>C0(r,t),"corsConfiguration"],CreatedDate:[,r=>D(Bt(r)),"createdDate"],Description:[,u,"description"],DisableExecuteApiEndpoint:[,Te,"disableExecuteApiEndpoint"],DisableSchemaValidation:[,Te,"disableSchemaValidation"],ImportInfo:[,S,"importInfo"],Name:[,u,"name"],ProtocolType:[,u,"protocolType"],RouteSelectionExpression:[,u,"routeSelectionExpression"],Tags:[,S,"tags"],Version:[,u,"version"],Warnings:[,S,"warnings"]}),C0=(e,t)=>R(e,{AllowCredentials:[,Te,"allowCredentials"],AllowHeaders:[,S,"allowHeaders"],AllowMethods:[,S,"allowMethods"],AllowOrigins:[,S,"allowOrigins"],ExposeHeaders:[,S,"exposeHeaders"],MaxAge:[,At,"maxAge"]}),O3=(e,t)=>R(e,{Required:[,Te,"required"]}),F3=(e,t)=>R(e,{ApiGatewayManaged:[,Te,"apiGatewayManaged"],ApiKeyRequired:[,Te,"apiKeyRequired"],AuthorizationScopes:[,S,"authorizationScopes"],AuthorizationType:[,u,"authorizationType"],AuthorizerId:[,u,"authorizerId"],ModelSelectionExpression:[,u,"modelSelectionExpression"],OperationName:[,u,"operationName"],RequestModels:[,S,"requestModels"],RequestParameters:[,r=>M3(r,t),"requestParameters"],RouteId:[,u,"routeId"],RouteKey:[,u,"routeKey"],RouteResponseSelectionExpression:[,u,"routeResponseSelectionExpression"],Target:[,u,"target"]}),M3=(e,t)=>Object.entries(e).reduce((r,[s,n])=>(n===null||(r[s]=O3(n,t)),r),{}),li=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),L3=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),ko=(e,t)=>L3(e,t).then(r=>r.length?JSON.parse(r):{}),ru=async(e,t)=>{let r=await ko(e,t);return r.message=r.message??r.Message,r},su=(e,t)=>{let r=(i,a)=>Object.keys(i).find(o=>o.toLowerCase()===a.toLowerCase()),s=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t.code!==void 0)return s(t.code);if(t.__type!==void 0)return s(t.__type)},B3=class P0 extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,P0.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"ApiGatewayV2Client",commandName:"GetApiCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"ApiGatewayV2",operation:"GetApi"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return E3(t,r)}deserialize(t,r){return P3(t,r)}},z3=class A0 extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,A0.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"ApiGatewayV2Client",commandName:"GetApisCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"ApiGatewayV2",operation:"GetApis"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return I3(t,r)}deserialize(t,r){return _3(t,r)}},q3=class _0 extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,_0.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"ApiGatewayV2Client",commandName:"GetRoutesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"ApiGatewayV2",operation:"GetRoutes"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return C3(t,r)}deserialize(t,r){return k3(t,r)}},$3=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6,nu=e=>{let t=e.split(":");if(t.length<6||t[0]!=="arn")throw new Error("Malformed ARN");let[,r,s,n,i,...a]=t;return{partition:r,service:s,region:n,accountId:i,resource:a.join(":")}},U3=e=>{let{partition:t="aws",service:r,region:s,accountId:n,resource:i}=e;if([r,s,n,i].some(a=>typeof a!="string"))throw new Error("Input ARN object is invalid");return`arn:${t}:${r}:${s}:${n}:${i}`},te=class el{constructor(t,r){this.resource=t,this.service=r}partition="aws";accountId=process.env.AWS_ACCOUNT_ID;region=process.env.AWS_REGION;is=t=>t.accountId===this.accountId&&t.partition===this.partition&&t.region===this.region&&t.resource===this.resource&&t.service===this.service;static areARNsEqual=(t,r)=>t.is(r);static fromArnString=t=>{let r=nu(t);return new el(r.resource,r.service)};static checkArnType=t=>r=>r instanceof t;static filterArns=(t,r)=>t.filter(el.checkArnType(r));static filterIgnoredArns=(t,r)=>t.filter(s=>r.findIndex(n=>s.toString().match(n))<0);toString=()=>U3(this)},iu=class R0 extends te{constructor(t){super(t,"apigateway")}static fromApiId=t=>new R0(`/apis/${t}`);static fromPhysicalId=t=>this.fromApiId(t);getApiId=()=>{let t=this.resource.split("/")[2];if(t===void 0)throw new Error("Invalid API Gateway HTTP API ARN");return t}},au=class k0 extends te{constructor(t){super(t,"apigateway")}static fromApiId=t=>new k0(`/restapis/${t}`);static fromPhysicalId=t=>this.fromApiId(t);getApiId=()=>{let t=this.resource.split("/")[2];if(t===void 0)throw new Error("Invalid API Gateway REST API ARN");return t}},x0=class tl extends te{constructor(t){super(t,"backup")}static fromBackupPlanId=t=>new tl(`backup-plan:${t}`);static fromPhysicalId=t=>tl.fromBackupPlanId(t);getBackupPlanId=()=>{let t=this.resource.split(":")[1];if(t===void 0)throw new Error("Invalid Backup Plan ARN");return t}},ui=class rl extends te{constructor(t){super(t,"cloudfront")}static fromDistributionId=t=>new rl(`distribution/${t}`);static fromPhysicalId=t=>rl.fromDistributionId(t);getDistributionId=()=>{let t=this.resource.split("/")[1];if(t===void 0)throw new Error("Invalid CloudFront Distribution ARN");return t}},xo=class sl extends te{constructor(t){super(t,"logs")}static fromLogGroupName=t=>new sl(`log-group:${t}`);static fromPhysicalId=t=>sl.fromLogGroupName(t)},vo=class nl extends te{constructor(t){super(t,"cognito-idp")}static fromUserPoolId=t=>new nl(`userpool/${t}`);static fromPhysicalId=t=>nl.fromUserPoolId(t);getUserPoolId=()=>{let t=this.resource.split("/")[1];if(t===void 0)throw new Error("Invalid Cognito User Pool ARN");return t}},To=class il extends te{constructor(t){super(t,"dynamodb")}static fromTableName=t=>new il(`table/${t}`);static fromPhysicalId=t=>il.fromTableName(t);getTableName=()=>{let t=this.resource.split("/")[1];if(t===void 0)throw new Error("Invalid DynamoDB Table ARN");return t}},ou=class al extends te{constructor(t){super(t,"events")}static fromEventBusName=t=>new al(`event-bus/${t}`);static fromPhysicalId=t=>al.fromEventBusName(t);getEventBusName=()=>{let t=this.resource.split("/")[1];if(t===void 0)throw new Error("Invalid EventBridge Event Bus ARN");return t}},j3=class T0 extends te{constructor(t){super(t,"events")}static fromRuleName=t=>new T0(`rule/${t}`)},Ms=class ol extends te{constructor(t){super(t,"lambda")}static fromFunctionName=t=>new ol(`function:${t}`);static fromPhysicalId=t=>ol.fromFunctionName(t);getFunctionName=()=>{let t=this.resource.split(":")[1];if(t===void 0)throw new Error("Invalid Lambda Function ARN");return t}},cu=class cl extends te{constructor(t){super(t,"rds")}static fromRdsInstanceName=t=>new cl(`db:${t}`);static fromPhysicalId=t=>cl.fromRdsInstanceName(t);getRdsName=()=>{let t=this.resource.split(":")[1];if(t===void 0)throw new Error("Invalid RDS Instance ARN");return t}},da=class N0 extends te{constructor(t){super(t,"s3")}static fromBucketName=t=>new N0(t);static fromPhysicalId=t=>this.fromBucketName(t)},du=class dl extends te{constructor(t){super(t,"ses")}static fromIdentityName=t=>new dl(`identity/${t}`);static fromPhysicalId=t=>dl.fromIdentityName(t);getIdentity=()=>{let t=this.resource.split("/")[1];if(t===void 0)throw new Error("Invalid SES Identity ARN");return t}},lu=class ll extends te{constructor(t){super(t,"ses")}static fromConfigurationSetName=t=>new ll(`configuration/${t}`);getName=()=>{let t=this.resource.split("/")[1];if(t===void 0)throw new Error("Invalid SES Configuration Set ARN");return t};static fromPhysicalId=t=>ll.fromConfigurationSetName(t)},uu=class oo extends te{constructor(t){super(t,"sns")}static fromName=t=>new oo(t);static fromArnString=t=>{let r=nu(t);return new oo(r.resource)};static fromPhysicalId=t=>oo.fromArnString(t)},mu=class co extends te{constructor(t){super(t,"sns")}static fromName=t=>new co(t);static fromArnString=t=>{let r=nu(t);return new co(r.resource)};static fromPhysicalId=t=>co.fromArnString(t)},No=class ul extends te{constructor(t){super(t,"sqs")}static fromQueueUrl=t=>{let s=t.split("/").pop();if(s===void 0)throw new Error(`Error while retrieving sqs queue name of ${t}`);return new ul(s)};static fromPhysicalId=t=>ul.fromQueueUrl(t)};function G3(){return e=>async t=>{let{request:r}=t;return Y.isInstance(r)&&(r.headers={...r.headers,accept:"application/json"}),e({...t,request:r})}}var V3={step:"build",tags:["SET_ACCEPT_HEADER","ACCEPT_HEADER"],name:"acceptHeaderMiddleware",override:!0},H3=e=>({applyToStack:t=>{t.add(G3(),V3)}}),W3=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"apigateway"}),K3={name:"@aws-sdk/client-api-gateway",description:"AWS SDK for JavaScript Api Gateway Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo api-gateway"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-sdk-api-gateway":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-stream":"^2.0.12","@smithy/util-utf8":"^2.0.0",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-api-gateway",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-api-gateway"}},D0="required",Cs="fn",Ps="argv",mi="ref",rf="isSet",ss="tree",Mn="error",$i="endpoint",pu="PartitionResult",sf={[D0]:!1,type:"String"},nf={[D0]:!0,default:!1,type:"Boolean"},af={[mi]:"Endpoint"},O0={[Cs]:"booleanEquals",[Ps]:[{[mi]:"UseFIPS"},!0]},F0={[Cs]:"booleanEquals",[Ps]:[{[mi]:"UseDualStack"},!0]},qr={},of={[Cs]:"booleanEquals",[Ps]:[!0,{[Cs]:"getAttr",[Ps]:[{[mi]:pu},"supportsFIPS"]}]},cf={[Cs]:"booleanEquals",[Ps]:[!0,{[Cs]:"getAttr",[Ps]:[{[mi]:pu},"supportsDualStack"]}]},df=[O0],lf=[F0],uf=[{[mi]:"Region"}],Q3={version:"1.0",parameters:{Region:sf,UseDualStack:nf,UseFIPS:nf,Endpoint:sf},rules:[{conditions:[{[Cs]:rf,[Ps]:[af]}],type:ss,rules:[{conditions:df,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Mn},{conditions:lf,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Mn},{endpoint:{url:af,properties:qr,headers:qr},type:$i}]},{conditions:[{[Cs]:rf,[Ps]:uf}],type:ss,rules:[{conditions:[{[Cs]:"aws.partition",[Ps]:uf,assign:pu}],type:ss,rules:[{conditions:[O0,F0],type:ss,rules:[{conditions:[of,cf],type:ss,rules:[{endpoint:{url:"https://apigateway-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qr,headers:qr},type:$i}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Mn}]},{conditions:df,type:ss,rules:[{conditions:[of],type:ss,rules:[{endpoint:{url:"https://apigateway-fips.{Region}.{PartitionResult#dnsSuffix}",properties:qr,headers:qr},type:$i}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Mn}]},{conditions:lf,type:ss,rules:[{conditions:[cf],type:ss,rules:[{endpoint:{url:"https://apigateway.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:qr,headers:qr},type:$i}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Mn}]},{endpoint:{url:"https://apigateway.{Region}.{PartitionResult#dnsSuffix}",properties:qr,headers:qr},type:$i}]}]},{error:"Invalid Configuration: Missing Region",type:Mn}]},J3=Q3,X3=(e,t={})=>Ye(J3,{endpointParams:e,logger:t.logger}),Y3=e=>({apiVersion:"2015-07-09",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??X3,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"API Gateway",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),Z3=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=Y3(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:K3.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},Xc=e=>e,eD=(e,t)=>{let r={...Xc(Tt(e)),...Xc(kt(e)),...Xc(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},tD=class extends ut{constructor(...[e]){let t=Z3(e||{}),r=W3(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=eD(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(H3(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},la=class M0 extends ht{constructor(t){super(t),Object.setPrototypeOf(this,M0.prototype)}},rD=class L0 extends la{constructor(t){super({name:"BadRequestException",$fault:"client",...t}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,L0.prototype)}},sD=class B0 extends la{constructor(t){super({name:"NotFoundException",$fault:"client",...t}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,B0.prototype)}},nD=class z0 extends la{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,z0.prototype),this.retryAfterSeconds=t.retryAfterSeconds}},iD=class q0 extends la{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,q0.prototype)}},aD=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/restapis/{restApiId}/resources`;o=Me(o,e,"restApiId",()=>e.restApiId,"{restApiId}",!1);let c=_({position:[,e.position],limit:[()=>e.limit!==void 0,()=>e.limit.toString()],embed:[()=>e.embed!==void 0,()=>(e.embed||[]).map(l=>l)]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},oD=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/restapis`,c=_({position:[,e.position],limit:[()=>e.limit!==void 0,()=>e.limit.toString()]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},cD=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return dD(e,t);let r=_({$metadata:pi(e)}),s=D(he(await hu(e.body,t)),"body"),n=R(s,{items:[,S,"item"],position:u});return Object.assign(r,n),r},dD=async(e,t)=>{let r={...e,body:await H0(e.body,t)},s=W0(e,r.body);switch(s){case"BadRequestException":case"com.amazonaws.apigateway#BadRequestException":throw await U0(r,t);case"NotFoundException":case"com.amazonaws.apigateway#NotFoundException":throw await j0(r,t);case"TooManyRequestsException":case"com.amazonaws.apigateway#TooManyRequestsException":throw await G0(r,t);case"UnauthorizedException":case"com.amazonaws.apigateway#UnauthorizedException":throw await V0(r,t);default:let n=r.body;return $0({output:e,parsedBody:n,errorCode:s})}},lD=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return uD(e,t);let r=_({$metadata:pi(e)}),s=D(he(await hu(e.body,t)),"body"),n=R(s,{items:[,i=>mD(i,t),"item"],position:u});return Object.assign(r,n),r},uD=async(e,t)=>{let r={...e,body:await H0(e.body,t)},s=W0(e,r.body);switch(s){case"BadRequestException":case"com.amazonaws.apigateway#BadRequestException":throw await U0(r,t);case"NotFoundException":case"com.amazonaws.apigateway#NotFoundException":throw await j0(r,t);case"TooManyRequestsException":case"com.amazonaws.apigateway#TooManyRequestsException":throw await G0(r,t);case"UnauthorizedException":case"com.amazonaws.apigateway#UnauthorizedException":throw await V0(r,t);default:let n=r.body;return $0({output:e,parsedBody:n,errorCode:s})}},$0=ft(la),U0=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{message:u});Object.assign(r,n);let i=new rD({$metadata:pi(e),...r});return O(i,e.body)},j0=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{message:u});Object.assign(r,n);let i=new sD({$metadata:pi(e),...r});return O(i,e.body)},G0=async(e,t)=>{let r=_({retryAfterSeconds:[,e.headers["retry-after"]]}),s=e.body,n=R(s,{message:u});Object.assign(r,n);let i=new nD({$metadata:pi(e),...r});return O(i,e.body)},V0=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{message:u});Object.assign(r,n);let i=new iD({$metadata:pi(e),...r});return O(i,e.body)},mD=(e,t)=>(e||[]).filter(s=>s!=null).map(s=>pD(s,t)),pD=(e,t)=>R(e,{apiKeySource:u,binaryMediaTypes:S,createdDate:r=>D(Se(ge(r))),description:u,disableExecuteApiEndpoint:Te,endpointConfiguration:S,id:u,minimumCompressionSize:At,name:u,policy:u,rootResourceId:u,tags:S,version:u,warnings:S}),pi=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),hD=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),hu=(e,t)=>hD(e,t).then(r=>r.length?JSON.parse(r):{}),H0=async(e,t)=>{let r=await hu(e,t);return r.message=r.message??r.Message,r},W0=(e,t)=>{let r=(i,a)=>Object.keys(i).find(o=>o.toLowerCase()===a.toLowerCase()),s=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t.code!==void 0)return s(t.code);if(t.__type!==void 0)return s(t.__type)},fD=class K0 extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,K0.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"APIGatewayClient",commandName:"GetResourcesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"BackplaneControlService",operation:"GetResources"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return aD(t,r)}deserialize(t,r){return cD(t,r)}},yD=class Q0 extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,Q0.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"APIGatewayClient",commandName:"GetRestApisCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"BackplaneControlService",operation:"GetRestApis"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return oD(t,r)}deserialize(t,r){return lD(t,r)}},vD=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"backup"}),gD={name:"@aws-sdk/client-backup",description:"AWS SDK for JavaScript Backup Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo backup"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0",tslib:"^2.5.0",uuid:"^8.3.2"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31","@types/uuid":"^8.3.0",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-backup",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-backup"}},J0="required",As="fn",_s="argv",hi="ref",mf="isSet",ns="tree",Ln="error",Ui="endpoint",fu="PartitionResult",pf={[J0]:!1,type:"String"},hf={[J0]:!0,default:!1,type:"Boolean"},ff={[hi]:"Endpoint"},X0={[As]:"booleanEquals",[_s]:[{[hi]:"UseFIPS"},!0]},Y0={[As]:"booleanEquals",[_s]:[{[hi]:"UseDualStack"},!0]},$r={},yf={[As]:"booleanEquals",[_s]:[!0,{[As]:"getAttr",[_s]:[{[hi]:fu},"supportsFIPS"]}]},vf={[As]:"booleanEquals",[_s]:[!0,{[As]:"getAttr",[_s]:[{[hi]:fu},"supportsDualStack"]}]},gf=[X0],bf=[Y0],wf=[{[hi]:"Region"}],bD={version:"1.0",parameters:{Region:pf,UseDualStack:hf,UseFIPS:hf,Endpoint:pf},rules:[{conditions:[{[As]:mf,[_s]:[ff]}],type:ns,rules:[{conditions:gf,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ln},{conditions:bf,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ln},{endpoint:{url:ff,properties:$r,headers:$r},type:Ui}]},{conditions:[{[As]:mf,[_s]:wf}],type:ns,rules:[{conditions:[{[As]:"aws.partition",[_s]:wf,assign:fu}],type:ns,rules:[{conditions:[X0,Y0],type:ns,rules:[{conditions:[yf,vf],type:ns,rules:[{endpoint:{url:"https://backup-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:$r,headers:$r},type:Ui}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ln}]},{conditions:gf,type:ns,rules:[{conditions:[yf],type:ns,rules:[{endpoint:{url:"https://backup-fips.{Region}.{PartitionResult#dnsSuffix}",properties:$r,headers:$r},type:Ui}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Ln}]},{conditions:bf,type:ns,rules:[{conditions:[vf],type:ns,rules:[{endpoint:{url:"https://backup.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:$r,headers:$r},type:Ui}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Ln}]},{endpoint:{url:"https://backup.{Region}.{PartitionResult#dnsSuffix}",properties:$r,headers:$r},type:Ui}]}]},{error:"Invalid Configuration: Missing Region",type:Ln}]},wD=bD,SD=(e,t={})=>Ye(wD,{endpointParams:e,logger:t.logger}),ED=e=>({apiVersion:"2018-11-15",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??SD,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"Backup",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),ID=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=ED(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:gD.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},Yc=e=>e,CD=(e,t)=>{let r={...Yc(Tt(e)),...Yc(kt(e)),...Yc(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},Z0=class extends ut{constructor(...[e]){let t=ID(e||{}),r=vD(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=CD(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},ua=class eS extends ht{constructor(t){super(t),Object.setPrototypeOf(this,eS.prototype)}},PD=class tS extends ua{constructor(t){super({name:"InvalidParameterValueException",$fault:"client",...t}),this.name="InvalidParameterValueException",this.$fault="client",Object.setPrototypeOf(this,tS.prototype),this.Code=t.Code,this.Message=t.Message,this.Type=t.Type,this.Context=t.Context}},AD=class rS extends ua{constructor(t){super({name:"MissingParameterValueException",$fault:"client",...t}),this.name="MissingParameterValueException",this.$fault="client",Object.setPrototypeOf(this,rS.prototype),this.Code=t.Code,this.Message=t.Message,this.Type=t.Type,this.Context=t.Context}},_D=class sS extends ua{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,sS.prototype),this.Code=t.Code,this.Message=t.Message,this.Type=t.Type,this.Context=t.Context}},RD=class nS extends ua{constructor(t){super({name:"ServiceUnavailableException",$fault:"server",...t}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,nS.prototype),this.Code=t.Code,this.Message=t.Message,this.Type=t.Type,this.Context=t.Context}},kD=e=>({...e,...e.RecoveryPointTags&&{RecoveryPointTags:Ut}}),xD=e=>({...e,...e.Rules&&{Rules:e.Rules.map(t=>kD(t))}}),TD=e=>({...e,...e.BackupPlan&&{BackupPlan:xD(e.BackupPlan)}}),ND=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/backup/plans/{BackupPlanId}`;o=Me(o,e,"BackupPlanId",()=>e.BackupPlanId,"{BackupPlanId}",!1);let c=_({versionId:[,e.VersionId]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},DD=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/backup/plans/{BackupPlanId}/selections/{SelectionId}`;o=Me(o,e,"BackupPlanId",()=>e.BackupPlanId,"{BackupPlanId}",!1),o=Me(o,e,"SelectionId",()=>e.SelectionId,"{SelectionId}",!1);let c;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,body:c})},OD=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/backup/plans`,c=_({nextToken:[,e.NextToken],maxResults:[()=>e.MaxResults!==void 0,()=>e.MaxResults.toString()],includeDeleted:[()=>e.IncludeDeleted!==void 0,()=>e.IncludeDeleted.toString()]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},FD=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/backup/plans/{BackupPlanId}/selections`;o=Me(o,e,"BackupPlanId",()=>e.BackupPlanId,"{BackupPlanId}",!1);let c=_({nextToken:[,e.NextToken],maxResults:[()=>e.MaxResults!==void 0,()=>e.MaxResults.toString()]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},MD=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return LD(e,t);let r=_({$metadata:Ys(e)}),s=D(he(await ma(e.body,t)),"body"),n=R(s,{AdvancedBackupSettings:S,BackupPlan:S,BackupPlanArn:u,BackupPlanId:u,CreationDate:i=>D(Se(ge(i))),CreatorRequestId:u,DeletionDate:i=>D(Se(ge(i))),LastExecutionDate:i=>D(Se(ge(i))),VersionId:u});return Object.assign(r,n),r},LD=async(e,t)=>{let r={...e,body:await Bo(e.body,t)},s=zo(e,r.body);switch(s){case"InvalidParameterValueException":case"com.amazonaws.backup#InvalidParameterValueException":throw await Oo(r,t);case"MissingParameterValueException":case"com.amazonaws.backup#MissingParameterValueException":throw await Fo(r,t);case"ResourceNotFoundException":case"com.amazonaws.backup#ResourceNotFoundException":throw await Mo(r,t);case"ServiceUnavailableException":case"com.amazonaws.backup#ServiceUnavailableException":throw await Lo(r,t);default:let n=r.body;return Do({output:e,parsedBody:n,errorCode:s})}},BD=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return zD(e,t);let r=_({$metadata:Ys(e)}),s=D(he(await ma(e.body,t)),"body"),n=R(s,{BackupPlanId:u,BackupSelection:S,CreationDate:i=>D(Se(ge(i))),CreatorRequestId:u,SelectionId:u});return Object.assign(r,n),r},zD=async(e,t)=>{let r={...e,body:await Bo(e.body,t)},s=zo(e,r.body);switch(s){case"InvalidParameterValueException":case"com.amazonaws.backup#InvalidParameterValueException":throw await Oo(r,t);case"MissingParameterValueException":case"com.amazonaws.backup#MissingParameterValueException":throw await Fo(r,t);case"ResourceNotFoundException":case"com.amazonaws.backup#ResourceNotFoundException":throw await Mo(r,t);case"ServiceUnavailableException":case"com.amazonaws.backup#ServiceUnavailableException":throw await Lo(r,t);default:let n=r.body;return Do({output:e,parsedBody:n,errorCode:s})}},qD=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return $D(e,t);let r=_({$metadata:Ys(e)}),s=D(he(await ma(e.body,t)),"body"),n=R(s,{BackupPlansList:i=>GD(i,t),NextToken:u});return Object.assign(r,n),r},$D=async(e,t)=>{let r={...e,body:await Bo(e.body,t)},s=zo(e,r.body);switch(s){case"InvalidParameterValueException":case"com.amazonaws.backup#InvalidParameterValueException":throw await Oo(r,t);case"MissingParameterValueException":case"com.amazonaws.backup#MissingParameterValueException":throw await Fo(r,t);case"ResourceNotFoundException":case"com.amazonaws.backup#ResourceNotFoundException":throw await Mo(r,t);case"ServiceUnavailableException":case"com.amazonaws.backup#ServiceUnavailableException":throw await Lo(r,t);default:let n=r.body;return Do({output:e,parsedBody:n,errorCode:s})}},UD=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return jD(e,t);let r=_({$metadata:Ys(e)}),s=D(he(await ma(e.body,t)),"body"),n=R(s,{BackupSelectionsList:i=>HD(i,t),NextToken:u});return Object.assign(r,n),r},jD=async(e,t)=>{let r={...e,body:await Bo(e.body,t)},s=zo(e,r.body);switch(s){case"InvalidParameterValueException":case"com.amazonaws.backup#InvalidParameterValueException":throw await Oo(r,t);case"MissingParameterValueException":case"com.amazonaws.backup#MissingParameterValueException":throw await Fo(r,t);case"ResourceNotFoundException":case"com.amazonaws.backup#ResourceNotFoundException":throw await Mo(r,t);case"ServiceUnavailableException":case"com.amazonaws.backup#ServiceUnavailableException":throw await Lo(r,t);default:let n=r.body;return Do({output:e,parsedBody:n,errorCode:s})}},Do=ft(ua),Oo=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{Code:u,Context:u,Message:u,Type:u});Object.assign(r,n);let i=new PD({$metadata:Ys(e),...r});return O(i,e.body)},Fo=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{Code:u,Context:u,Message:u,Type:u});Object.assign(r,n);let i=new AD({$metadata:Ys(e),...r});return O(i,e.body)},Mo=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{Code:u,Context:u,Message:u,Type:u});Object.assign(r,n);let i=new _D({$metadata:Ys(e),...r});return O(i,e.body)},Lo=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{Code:u,Context:u,Message:u,Type:u});Object.assign(r,n);let i=new RD({$metadata:Ys(e),...r});return O(i,e.body)},GD=(e,t)=>(e||[]).filter(s=>s!=null).map(s=>VD(s,t)),VD=(e,t)=>R(e,{AdvancedBackupSettings:S,BackupPlanArn:u,BackupPlanId:u,BackupPlanName:u,CreationDate:r=>D(Se(ge(r))),CreatorRequestId:u,DeletionDate:r=>D(Se(ge(r))),LastExecutionDate:r=>D(Se(ge(r))),VersionId:u}),HD=(e,t)=>(e||[]).filter(s=>s!=null).map(s=>WD(s,t)),WD=(e,t)=>R(e,{BackupPlanId:u,CreationDate:r=>D(Se(ge(r))),CreatorRequestId:u,IamRoleArn:u,SelectionId:u,SelectionName:u}),Ys=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),KD=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),ma=(e,t)=>KD(e,t).then(r=>r.length?JSON.parse(r):{}),Bo=async(e,t)=>{let r=await ma(e,t);return r.message=r.message??r.Message,r},zo=(e,t)=>{let r=(i,a)=>Object.keys(i).find(o=>o.toLowerCase()===a.toLowerCase()),s=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t.code!==void 0)return s(t.code);if(t.__type!==void 0)return s(t.__type)},QD=class iS extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,iS.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"BackupClient",commandName:"GetBackupPlanCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:TD,[Z]:{service:"CryoControllerUserManager",operation:"GetBackupPlan"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return ND(t,r)}deserialize(t,r){return MD(t,r)}},JD=class aS extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,aS.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"BackupClient",commandName:"GetBackupSelectionCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"CryoControllerUserManager",operation:"GetBackupSelection"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return DD(t,r)}deserialize(t,r){return BD(t,r)}},oS=class cS extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,cS.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"BackupClient",commandName:"ListBackupPlansCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"CryoControllerUserManager",operation:"ListBackupPlans"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return OD(t,r)}deserialize(t,r){return qD(t,r)}},XD=class dS extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,dS.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"BackupClient",commandName:"ListBackupSelectionsCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"CryoControllerUserManager",operation:"ListBackupSelections"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return FD(t,r)}deserialize(t,r){return UD(t,r)}},YD=async(e,t,...r)=>await e.send(new oS(t),...r);async function*ZD(e,t,...r){let s=e.startingToken||void 0,n=!0,i;for(;n;){if(t.NextToken=s,t.MaxResults=e.pageSize,e.client instanceof Z0)i=await YD(e.client,t,...r);else throw new Error("Invalid client, expected Backup | BackupClient");yield i;let a=s;s=i.NextToken,n=!!(s&&(!e.stopOnSameToken||s!==a))}return void 0}var eO=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cloudfront"}),tO={name:"@aws-sdk/client-cloudfront",description:"AWS SDK for JavaScript Cloudfront Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cloudfront"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@aws-sdk/xml-builder":"3.310.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-stream":"^2.0.12","@smithy/util-utf8":"^2.0.0","@smithy/util-waiter":"^2.0.9","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudfront",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cloudfront"}},lS="required",Kt="fn",Qt="argv",Yr="ref",Sf="isSet",is="tree",Bn="error",Us="endpoint",pa="PartitionResult",uS="stringEquals",mS="sigv4",pS="cloudfront",Ef={[lS]:!1,type:"String"},If={[lS]:!0,default:!1,type:"Boolean"},Cf={[Yr]:"Endpoint"},ml={[Kt]:"booleanEquals",[Qt]:[{[Yr]:"UseFIPS"},!0]},hS={[Kt]:"booleanEquals",[Qt]:[{[Yr]:"UseDualStack"},!0]},nr={},Pf={[Kt]:uS,[Qt]:[{[Kt]:"getAttr",[Qt]:[{[Yr]:pa},"name"]},"aws"]},rO={[Kt]:"getAttr",[Qt]:[{[Yr]:pa},"name"]},Af={[Kt]:"booleanEquals",[Qt]:[{[Yr]:"UseFIPS"},!1]},Zc={[Kt]:"booleanEquals",[Qt]:[{[Yr]:"UseDualStack"},!1]},_f={authSchemes:[{name:mS,signingName:pS,signingRegion:"us-east-1"}]},Rf={[Kt]:"booleanEquals",[Qt]:[!0,{[Kt]:"getAttr",[Qt]:[{[Yr]:pa},"supportsFIPS"]}]},kf={[Kt]:"booleanEquals",[Qt]:[!0,{[Kt]:"getAttr",[Qt]:[{[Yr]:pa},"supportsDualStack"]}]},xf=[ml],Tf=[hS],Nf=[{[Yr]:"Region"}],sO={version:"1.0",parameters:{Region:Ef,UseDualStack:If,UseFIPS:If,Endpoint:Ef},rules:[{conditions:[{[Kt]:Sf,[Qt]:[Cf]}],type:is,rules:[{conditions:xf,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Bn},{conditions:Tf,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Bn},{endpoint:{url:Cf,properties:nr,headers:nr},type:Us}]},{conditions:[{[Kt]:Sf,[Qt]:Nf}],type:is,rules:[{conditions:[{[Kt]:"aws.partition",[Qt]:Nf,assign:pa}],type:is,rules:[{conditions:[Pf,Af,Zc],endpoint:{url:"https://cloudfront.amazonaws.com",properties:_f,headers:nr},type:Us},{conditions:[Pf,ml,Zc],endpoint:{url:"https://cloudfront-fips.amazonaws.com",properties:_f,headers:nr},type:Us},{conditions:[{[Kt]:uS,[Qt]:[rO,"aws-cn"]},Af,Zc],endpoint:{url:"https://cloudfront.cn-northwest-1.amazonaws.com.cn",properties:{authSchemes:[{name:mS,signingName:pS,signingRegion:"cn-northwest-1"}]},headers:nr},type:Us},{conditions:[ml,hS],type:is,rules:[{conditions:[Rf,kf],type:is,rules:[{endpoint:{url:"https://cloudfront-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nr,headers:nr},type:Us}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Bn}]},{conditions:xf,type:is,rules:[{conditions:[Rf],type:is,rules:[{endpoint:{url:"https://cloudfront-fips.{Region}.{PartitionResult#dnsSuffix}",properties:nr,headers:nr},type:Us}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Bn}]},{conditions:Tf,type:is,rules:[{conditions:[kf],type:is,rules:[{endpoint:{url:"https://cloudfront.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nr,headers:nr},type:Us}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Bn}]},{endpoint:{url:"https://cloudfront.{Region}.{PartitionResult#dnsSuffix}",properties:nr,headers:nr},type:Us}]}]},{error:"Invalid Configuration: Missing Region",type:Bn}]},nO=sO,iO=(e,t={})=>Ye(nO,{endpointParams:e,logger:t.logger}),aO=e=>({apiVersion:"2020-05-31",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??iO,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"CloudFront",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),oO=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=aO(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:tO.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},ed=e=>e,cO=(e,t)=>{let r={...ed(Tt(e)),...ed(kt(e)),...ed(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},fS=class extends ut{constructor(...[e]){let t=oO(e||{}),r=eO(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=cO(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},dO=ke(vn()),ha=class yS extends ht{constructor(t){super(t),Object.setPrototypeOf(this,yS.prototype)}},lO=class vS extends ha{constructor(t){super({name:"AccessDenied",$fault:"client",...t}),this.name="AccessDenied",this.$fault="client",Object.setPrototypeOf(this,vS.prototype),this.Message=t.Message}},uO=class gS extends ha{constructor(t){super({name:"InvalidArgument",$fault:"client",...t}),this.name="InvalidArgument",this.$fault="client",Object.setPrototypeOf(this,gS.prototype),this.Message=t.Message}},mO=class bS extends ha{constructor(t){super({name:"NoSuchDistribution",$fault:"client",...t}),this.name="NoSuchDistribution",this.$fault="client",Object.setPrototypeOf(this,bS.prototype),this.Message=t.Message}},pO=class wS extends ha{constructor(t){super({name:"NoSuchResponseHeadersPolicy",$fault:"client",...t}),this.name="NoSuchResponseHeadersPolicy",this.$fault="client",Object.setPrototypeOf(this,wS.prototype),this.Message=t.Message}},SS=e=>({...e,...e.Comment&&{Comment:Ut}}),hO=e=>({...e,...e.DistributionConfig&&{DistributionConfig:SS(e.DistributionConfig)}}),fO=e=>({...e,...e.Distribution&&{Distribution:hO(e.Distribution)}}),yO=e=>({...e,...e.DistributionConfig&&{DistributionConfig:SS(e.DistributionConfig)}}),vO=e=>({...e}),gO=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/2020-05-31/distribution/{Id}`;o=Me(o,e,"Id",()=>e.Id,"{Id}",!1);let c;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,body:c})},bO=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/2020-05-31/distribution/{Id}/config`;o=Me(o,e,"Id",()=>e.Id,"{Id}",!1);let c;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,body:c})},wO=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/2020-05-31/response-headers-policy/{Id}`;o=Me(o,e,"Id",()=>e.Id,"{Id}",!1);let c;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,body:c})},SO=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/2020-05-31/distribution`,c=_({Marker:[,e.Marker],MaxItems:[()=>e.MaxItems!==void 0,()=>e.MaxItems.toString()]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},EO=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return IO(e,t);let r=_({$metadata:Zs(e),ETag:[,e.headers.etag]}),s=he(await fa(e.body,t));return r.Distribution=XO(s,t),r},IO=async(e,t)=>{let r={...e,body:await $o(e.body,t)},s=Uo(e,r.body);switch(s){case"AccessDenied":case"com.amazonaws.cloudfront#AccessDenied":throw await yu(r,t);case"NoSuchDistribution":case"com.amazonaws.cloudfront#NoSuchDistribution":throw await ES(r,t);default:let n=r.body;return qo({output:e,parsedBody:n.Error,errorCode:s})}},CO=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return PO(e,t);let r=_({$metadata:Zs(e),ETag:[,e.headers.etag]}),s=he(await fa(e.body,t));return r.DistributionConfig=kS(s,t),r},PO=async(e,t)=>{let r={...e,body:await $o(e.body,t)},s=Uo(e,r.body);switch(s){case"AccessDenied":case"com.amazonaws.cloudfront#AccessDenied":throw await yu(r,t);case"NoSuchDistribution":case"com.amazonaws.cloudfront#NoSuchDistribution":throw await ES(r,t);default:let n=r.body;return qo({output:e,parsedBody:n.Error,errorCode:s})}},AO=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return _O(e,t);let r=_({$metadata:Zs(e),ETag:[,e.headers.etag]}),s=he(await fa(e.body,t));return r.ResponseHeadersPolicy=_F(s,t),r},_O=async(e,t)=>{let r={...e,body:await $o(e.body,t)},s=Uo(e,r.body);switch(s){case"AccessDenied":case"com.amazonaws.cloudfront#AccessDenied":throw await yu(r,t);case"NoSuchResponseHeadersPolicy":case"com.amazonaws.cloudfront#NoSuchResponseHeadersPolicy":throw await TO(r,t);default:let n=r.body;return qo({output:e,parsedBody:n.Error,errorCode:s})}},RO=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return kO(e,t);let r=_({$metadata:Zs(e)}),s=he(await fa(e.body,t));return r.DistributionList=YO(s,t),r},kO=async(e,t)=>{let r={...e,body:await $o(e.body,t)},s=Uo(e,r.body);switch(s){case"InvalidArgument":case"com.amazonaws.cloudfront#InvalidArgument":throw await xO(r,t);default:let n=r.body;return qo({output:e,parsedBody:n.Error,errorCode:s})}},qo=ft(ha),yu=async(e,t)=>{let r=_({}),s=e.body.Error;s.Message!==void 0&&(r.Message=u(s.Message));let n=new lO({$metadata:Zs(e),...r});return O(n,e.body.Error)},xO=async(e,t)=>{let r=_({}),s=e.body.Error;s.Message!==void 0&&(r.Message=u(s.Message));let n=new uO({$metadata:Zs(e),...r});return O(n,e.body.Error)},ES=async(e,t)=>{let r=_({}),s=e.body.Error;s.Message!==void 0&&(r.Message=u(s.Message));let n=new mO({$metadata:Zs(e),...r});return O(n,e.body.Error)},TO=async(e,t)=>{let r=_({}),s=e.body.Error;s.Message!==void 0&&(r.Message=u(s.Message));let n=new pO({$metadata:Zs(e),...r});return O(n,e.body.Error)},NO=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),DO=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),OO=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),FO=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),MO=(e,t)=>{let r={};return e.Enabled!==void 0&&(r.Enabled=X(e.Enabled)),e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.KeyGroup!==void 0&&(r.Items=cF(q(e.Items.KeyGroup),t)),r},LO=(e,t)=>{let r={};return e.Enabled!==void 0&&(r.Enabled=X(e.Enabled)),e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.Signer!==void 0&&(r.Items=JF(q(e.Items.Signer),t)),r},IS=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.CNAME!==void 0&&(r.Items=zO(q(e.Items.CNAME),t)),r},BO=(e,t)=>{let r={};return e.CNAME!==void 0&&(r.CNAME=u(e.CNAME)),e.ICPRecordalStatus!==void 0&&(r.ICPRecordalStatus=u(e.ICPRecordalStatus)),r},CS=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>BO(r,t)),zO=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),PS=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.Method!==void 0&&(r.Items=OS(q(e.Items.Method),t)),e.CachedMethods!==void 0&&(r.CachedMethods=jO(e.CachedMethods,t)),r},qO=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),$O=(e,t)=>{let r={};return e.PathPattern!==void 0&&(r.PathPattern=u(e.PathPattern)),e.TargetOriginId!==void 0&&(r.TargetOriginId=u(e.TargetOriginId)),e.TrustedSigners!==void 0&&(r.TrustedSigners=zS(e.TrustedSigners,t)),e.TrustedKeyGroups!==void 0&&(r.TrustedKeyGroups=BS(e.TrustedKeyGroups,t)),e.ViewerProtocolPolicy!==void 0&&(r.ViewerProtocolPolicy=u(e.ViewerProtocolPolicy)),e.AllowedMethods!==void 0&&(r.AllowedMethods=PS(e.AllowedMethods,t)),e.SmoothStreaming!==void 0&&(r.SmoothStreaming=X(e.SmoothStreaming)),e.Compress!==void 0&&(r.Compress=X(e.Compress)),e.LambdaFunctionAssociations!==void 0&&(r.LambdaFunctionAssociations=DS(e.LambdaFunctionAssociations,t)),e.FunctionAssociations!==void 0&&(r.FunctionAssociations=TS(e.FunctionAssociations,t)),e.FieldLevelEncryptionId!==void 0&&(r.FieldLevelEncryptionId=u(e.FieldLevelEncryptionId)),e.RealtimeLogConfigArn!==void 0&&(r.RealtimeLogConfigArn=u(e.RealtimeLogConfigArn)),e.CachePolicyId!==void 0&&(r.CachePolicyId=u(e.CachePolicyId)),e.OriginRequestPolicyId!==void 0&&(r.OriginRequestPolicyId=u(e.OriginRequestPolicyId)),e.ResponseHeadersPolicyId!==void 0&&(r.ResponseHeadersPolicyId=u(e.ResponseHeadersPolicyId)),e.ForwardedValues!==void 0&&(r.ForwardedValues=xS(e.ForwardedValues,t)),e.MinTTL!==void 0&&(r.MinTTL=Dr(e.MinTTL)),e.DefaultTTL!==void 0&&(r.DefaultTTL=Dr(e.DefaultTTL)),e.MaxTTL!==void 0&&(r.MaxTTL=Dr(e.MaxTTL)),r},UO=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>$O(r,t)),AS=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.CacheBehavior!==void 0&&(r.Items=UO(q(e.Items.CacheBehavior),t)),r},jO=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.Method!==void 0&&(r.Items=OS(q(e.Items.Method),t)),r},GO=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),VO=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.Name!==void 0&&(r.Items=GO(q(e.Items.Name),t)),r},HO=(e,t)=>{let r={};return e.Forward!==void 0&&(r.Forward=u(e.Forward)),e.WhitelistedNames!==void 0&&(r.WhitelistedNames=VO(e.WhitelistedNames,t)),r},WO=(e,t)=>{let r={};return e.ErrorCode!==void 0&&(r.ErrorCode=B(e.ErrorCode)),e.ResponsePagePath!==void 0&&(r.ResponsePagePath=u(e.ResponsePagePath)),e.ResponseCode!==void 0&&(r.ResponseCode=u(e.ResponseCode)),e.ErrorCachingMinTTL!==void 0&&(r.ErrorCachingMinTTL=Dr(e.ErrorCachingMinTTL)),r},KO=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>WO(r,t)),_S=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.CustomErrorResponse!==void 0&&(r.Items=KO(q(e.Items.CustomErrorResponse),t)),r},QO=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.OriginCustomHeader!==void 0&&(r.Items=fF(q(e.Items.OriginCustomHeader),t)),r},JO=(e,t)=>{let r={};return e.HTTPPort!==void 0&&(r.HTTPPort=B(e.HTTPPort)),e.HTTPSPort!==void 0&&(r.HTTPSPort=B(e.HTTPSPort)),e.OriginProtocolPolicy!==void 0&&(r.OriginProtocolPolicy=u(e.OriginProtocolPolicy)),e.OriginSslProtocols!==void 0&&(r.OriginSslProtocols=CF(e.OriginSslProtocols,t)),e.OriginReadTimeout!==void 0&&(r.OriginReadTimeout=B(e.OriginReadTimeout)),e.OriginKeepaliveTimeout!==void 0&&(r.OriginKeepaliveTimeout=B(e.OriginKeepaliveTimeout)),r},RS=(e,t)=>{let r={};return e.TargetOriginId!==void 0&&(r.TargetOriginId=u(e.TargetOriginId)),e.TrustedSigners!==void 0&&(r.TrustedSigners=zS(e.TrustedSigners,t)),e.TrustedKeyGroups!==void 0&&(r.TrustedKeyGroups=BS(e.TrustedKeyGroups,t)),e.ViewerProtocolPolicy!==void 0&&(r.ViewerProtocolPolicy=u(e.ViewerProtocolPolicy)),e.AllowedMethods!==void 0&&(r.AllowedMethods=PS(e.AllowedMethods,t)),e.SmoothStreaming!==void 0&&(r.SmoothStreaming=X(e.SmoothStreaming)),e.Compress!==void 0&&(r.Compress=X(e.Compress)),e.LambdaFunctionAssociations!==void 0&&(r.LambdaFunctionAssociations=DS(e.LambdaFunctionAssociations,t)),e.FunctionAssociations!==void 0&&(r.FunctionAssociations=TS(e.FunctionAssociations,t)),e.FieldLevelEncryptionId!==void 0&&(r.FieldLevelEncryptionId=u(e.FieldLevelEncryptionId)),e.RealtimeLogConfigArn!==void 0&&(r.RealtimeLogConfigArn=u(e.RealtimeLogConfigArn)),e.CachePolicyId!==void 0&&(r.CachePolicyId=u(e.CachePolicyId)),e.OriginRequestPolicyId!==void 0&&(r.OriginRequestPolicyId=u(e.OriginRequestPolicyId)),e.ResponseHeadersPolicyId!==void 0&&(r.ResponseHeadersPolicyId=u(e.ResponseHeadersPolicyId)),e.ForwardedValues!==void 0&&(r.ForwardedValues=xS(e.ForwardedValues,t)),e.MinTTL!==void 0&&(r.MinTTL=Dr(e.MinTTL)),e.DefaultTTL!==void 0&&(r.DefaultTTL=Dr(e.DefaultTTL)),e.MaxTTL!==void 0&&(r.MaxTTL=Dr(e.MaxTTL)),r},XO=(e,t)=>{let r={};return e.Id!==void 0&&(r.Id=u(e.Id)),e.ARN!==void 0&&(r.ARN=u(e.ARN)),e.Status!==void 0&&(r.Status=u(e.Status)),e.LastModifiedTime!==void 0&&(r.LastModifiedTime=D(Bt(e.LastModifiedTime))),e.InProgressInvalidationBatches!==void 0&&(r.InProgressInvalidationBatches=B(e.InProgressInvalidationBatches)),e.DomainName!==void 0&&(r.DomainName=u(e.DomainName)),e.ActiveTrustedSigners!==void 0&&(r.ActiveTrustedSigners=LO(e.ActiveTrustedSigners,t)),e.ActiveTrustedKeyGroups!==void 0&&(r.ActiveTrustedKeyGroups=MO(e.ActiveTrustedKeyGroups,t)),e.DistributionConfig!==void 0&&(r.DistributionConfig=kS(e.DistributionConfig,t)),e.AliasICPRecordals===""?r.AliasICPRecordals=[]:e.AliasICPRecordals!==void 0&&e.AliasICPRecordals.AliasICPRecordal!==void 0&&(r.AliasICPRecordals=CS(q(e.AliasICPRecordals.AliasICPRecordal),t)),r},kS=(e,t)=>{let r={};return e.CallerReference!==void 0&&(r.CallerReference=u(e.CallerReference)),e.Aliases!==void 0&&(r.Aliases=IS(e.Aliases,t)),e.DefaultRootObject!==void 0&&(r.DefaultRootObject=u(e.DefaultRootObject)),e.Origins!==void 0&&(r.Origins=MS(e.Origins,t)),e.OriginGroups!==void 0&&(r.OriginGroups=FS(e.OriginGroups,t)),e.DefaultCacheBehavior!==void 0&&(r.DefaultCacheBehavior=RS(e.DefaultCacheBehavior,t)),e.CacheBehaviors!==void 0&&(r.CacheBehaviors=AS(e.CacheBehaviors,t)),e.CustomErrorResponses!==void 0&&(r.CustomErrorResponses=_S(e.CustomErrorResponses,t)),e.Comment!==void 0&&(r.Comment=u(e.Comment)),e.Logging!==void 0&&(r.Logging=mF(e.Logging,t)),e.PriceClass!==void 0&&(r.PriceClass=u(e.PriceClass)),e.Enabled!==void 0&&(r.Enabled=X(e.Enabled)),e.ViewerCertificate!==void 0&&(r.ViewerCertificate=qS(e.ViewerCertificate,t)),e.Restrictions!==void 0&&(r.Restrictions=LS(e.Restrictions,t)),e.WebACLId!==void 0&&(r.WebACLId=u(e.WebACLId)),e.HttpVersion!==void 0&&(r.HttpVersion=u(e.HttpVersion)),e.IsIPV6Enabled!==void 0&&(r.IsIPV6Enabled=X(e.IsIPV6Enabled)),e.ContinuousDeploymentPolicyId!==void 0&&(r.ContinuousDeploymentPolicyId=u(e.ContinuousDeploymentPolicyId)),e.Staging!==void 0&&(r.Staging=X(e.Staging)),r},YO=(e,t)=>{let r={};return e.Marker!==void 0&&(r.Marker=u(e.Marker)),e.NextMarker!==void 0&&(r.NextMarker=u(e.NextMarker)),e.MaxItems!==void 0&&(r.MaxItems=B(e.MaxItems)),e.IsTruncated!==void 0&&(r.IsTruncated=X(e.IsTruncated)),e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.DistributionSummary!==void 0&&(r.Items=eF(q(e.Items.DistributionSummary),t)),r},ZO=(e,t)=>{let r={};return e.Id!==void 0&&(r.Id=u(e.Id)),e.ARN!==void 0&&(r.ARN=u(e.ARN)),e.Status!==void 0&&(r.Status=u(e.Status)),e.LastModifiedTime!==void 0&&(r.LastModifiedTime=D(Bt(e.LastModifiedTime))),e.DomainName!==void 0&&(r.DomainName=u(e.DomainName)),e.Aliases!==void 0&&(r.Aliases=IS(e.Aliases,t)),e.Origins!==void 0&&(r.Origins=MS(e.Origins,t)),e.OriginGroups!==void 0&&(r.OriginGroups=FS(e.OriginGroups,t)),e.DefaultCacheBehavior!==void 0&&(r.DefaultCacheBehavior=RS(e.DefaultCacheBehavior,t)),e.CacheBehaviors!==void 0&&(r.CacheBehaviors=AS(e.CacheBehaviors,t)),e.CustomErrorResponses!==void 0&&(r.CustomErrorResponses=_S(e.CustomErrorResponses,t)),e.Comment!==void 0&&(r.Comment=u(e.Comment)),e.PriceClass!==void 0&&(r.PriceClass=u(e.PriceClass)),e.Enabled!==void 0&&(r.Enabled=X(e.Enabled)),e.ViewerCertificate!==void 0&&(r.ViewerCertificate=qS(e.ViewerCertificate,t)),e.Restrictions!==void 0&&(r.Restrictions=LS(e.Restrictions,t)),e.WebACLId!==void 0&&(r.WebACLId=u(e.WebACLId)),e.HttpVersion!==void 0&&(r.HttpVersion=u(e.HttpVersion)),e.IsIPV6Enabled!==void 0&&(r.IsIPV6Enabled=X(e.IsIPV6Enabled)),e.AliasICPRecordals===""?r.AliasICPRecordals=[]:e.AliasICPRecordals!==void 0&&e.AliasICPRecordals.AliasICPRecordal!==void 0&&(r.AliasICPRecordals=CS(q(e.AliasICPRecordals.AliasICPRecordal),t)),e.Staging!==void 0&&(r.Staging=X(e.Staging)),r},eF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>ZO(r,t)),xS=(e,t)=>{let r={};return e.QueryString!==void 0&&(r.QueryString=X(e.QueryString)),e.Cookies!==void 0&&(r.Cookies=HO(e.Cookies,t)),e.Headers!==void 0&&(r.Headers=iF(e.Headers,t)),e.QueryStringCacheKeys!==void 0&&(r.QueryStringCacheKeys=PF(e.QueryStringCacheKeys,t)),r},tF=(e,t)=>{let r={};return e.FunctionARN!==void 0&&(r.FunctionARN=u(e.FunctionARN)),e.EventType!==void 0&&(r.EventType=u(e.EventType)),r},rF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>tF(r,t)),TS=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.FunctionAssociation!==void 0&&(r.Items=rF(q(e.Items.FunctionAssociation),t)),r},sF=(e,t)=>{let r={};return e.RestrictionType!==void 0&&(r.RestrictionType=u(e.RestrictionType)),e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.Location!==void 0&&(r.Items=uF(q(e.Items.Location),t)),r},nF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),iF=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.Name!==void 0&&(r.Items=nF(q(e.Items.Name),t)),r},aF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),NS=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.KeyPairId!==void 0&&(r.Items=aF(q(e.Items.KeyPairId),t)),r},oF=(e,t)=>{let r={};return e.KeyGroupId!==void 0&&(r.KeyGroupId=u(e.KeyGroupId)),e.KeyPairIds!==void 0&&(r.KeyPairIds=NS(e.KeyPairIds,t)),r},cF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>oF(r,t)),dF=(e,t)=>{let r={};return e.LambdaFunctionARN!==void 0&&(r.LambdaFunctionARN=u(e.LambdaFunctionARN)),e.EventType!==void 0&&(r.EventType=u(e.EventType)),e.IncludeBody!==void 0&&(r.IncludeBody=X(e.IncludeBody)),r},lF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>dF(r,t)),DS=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.LambdaFunctionAssociation!==void 0&&(r.Items=lF(q(e.Items.LambdaFunctionAssociation),t)),r},uF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),mF=(e,t)=>{let r={};return e.Enabled!==void 0&&(r.Enabled=X(e.Enabled)),e.IncludeCookies!==void 0&&(r.IncludeCookies=X(e.IncludeCookies)),e.Bucket!==void 0&&(r.Bucket=u(e.Bucket)),e.Prefix!==void 0&&(r.Prefix=u(e.Prefix)),r},OS=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),pF=(e,t)=>{let r={};return e.Id!==void 0&&(r.Id=u(e.Id)),e.DomainName!==void 0&&(r.DomainName=u(e.DomainName)),e.OriginPath!==void 0&&(r.OriginPath=u(e.OriginPath)),e.CustomHeaders!==void 0&&(r.CustomHeaders=QO(e.CustomHeaders,t)),e.S3OriginConfig!==void 0&&(r.S3OriginConfig=KF(e.S3OriginConfig,t)),e.CustomOriginConfig!==void 0&&(r.CustomOriginConfig=JO(e.CustomOriginConfig,t)),e.ConnectionAttempts!==void 0&&(r.ConnectionAttempts=B(e.ConnectionAttempts)),e.ConnectionTimeout!==void 0&&(r.ConnectionTimeout=B(e.ConnectionTimeout)),e.OriginShield!==void 0&&(r.OriginShield=IF(e.OriginShield,t)),e.OriginAccessControlId!==void 0&&(r.OriginAccessControlId=u(e.OriginAccessControlId)),r},hF=(e,t)=>{let r={};return e.HeaderName!==void 0&&(r.HeaderName=u(e.HeaderName)),e.HeaderValue!==void 0&&(r.HeaderValue=u(e.HeaderValue)),r},fF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>hF(r,t)),yF=(e,t)=>{let r={};return e.Id!==void 0&&(r.Id=u(e.Id)),e.FailoverCriteria!==void 0&&(r.FailoverCriteria=vF(e.FailoverCriteria,t)),e.Members!==void 0&&(r.Members=SF(e.Members,t)),r},vF=(e,t)=>{let r={};return e.StatusCodes!==void 0&&(r.StatusCodes=ZF(e.StatusCodes,t)),r},gF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>yF(r,t)),bF=(e,t)=>{let r={};return e.OriginId!==void 0&&(r.OriginId=u(e.OriginId)),r},wF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>bF(r,t)),SF=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.OriginGroupMember!==void 0&&(r.Items=wF(q(e.Items.OriginGroupMember),t)),r},FS=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.OriginGroup!==void 0&&(r.Items=gF(q(e.Items.OriginGroup),t)),r},EF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>pF(r,t)),MS=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.Origin!==void 0&&(r.Items=EF(q(e.Items.Origin),t)),r},IF=(e,t)=>{let r={};return e.Enabled!==void 0&&(r.Enabled=X(e.Enabled)),e.OriginShieldRegion!==void 0&&(r.OriginShieldRegion=u(e.OriginShieldRegion)),r},CF=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.SslProtocol!==void 0&&(r.Items=XF(q(e.Items.SslProtocol),t)),r},PF=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.Name!==void 0&&(r.Items=AF(q(e.Items.Name),t)),r},AF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),_F=(e,t)=>{let r={};return e.Id!==void 0&&(r.Id=u(e.Id)),e.LastModifiedTime!==void 0&&(r.LastModifiedTime=D(Bt(e.LastModifiedTime))),e.ResponseHeadersPolicyConfig!==void 0&&(r.ResponseHeadersPolicyConfig=NF(e.ResponseHeadersPolicyConfig,t)),r},RF=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.Header!==void 0&&(r.Items=NO(q(e.Items.Header),t)),r},kF=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.Method!==void 0&&(r.Items=DO(q(e.Items.Method),t)),r},xF=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.Origin!==void 0&&(r.Items=OO(q(e.Items.Origin),t)),r},TF=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.Header!==void 0&&(r.Items=FO(q(e.Items.Header),t)),r},NF=(e,t)=>{let r={};return e.Comment!==void 0&&(r.Comment=u(e.Comment)),e.Name!==void 0&&(r.Name=u(e.Name)),e.CorsConfig!==void 0&&(r.CorsConfig=FF(e.CorsConfig,t)),e.SecurityHeadersConfig!==void 0&&(r.SecurityHeadersConfig=GF(e.SecurityHeadersConfig,t)),e.ServerTimingHeadersConfig!==void 0&&(r.ServerTimingHeadersConfig=VF(e.ServerTimingHeadersConfig,t)),e.CustomHeadersConfig!==void 0&&(r.CustomHeadersConfig=BF(e.CustomHeadersConfig,t)),e.RemoveHeadersConfig!==void 0&&(r.RemoveHeadersConfig=jF(e.RemoveHeadersConfig,t)),r},DF=(e,t)=>{let r={};return e.Override!==void 0&&(r.Override=X(e.Override)),e.ContentSecurityPolicy!==void 0&&(r.ContentSecurityPolicy=u(e.ContentSecurityPolicy)),r},OF=(e,t)=>{let r={};return e.Override!==void 0&&(r.Override=X(e.Override)),r},FF=(e,t)=>{let r={};return e.AccessControlAllowOrigins!==void 0&&(r.AccessControlAllowOrigins=xF(e.AccessControlAllowOrigins,t)),e.AccessControlAllowHeaders!==void 0&&(r.AccessControlAllowHeaders=RF(e.AccessControlAllowHeaders,t)),e.AccessControlAllowMethods!==void 0&&(r.AccessControlAllowMethods=kF(e.AccessControlAllowMethods,t)),e.AccessControlAllowCredentials!==void 0&&(r.AccessControlAllowCredentials=X(e.AccessControlAllowCredentials)),e.AccessControlExposeHeaders!==void 0&&(r.AccessControlExposeHeaders=TF(e.AccessControlExposeHeaders,t)),e.AccessControlMaxAgeSec!==void 0&&(r.AccessControlMaxAgeSec=B(e.AccessControlMaxAgeSec)),e.OriginOverride!==void 0&&(r.OriginOverride=X(e.OriginOverride)),r},MF=(e,t)=>{let r={};return e.Header!==void 0&&(r.Header=u(e.Header)),e.Value!==void 0&&(r.Value=u(e.Value)),e.Override!==void 0&&(r.Override=X(e.Override)),r},LF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>MF(r,t)),BF=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.ResponseHeadersPolicyCustomHeader!==void 0&&(r.Items=LF(q(e.Items.ResponseHeadersPolicyCustomHeader),t)),r},zF=(e,t)=>{let r={};return e.Override!==void 0&&(r.Override=X(e.Override)),e.FrameOption!==void 0&&(r.FrameOption=u(e.FrameOption)),r},qF=(e,t)=>{let r={};return e.Override!==void 0&&(r.Override=X(e.Override)),e.ReferrerPolicy!==void 0&&(r.ReferrerPolicy=u(e.ReferrerPolicy)),r},$F=(e,t)=>{let r={};return e.Header!==void 0&&(r.Header=u(e.Header)),r},UF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>$F(r,t)),jF=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.ResponseHeadersPolicyRemoveHeader!==void 0&&(r.Items=UF(q(e.Items.ResponseHeadersPolicyRemoveHeader),t)),r},GF=(e,t)=>{let r={};return e.XSSProtection!==void 0&&(r.XSSProtection=WF(e.XSSProtection,t)),e.FrameOptions!==void 0&&(r.FrameOptions=zF(e.FrameOptions,t)),e.ReferrerPolicy!==void 0&&(r.ReferrerPolicy=qF(e.ReferrerPolicy,t)),e.ContentSecurityPolicy!==void 0&&(r.ContentSecurityPolicy=DF(e.ContentSecurityPolicy,t)),e.ContentTypeOptions!==void 0&&(r.ContentTypeOptions=OF(e.ContentTypeOptions,t)),e.StrictTransportSecurity!==void 0&&(r.StrictTransportSecurity=HF(e.StrictTransportSecurity,t)),r},VF=(e,t)=>{let r={};return e.Enabled!==void 0&&(r.Enabled=X(e.Enabled)),e.SamplingRate!==void 0&&(r.SamplingRate=Dk(e.SamplingRate)),r},HF=(e,t)=>{let r={};return e.Override!==void 0&&(r.Override=X(e.Override)),e.IncludeSubdomains!==void 0&&(r.IncludeSubdomains=X(e.IncludeSubdomains)),e.Preload!==void 0&&(r.Preload=X(e.Preload)),e.AccessControlMaxAgeSec!==void 0&&(r.AccessControlMaxAgeSec=B(e.AccessControlMaxAgeSec)),r},WF=(e,t)=>{let r={};return e.Override!==void 0&&(r.Override=X(e.Override)),e.Protection!==void 0&&(r.Protection=X(e.Protection)),e.ModeBlock!==void 0&&(r.ModeBlock=X(e.ModeBlock)),e.ReportUri!==void 0&&(r.ReportUri=u(e.ReportUri)),r},LS=(e,t)=>{let r={};return e.GeoRestriction!==void 0&&(r.GeoRestriction=sF(e.GeoRestriction,t)),r},KF=(e,t)=>{let r={};return e.OriginAccessIdentity!==void 0&&(r.OriginAccessIdentity=u(e.OriginAccessIdentity)),r},QF=(e,t)=>{let r={};return e.AwsAccountNumber!==void 0&&(r.AwsAccountNumber=u(e.AwsAccountNumber)),e.KeyPairIds!==void 0&&(r.KeyPairIds=NS(e.KeyPairIds,t)),r},JF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>QF(r,t)),XF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),YF=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>B(r)),ZF=(e,t)=>{let r={};return e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.StatusCode!==void 0&&(r.Items=YF(q(e.Items.StatusCode),t)),r},eM=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),BS=(e,t)=>{let r={};return e.Enabled!==void 0&&(r.Enabled=X(e.Enabled)),e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.KeyGroup!==void 0&&(r.Items=eM(q(e.Items.KeyGroup),t)),r},zS=(e,t)=>{let r={};return e.Enabled!==void 0&&(r.Enabled=X(e.Enabled)),e.Quantity!==void 0&&(r.Quantity=B(e.Quantity)),e.Items===""?r.Items=[]:e.Items!==void 0&&e.Items.AwsAccountNumber!==void 0&&(r.Items=qO(q(e.Items.AwsAccountNumber),t)),r},qS=(e,t)=>{let r={};return e.CloudFrontDefaultCertificate!==void 0&&(r.CloudFrontDefaultCertificate=X(e.CloudFrontDefaultCertificate)),e.IAMCertificateId!==void 0&&(r.IAMCertificateId=u(e.IAMCertificateId)),e.ACMCertificateArn!==void 0&&(r.ACMCertificateArn=u(e.ACMCertificateArn)),e.SSLSupportMethod!==void 0&&(r.SSLSupportMethod=u(e.SSLSupportMethod)),e.MinimumProtocolVersion!==void 0&&(r.MinimumProtocolVersion=u(e.MinimumProtocolVersion)),e.Certificate!==void 0&&(r.Certificate=u(e.Certificate)),e.CertificateSource!==void 0&&(r.CertificateSource=u(e.CertificateSource)),r},Zs=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),tM=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),fa=(e,t)=>tM(e,t).then(r=>{if(r.length){let s=new dO.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});s.addEntity("#xD","\r"),s.addEntity("#10",`
`);let n=s.parse(r),i="#text",a=Object.keys(n)[0],o=n[a];return o[i]&&(o[a]=o[i],delete o[i]),Qs(o)}return{}}),$o=async(e,t)=>{let r=await fa(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Uo=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},rM=class $S extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,$S.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CloudFrontClient",commandName:"GetDistributionCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:fO,[Z]:{service:"Cloudfront2020_05_31",operation:"GetDistribution"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return gO(t,r)}deserialize(t,r){return EO(t,r)}},sM=class US extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,US.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CloudFrontClient",commandName:"GetDistributionConfigCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:yO,[Z]:{service:"Cloudfront2020_05_31",operation:"GetDistributionConfig"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return bO(t,r)}deserialize(t,r){return CO(t,r)}},nM=class jS extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,jS.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CloudFrontClient",commandName:"GetResponseHeadersPolicyCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"Cloudfront2020_05_31",operation:"GetResponseHeadersPolicy"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return wO(t,r)}deserialize(t,r){return AO(t,r)}},iM=class GS extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,GS.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CloudFrontClient",commandName:"ListDistributionsCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:vO,[Z]:{service:"Cloudfront2020_05_31",operation:"ListDistributions"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return SO(t,r)}deserialize(t,r){return RO(t,r)}},aM=async(e,t,...r)=>await e.send(new iM(t),...r);async function*oM(e,t,...r){let s=e.startingToken||void 0,n=!0,i;for(;n;){if(t.Marker=s,t.MaxItems=e.pageSize,e.client instanceof fS)i=await aM(e.client,t,...r);else throw new Error("Invalid client, expected CloudFront | CloudFrontClient");yield i;let a=s;s=i.DistributionList.NextMarker,n=!!(s&&(!e.stopOnSameToken||s!==a))}return void 0}var cM=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"logs"}),dM={name:"@aws-sdk/client-cloudwatch-logs",description:"AWS SDK for JavaScript Cloudwatch Logs Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cloudwatch-logs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0",tslib:"^2.5.0",uuid:"^8.3.2"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31","@types/uuid":"^8.3.0",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudwatch-logs",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cloudwatch-logs"}},VS="required",Sr="fn",Er="argv",fi="ref",Df="isSet",as="tree",zn="error",dn="endpoint",vu="PartitionResult",Of="stringEquals",Ff={[VS]:!1,type:"String"},Mf={[VS]:!0,default:!1,type:"Boolean"},Lf={[fi]:"Endpoint"},HS={[Sr]:"booleanEquals",[Er]:[{[fi]:"UseFIPS"},!0]},WS={[Sr]:"booleanEquals",[Er]:[{[fi]:"UseDualStack"},!0]},Xt={},pl={[fi]:"Region"},Bf={[Sr]:"booleanEquals",[Er]:[!0,{[Sr]:"getAttr",[Er]:[{[fi]:vu},"supportsFIPS"]}]},zf={[Sr]:"booleanEquals",[Er]:[!0,{[Sr]:"getAttr",[Er]:[{[fi]:vu},"supportsDualStack"]}]},qf=[HS],$f=[WS],Uf=[pl],lM={version:"1.0",parameters:{Region:Ff,UseDualStack:Mf,UseFIPS:Mf,Endpoint:Ff},rules:[{conditions:[{[Sr]:Df,[Er]:[Lf]}],type:as,rules:[{conditions:qf,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:zn},{conditions:$f,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:zn},{endpoint:{url:Lf,properties:Xt,headers:Xt},type:dn}]},{conditions:[{[Sr]:Df,[Er]:Uf}],type:as,rules:[{conditions:[{[Sr]:"aws.partition",[Er]:Uf,assign:vu}],type:as,rules:[{conditions:[HS,WS],type:as,rules:[{conditions:[Bf,zf],type:as,rules:[{endpoint:{url:"https://logs-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xt,headers:Xt},type:dn}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:zn}]},{conditions:qf,type:as,rules:[{conditions:[Bf],type:as,rules:[{conditions:[{[Sr]:Of,[Er]:[pl,"us-gov-east-1"]}],endpoint:{url:"https://logs.us-gov-east-1.amazonaws.com",properties:Xt,headers:Xt},type:dn},{conditions:[{[Sr]:Of,[Er]:[pl,"us-gov-west-1"]}],endpoint:{url:"https://logs.us-gov-west-1.amazonaws.com",properties:Xt,headers:Xt},type:dn},{endpoint:{url:"https://logs-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Xt,headers:Xt},type:dn}]},{error:"FIPS is enabled but this partition does not support FIPS",type:zn}]},{conditions:$f,type:as,rules:[{conditions:[zf],type:as,rules:[{endpoint:{url:"https://logs.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Xt,headers:Xt},type:dn}]},{error:"DualStack is enabled but this partition does not support DualStack",type:zn}]},{endpoint:{url:"https://logs.{Region}.{PartitionResult#dnsSuffix}",properties:Xt,headers:Xt},type:dn}]}]},{error:"Invalid Configuration: Missing Region",type:zn}]},uM=lM,mM=(e,t={})=>Ye(uM,{endpointParams:e,logger:t.logger}),pM=e=>({apiVersion:"2014-03-28",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??mM,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"CloudWatch Logs",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),hM=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=pM(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:dM.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},td=e=>e,fM=(e,t)=>{let r={...td(Tt(e)),...td(kt(e)),...td(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},KS=class extends ut{constructor(...[e]){let t=hM(e||{}),r=cM(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=fM(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},gu=class QS extends ht{constructor(t){super(t),Object.setPrototypeOf(this,QS.prototype)}},yM=class JS extends gu{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,JS.prototype)}},vM=class XS extends gu{constructor(t){super({name:"ServiceUnavailableException",$fault:"server",...t}),this.name="ServiceUnavailableException",this.$fault="server",Object.setPrototypeOf(this,XS.prototype)}},gM=async(e,t)=>{let r=AM("DescribeLogGroups"),s;return s=JSON.stringify(S(e)),PM(t,r,"/",void 0,s)},bM=async(e,t)=>{if(e.statusCode>=300)return wM(e,t);let r=await YS(e.body,t),s={};return s=S(r),{$metadata:bu(e),...s}},wM=async(e,t)=>{let r={...e,body:await _M(e.body,t)},s=RM(e,r.body);switch(s){case"InvalidParameterException":case"com.amazonaws.cloudwatchlogs#InvalidParameterException":throw await SM(r,t);case"ServiceUnavailableException":case"com.amazonaws.cloudwatchlogs#ServiceUnavailableException":throw await EM(r,t);default:let n=r.body;return CM({output:e,parsedBody:n,errorCode:s})}},SM=async(e,t)=>{let r=e.body,s=S(r),n=new yM({$metadata:bu(e),...s});return O(n,r)},EM=async(e,t)=>{let r=e.body,s=S(r),n=new vM({$metadata:bu(e),...s});return O(n,r)},bu=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),IM=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),CM=ft(gu),PM=async(e,t,r,s,n)=>{let{hostname:i,protocol:a="https",port:o,path:c}=await e.endpoint(),d={protocol:a,hostname:i,port:o,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return s!==void 0&&(d.hostname=s),n!==void 0&&(d.body=n),new Y(d)};function AM(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`Logs_20140328.${e}`}}var YS=(e,t)=>IM(e,t).then(r=>r.length?JSON.parse(r):{}),_M=async(e,t)=>{let r=await YS(e,t);return r.message=r.message??r.Message,r},RM=(e,t)=>{let r=(i,a)=>Object.keys(i).find(o=>o.toLowerCase()===a.toLowerCase()),s=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t.code!==void 0)return s(t.code);if(t.__type!==void 0)return s(t.__type)},kM=class ZS extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,ZS.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CloudWatchLogsClient",commandName:"DescribeLogGroupsCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"Logs_20140328",operation:"DescribeLogGroups"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return gM(t,r)}deserialize(t,r){return bM(t,r)}},xM=async(e,t,...r)=>await e.send(new kM(t),...r);async function*eE(e,t,...r){let s=e.startingToken||void 0,n=!0,i;for(;n;){if(t.nextToken=s,t.limit=e.pageSize,e.client instanceof KS)i=await xM(e.client,t,...r);else throw new Error("Invalid client, expected CloudWatchLogs | CloudWatchLogsClient");yield i;let a=s;s=i.nextToken,n=!!(s&&(!e.stopOnSameToken||s!==a))}return void 0}var TM=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cognito-idp"}),NM={name:"@aws-sdk/client-cognito-identity-provider",description:"AWS SDK for JavaScript Cognito Identity Provider Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity-provider"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity-provider",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity-provider"}},tE="required",Rs="fn",ks="argv",yi="ref",jf="isSet",os="tree",qn="error",ji="endpoint",wu="PartitionResult",Gf={[tE]:!1,type:"String"},Vf={[tE]:!0,default:!1,type:"Boolean"},Hf={[yi]:"Endpoint"},rE={[Rs]:"booleanEquals",[ks]:[{[yi]:"UseFIPS"},!0]},sE={[Rs]:"booleanEquals",[ks]:[{[yi]:"UseDualStack"},!0]},Ur={},Wf={[Rs]:"booleanEquals",[ks]:[!0,{[Rs]:"getAttr",[ks]:[{[yi]:wu},"supportsFIPS"]}]},Kf={[Rs]:"booleanEquals",[ks]:[!0,{[Rs]:"getAttr",[ks]:[{[yi]:wu},"supportsDualStack"]}]},Qf=[rE],Jf=[sE],Xf=[{[yi]:"Region"}],DM={version:"1.0",parameters:{Region:Gf,UseDualStack:Vf,UseFIPS:Vf,Endpoint:Gf},rules:[{conditions:[{[Rs]:jf,[ks]:[Hf]}],type:os,rules:[{conditions:Qf,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:qn},{conditions:Jf,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:qn},{endpoint:{url:Hf,properties:Ur,headers:Ur},type:ji}]},{conditions:[{[Rs]:jf,[ks]:Xf}],type:os,rules:[{conditions:[{[Rs]:"aws.partition",[ks]:Xf,assign:wu}],type:os,rules:[{conditions:[rE,sE],type:os,rules:[{conditions:[Wf,Kf],type:os,rules:[{endpoint:{url:"https://cognito-idp-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ur,headers:Ur},type:ji}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:qn}]},{conditions:Qf,type:os,rules:[{conditions:[Wf],type:os,rules:[{endpoint:{url:"https://cognito-idp-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ur,headers:Ur},type:ji}]},{error:"FIPS is enabled but this partition does not support FIPS",type:qn}]},{conditions:Jf,type:os,rules:[{conditions:[Kf],type:os,rules:[{endpoint:{url:"https://cognito-idp.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ur,headers:Ur},type:ji}]},{error:"DualStack is enabled but this partition does not support DualStack",type:qn}]},{endpoint:{url:"https://cognito-idp.{Region}.{PartitionResult#dnsSuffix}",properties:Ur,headers:Ur},type:ji}]}]},{error:"Invalid Configuration: Missing Region",type:qn}]},OM=DM,FM=(e,t={})=>Ye(OM,{endpointParams:e,logger:t.logger}),MM=e=>({apiVersion:"2016-04-18",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??FM,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"Cognito Identity Provider",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),LM=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=MM(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:NM.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},rd=e=>e,BM=(e,t)=>{let r={...rd(Tt(e)),...rd(kt(e)),...rd(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},nE=class extends ut{constructor(...[e]){let t=LM(e||{}),r=TM(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=BM(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},gn=class iE extends ht{constructor(t){super(t),Object.setPrototypeOf(this,iE.prototype)}},zM=class aE extends gn{constructor(t){super({name:"InternalErrorException",$fault:"server",...t}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,aE.prototype)}},qM=class oE extends gn{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,oE.prototype)}},$M=class cE extends gn{constructor(t){super({name:"NotAuthorizedException",$fault:"client",...t}),this.name="NotAuthorizedException",this.$fault="client",Object.setPrototypeOf(this,cE.prototype)}},UM=class dE extends gn{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,dE.prototype)}},jM=class lE extends gn{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,lE.prototype)}},GM=class uE extends gn{constructor(t){super({name:"UserPoolTaggingException",$fault:"client",...t}),this.name="UserPoolTaggingException",this.$fault="client",Object.setPrototypeOf(this,uE.prototype)}},VM=async(e,t)=>{let r=gE("DescribeUserPool"),s;return s=JSON.stringify(S(e)),vE(t,r,"/",void 0,s)},HM=async(e,t)=>{let r=gE("ListUserPools"),s;return s=JSON.stringify(S(e)),vE(t,r,"/",void 0,s)},WM=async(e,t)=>{if(e.statusCode>=300)return KM(e,t);let r=await Su(e.body,t),s={};return s=ZM(r,t),{$metadata:en(e),...s}},KM=async(e,t)=>{let r={...e,body:await bE(e.body,t)},s=wE(e,r.body);switch(s){case"InternalErrorException":case"com.amazonaws.cognitoidentityprovider#InternalErrorException":throw await mE(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentityprovider#InvalidParameterException":throw await pE(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentityprovider#NotAuthorizedException":throw await hE(r,t);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentityprovider#ResourceNotFoundException":throw await XM(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentityprovider#TooManyRequestsException":throw await fE(r,t);case"UserPoolTaggingException":case"com.amazonaws.cognitoidentityprovider#UserPoolTaggingException":throw await YM(r,t);default:let n=r.body;return yE({output:e,parsedBody:n,errorCode:s})}},QM=async(e,t)=>{if(e.statusCode>=300)return JM(e,t);let r=await Su(e.body,t),s={};return s=e4(r,t),{$metadata:en(e),...s}},JM=async(e,t)=>{let r={...e,body:await bE(e.body,t)},s=wE(e,r.body);switch(s){case"InternalErrorException":case"com.amazonaws.cognitoidentityprovider#InternalErrorException":throw await mE(r,t);case"InvalidParameterException":case"com.amazonaws.cognitoidentityprovider#InvalidParameterException":throw await pE(r,t);case"NotAuthorizedException":case"com.amazonaws.cognitoidentityprovider#NotAuthorizedException":throw await hE(r,t);case"TooManyRequestsException":case"com.amazonaws.cognitoidentityprovider#TooManyRequestsException":throw await fE(r,t);default:let n=r.body;return yE({output:e,parsedBody:n,errorCode:s})}},mE=async(e,t)=>{let r=e.body,s=S(r),n=new zM({$metadata:en(e),...s});return O(n,r)},pE=async(e,t)=>{let r=e.body,s=S(r),n=new qM({$metadata:en(e),...s});return O(n,r)},hE=async(e,t)=>{let r=e.body,s=S(r),n=new $M({$metadata:en(e),...s});return O(n,r)},XM=async(e,t)=>{let r=e.body,s=S(r),n=new UM({$metadata:en(e),...s});return O(n,r)},fE=async(e,t)=>{let r=e.body,s=S(r),n=new jM({$metadata:en(e),...s});return O(n,r)},YM=async(e,t)=>{let r=e.body,s=S(r),n=new GM({$metadata:en(e),...s});return O(n,r)},ZM=(e,t)=>R(e,{UserPool:r=>s4(r,t)}),e4=(e,t)=>R(e,{NextToken:u,UserPools:r=>r4(r,t)}),t4=(e,t)=>R(e,{CreationDate:r=>D(Se(ge(r))),Id:u,LambdaConfig:S,LastModifiedDate:r=>D(Se(ge(r))),Name:u,Status:u}),r4=(e,t)=>(e||[]).filter(s=>s!=null).map(s=>t4(s,t)),s4=(e,t)=>R(e,{AccountRecoverySetting:S,AdminCreateUserConfig:S,AliasAttributes:S,Arn:u,AutoVerifiedAttributes:S,CreationDate:r=>D(Se(ge(r))),CustomDomain:u,DeletionProtection:u,DeviceConfiguration:S,Domain:u,EmailConfiguration:S,EmailConfigurationFailure:u,EmailVerificationMessage:u,EmailVerificationSubject:u,EstimatedNumberOfUsers:At,Id:u,LambdaConfig:S,LastModifiedDate:r=>D(Se(ge(r))),MfaConfiguration:u,Name:u,Policies:S,SchemaAttributes:S,SmsAuthenticationMessage:u,SmsConfiguration:S,SmsConfigurationFailure:u,SmsVerificationMessage:u,Status:u,UserAttributeUpdateSettings:S,UserPoolAddOns:S,UserPoolTags:S,UsernameAttributes:S,UsernameConfiguration:S,VerificationMessageTemplate:S}),en=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),n4=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),yE=ft(gn),vE=async(e,t,r,s,n)=>{let{hostname:i,protocol:a="https",port:o,path:c}=await e.endpoint(),d={protocol:a,hostname:i,port:o,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return s!==void 0&&(d.hostname=s),n!==void 0&&(d.body=n),new Y(d)};function gE(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}}var Su=(e,t)=>n4(e,t).then(r=>r.length?JSON.parse(r):{}),bE=async(e,t)=>{let r=await Su(e,t);return r.message=r.message??r.Message,r},wE=(e,t)=>{let r=(i,a)=>Object.keys(i).find(o=>o.toLowerCase()===a.toLowerCase()),s=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t.code!==void 0)return s(t.code);if(t.__type!==void 0)return s(t.__type)},i4=class SE extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,SE.getEndpointParameterInstructions())),this.middlewareStack.use(Je(r));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityProviderClient",commandName:"DescribeUserPoolCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AWSCognitoIdentityProviderService",operation:"DescribeUserPool"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return VM(t,r)}deserialize(t,r){return WM(t,r)}},a4=class EE extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,EE.getEndpointParameterInstructions())),this.middlewareStack.use(Je(r));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CognitoIdentityProviderClient",commandName:"ListUserPoolsCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AWSCognitoIdentityProviderService",operation:"ListUserPools"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return HM(t,r)}deserialize(t,r){return QM(t,r)}},o4=async(e,t,...r)=>await e.send(new a4(t),...r);async function*c4(e,t,...r){let s=e.startingToken||void 0,n=!0,i;for(;n;){if(t.NextToken=s,t.MaxResults=e.pageSize,e.client instanceof nE)i=await o4(e.client,t,...r);else throw new Error("Invalid client, expected CognitoIdentityProvider | CognitoIdentityProviderClient");yield i;let a=s;s=i.NextToken,n=!!(s&&(!e.stopOnSameToken||s!==a))}return void 0}var Yf=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],sd="endpoint_discovery_enabled",Zf=e=>["false","0"].indexOf(e)>=0,d4={environmentVariableSelector:e=>{for(let t=0;t<Yf.length;t++){let r=Yf[t];if(r in e){let s=e[r];if(s==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${s}"`);return!Zf(s)}}},configFileSelector:e=>{if(sd in e){let t=e[sd];if(t===void 0)throw Error(`Shared config entry ${sd} can't be undefined, got "${t}"`);return!Zf(t)}},default:void 0},l4=ke(DA()),u4=class{constructor(e){this.cache=new l4.default(e)}getEndpoint(e){let t=this.get(e);if(!t||t.length===0)return;let r=t.map(s=>s.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let t=this.cache.get(e);if(!t)return;let r=Date.now(),s=t.filter(n=>r<n.Expires);if(s.length===0){this.delete(e);return}return s}set(e,t){let r=Date.now();this.cache.set(e,t.map(({Address:s,CachePeriodInMinutes:n})=>({Address:s,Expires:r+n*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let t=this.cache.peek(e);return t?t.length>0:!1}clear(){this.cache.clear()}},m4=(e,{endpointDiscoveryCommandCtor:t})=>({...e,endpointDiscoveryCommandCtor:t,endpointCache:new u4(e.endpointCacheSize??1e3),endpointDiscoveryEnabled:e.endpointDiscoveryEnabled!==void 0?()=>Promise.resolve(e.endpointDiscoveryEnabled):e.endpointDiscoveryEnabledProvider,isClientEndpointDiscoveryEnabled:e.endpointDiscoveryEnabled!==void 0}),jo=class IE extends ht{constructor(t){super(t),Object.setPrototypeOf(this,IE.prototype)}},p4=class CE extends jo{constructor(t){super({name:"InternalServerError",$fault:"server",...t}),this.name="InternalServerError",this.$fault="server",Object.setPrototypeOf(this,CE.prototype)}},h4=class PE extends jo{constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),this.name="InvalidEndpointException",this.$fault="client",Object.setPrototypeOf(this,PE.prototype),this.Message=t.Message}},f4=class AE extends jo{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,AE.prototype)}},ey;(function(e){e.visit=(t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1])})(ey||(ey={}));var y4=async(e,t)=>{let r=Cu("DescribeEndpoints"),s;return s=JSON.stringify(S(e)),Iu(t,r,"/",void 0,s)},v4=async(e,t)=>{let r=Cu("DescribeTable"),s;return s=JSON.stringify(S(e)),Iu(t,r,"/",void 0,s)},g4=async(e,t)=>{let r=Cu("ListTables"),s;return s=JSON.stringify(S(e)),Iu(t,r,"/",void 0,s)},b4=async(e,t)=>{if(e.statusCode>=300)return w4(e,t);let r=await Go(e.body,t),s={};return s=S(r),{$metadata:vi(e),...s}},w4=async(e,t)=>{let r={...e,body:await Pu(e.body,t)},s=Au(e,r.body),n=r.body;return Eu({output:e,parsedBody:n,errorCode:s})},S4=async(e,t)=>{if(e.statusCode>=300)return E4(e,t);let r=await Go(e.body,t),s={};return s=R4(r,t),{$metadata:vi(e),...s}},E4=async(e,t)=>{let r={...e,body:await Pu(e.body,t)},s=Au(e,r.body);switch(s){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await _E(r,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await RE(r,t);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await P4(r,t);default:let n=r.body;return Eu({output:e,parsedBody:n,errorCode:s})}},I4=async(e,t)=>{if(e.statusCode>=300)return C4(e,t);let r=await Go(e.body,t),s={};return s=S(r),{$metadata:vi(e),...s}},C4=async(e,t)=>{let r={...e,body:await Pu(e.body,t)},s=Au(e,r.body);switch(s){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await _E(r,t);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await RE(r,t);default:let n=r.body;return Eu({output:e,parsedBody:n,errorCode:s})}},_E=async(e,t)=>{let r=e.body,s=S(r),n=new p4({$metadata:vi(e),...s});return O(n,r)},RE=async(e,t)=>{let r=e.body,s=S(r),n=new h4({$metadata:vi(e),...s});return O(n,r)},P4=async(e,t)=>{let r=e.body,s=S(r),n=new f4({$metadata:vi(e),...s});return O(n,r)},A4=(e,t)=>R(e,{ArchivalBackupArn:u,ArchivalDateTime:r=>D(Se(ge(r))),ArchivalReason:u}),_4=(e,t)=>R(e,{BillingMode:u,LastUpdateToPayPerRequestDateTime:r=>D(Se(ge(r)))}),R4=(e,t)=>R(e,{Table:r=>F4(r,t)}),k4=(e,t)=>R(e,{Backfilling:Te,IndexArn:u,IndexName:u,IndexSizeBytes:ar,IndexStatus:u,ItemCount:ar,KeySchema:S,Projection:S,ProvisionedThroughput:r=>kE(r,t)}),x4=(e,t)=>(e||[]).filter(s=>s!=null).map(s=>k4(s,t)),kE=(e,t)=>R(e,{LastDecreaseDateTime:r=>D(Se(ge(r))),LastIncreaseDateTime:r=>D(Se(ge(r))),NumberOfDecreasesToday:ar,ReadCapacityUnits:ar,WriteCapacityUnits:ar}),T4=(e,t)=>R(e,{GlobalSecondaryIndexes:S,KMSMasterKeyId:u,ProvisionedThroughputOverride:S,RegionName:u,ReplicaInaccessibleDateTime:r=>D(Se(ge(r))),ReplicaStatus:u,ReplicaStatusDescription:u,ReplicaStatusPercentProgress:u,ReplicaTableClassSummary:r=>xE(r,t)}),N4=(e,t)=>(e||[]).filter(s=>s!=null).map(s=>T4(s,t)),D4=(e,t)=>R(e,{RestoreDateTime:r=>D(Se(ge(r))),RestoreInProgress:Te,SourceBackupArn:u,SourceTableArn:u}),O4=(e,t)=>R(e,{InaccessibleEncryptionDateTime:r=>D(Se(ge(r))),KMSMasterKeyArn:u,SSEType:u,Status:u}),xE=(e,t)=>R(e,{LastUpdateDateTime:r=>D(Se(ge(r))),TableClass:u}),F4=(e,t)=>R(e,{ArchivalSummary:r=>A4(r,t),AttributeDefinitions:S,BillingModeSummary:r=>_4(r,t),CreationDateTime:r=>D(Se(ge(r))),DeletionProtectionEnabled:Te,GlobalSecondaryIndexes:r=>x4(r,t),GlobalTableVersion:u,ItemCount:ar,KeySchema:S,LatestStreamArn:u,LatestStreamLabel:u,LocalSecondaryIndexes:S,ProvisionedThroughput:r=>kE(r,t),Replicas:r=>N4(r,t),RestoreSummary:r=>D4(r,t),SSEDescription:r=>O4(r,t),StreamSpecification:S,TableArn:u,TableClassSummary:r=>xE(r,t),TableId:u,TableName:u,TableSizeBytes:ar,TableStatus:u}),vi=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),M4=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),Eu=ft(jo),Iu=async(e,t,r,s,n)=>{let{hostname:i,protocol:a="https",port:o,path:c}=await e.endpoint(),d={protocol:a,hostname:i,port:o,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return s!==void 0&&(d.hostname=s),n!==void 0&&(d.body=n),new Y(d)};function Cu(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}var Go=(e,t)=>M4(e,t).then(r=>r.length?JSON.parse(r):{}),Pu=async(e,t)=>{let r=await Go(e,t);return r.message=r.message??r.Message,r},Au=(e,t)=>{let r=(i,a)=>Object.keys(i).find(o=>o.toLowerCase()===a.toLowerCase()),s=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t.code!==void 0)return s(t.code);if(t.__type!==void 0)return s(t.__type)},L4=class TE extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,TE.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"DynamoDBClient",commandName:"DescribeEndpointsCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"DynamoDB_20120810",operation:"DescribeEndpoints"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return y4(t,r)}deserialize(t,r){return b4(t,r)}},B4=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),z4={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-endpoint-discovery":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0","@smithy/util-waiter":"^2.0.9",tslib:"^2.5.0",uuid:"^8.3.2"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31","@types/uuid":"^8.3.0",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}},NE="required",hr="fn",fr="argv",gi="ref",ty="isSet",cs="tree",$n="error",ln="endpoint",_u="PartitionResult",Ru="getAttr",ry="stringEquals",sy={[NE]:!1,type:"String"},ny={[NE]:!0,default:!1,type:"Boolean"},iy={[gi]:"Endpoint"},DE={[hr]:"booleanEquals",[fr]:[{[gi]:"UseFIPS"},!0]},OE={[hr]:"booleanEquals",[fr]:[{[gi]:"UseDualStack"},!0]},ir={},FE={[gi]:"Region"},ay={[hr]:"booleanEquals",[fr]:[!0,{[hr]:Ru,[fr]:[{[gi]:_u},"supportsFIPS"]}]},ME={[gi]:_u},oy={[hr]:"booleanEquals",[fr]:[!0,{[hr]:Ru,[fr]:[ME,"supportsDualStack"]}]},cy=[DE],dy=[OE],ly=[FE],q4={version:"1.0",parameters:{Region:sy,UseDualStack:ny,UseFIPS:ny,Endpoint:sy},rules:[{conditions:[{[hr]:ty,[fr]:[iy]}],type:cs,rules:[{conditions:cy,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:$n},{conditions:dy,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:$n},{endpoint:{url:iy,properties:ir,headers:ir},type:ln}]},{conditions:[{[hr]:ty,[fr]:ly}],type:cs,rules:[{conditions:[{[hr]:"aws.partition",[fr]:ly,assign:_u}],type:cs,rules:[{conditions:[DE,OE],type:cs,rules:[{conditions:[ay,oy],type:cs,rules:[{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ir,headers:ir},type:ln}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:$n}]},{conditions:cy,type:cs,rules:[{conditions:[ay],type:cs,rules:[{conditions:[{[hr]:ry,[fr]:["aws-us-gov",{[hr]:Ru,[fr]:[ME,"name"]}]}],endpoint:{url:"https://dynamodb.{Region}.amazonaws.com",properties:ir,headers:ir},type:ln},{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ir,headers:ir},type:ln}]},{error:"FIPS is enabled but this partition does not support FIPS",type:$n}]},{conditions:dy,type:cs,rules:[{conditions:[oy],type:cs,rules:[{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ir,headers:ir},type:ln}]},{error:"DualStack is enabled but this partition does not support DualStack",type:$n}]},{conditions:[{[hr]:ry,[fr]:[FE,"local"]}],endpoint:{url:"http://localhost:8000",properties:{authSchemes:[{name:"sigv4",signingName:"dynamodb",signingRegion:"us-east-1"}]},headers:ir},type:ln},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",properties:ir,headers:ir},type:ln}]}]},{error:"Invalid Configuration: Missing Region",type:$n}]},$4=q4,U4=(e,t={})=>Ye($4,{endpointParams:e,logger:t.logger}),j4=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??U4,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),G4=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=j4(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:z4.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??A(d4),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},nd=e=>e,V4=(e,t)=>{let r={...nd(Tt(e)),...nd(kt(e)),...nd(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},LE=class extends ut{constructor(...[e]){let t=G4(e||{}),r=B4(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=m4(c,{endpointDiscoveryCommandCtor:L4}),l=V4(d,e?.extensions||[]);super(l),this.config=l,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},H4=class BE extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,BE.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"DynamoDBClient",commandName:"DescribeTableCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"DynamoDB_20120810",operation:"DescribeTable"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return v4(t,r)}deserialize(t,r){return S4(t,r)}},W4=class zE extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,zE.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"DynamoDBClient",commandName:"ListTablesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"DynamoDB_20120810",operation:"ListTables"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return g4(t,r)}deserialize(t,r){return I4(t,r)}},K4=async(e,t,...r)=>await e.send(new W4(t),...r);async function*Q4(e,t,...r){let s=e.startingToken||void 0,n=!0,i;for(;n;){if(t.ExclusiveStartTableName=s,t.Limit=e.pageSize,e.client instanceof LE)i=await K4(e.client,t,...r);else throw new Error("Invalid client, expected DynamoDB | DynamoDBClient");yield i;let a=s;s=i.LastEvaluatedTableName,n=!!(s&&(!e.stopOnSameToken||s!==a))}return void 0}var J4=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"events"}),X4={name:"@aws-sdk/client-eventbridge",description:"AWS SDK for JavaScript Eventbridge Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo eventbridge",test:"yarn test:unit","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/signature-v4-multi-region":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-eventbridge",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-eventbridge"}},qE={CrtSignerV4:null};function Y4(){if(!qE.CrtSignerV4)try{if(typeof require=="function"){let e=require,t="@aws-sdk/signature-v4-crt";e.call(null,t),process.emitWarning(`The package @aws-sdk/signature-v4-crt has been loaded dynamically.
To avoid this warning, please explicitly import the package in your application with:

import "@aws-sdk/signature-v4-crt"; // ESM
require("@aws-sdk/signature-v4-crt"); // CJS

In a future version of the AWS SDK for JavaScript (v3), this warning
will become an error and dynamic loading will not be available.

See https://github.com/aws/aws-sdk-js-v3/issues/5229.
`)}}catch{}}var $E=class{constructor(e){this.sigv4Signer=new Kd(e),this.signerOptions=e}async sign(e,t={}){if(t.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,t)}return this.sigv4Signer.sign(e,t)}async presign(e,t={}){if(t.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,t)}return this.sigv4Signer.presign(e,t)}getSigv4aSigner(){if(!this.sigv4aSigner){let e=null;try{if(Y4(),e=qE.CrtSignerV4,typeof e!="function")throw new Error}catch(t){throw t.message=`${t.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,t}this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}},UE="required",pe="type",er="fn",tr="argv",tn="ref",Z4=!1,e5=!0,ku="isSet",Yt="tree",ya="booleanEquals",jr="endpoint",ys="error",uy="stringEquals",id={[UE]:!1,[pe]:"String"},my={[UE]:!0,default:!1,[pe]:"Boolean"},py={[tn]:"EndpointId"},hy={[er]:ku,[tr]:[{[tn]:"Region"}]},hl={[tn]:"Region"},fy={[er]:"aws.partition",[tr]:[hl],assign:"PartitionResult"},jE={[tn]:"UseFIPS"},fl={[tn]:"Endpoint"},ad={authSchemes:[{name:"sigv4a",signingName:"events",signingRegionSet:["*"]}]},Dt={},GE={[er]:ya,[tr]:[{[tn]:"UseDualStack"},!0]},VE={[er]:ya,[tr]:[!0,{[er]:"getAttr",[tr]:[{[tn]:"PartitionResult"},"supportsDualStack"]}]},yy={[ys]:"DualStack is enabled but this partition does not support DualStack",[pe]:ys},HE={[er]:ya,[tr]:[jE,!0]},vy={[er]:ya,[tr]:[!0,{[er]:"getAttr",[tr]:[{[tn]:"PartitionResult"},"supportsFIPS"]}]},gy=[{[er]:ku,[tr]:[fl]}],od=[GE],by=[VE],wy=[HE],t5={version:"1.0",parameters:{Region:id,UseDualStack:my,UseFIPS:my,Endpoint:id,EndpointId:id},rules:[{conditions:[{[er]:ku,[tr]:[py]},hy,fy],[pe]:Yt,rules:[{conditions:[{[er]:"isValidHostLabel",[tr]:[py,e5]}],[pe]:Yt,rules:[{conditions:[{[er]:ya,[tr]:[jE,Z4]}],[pe]:Yt,rules:[{conditions:gy,endpoint:{url:fl,properties:ad,headers:Dt},[pe]:jr},{conditions:od,[pe]:Yt,rules:[{conditions:by,[pe]:Yt,rules:[{endpoint:{url:"https://{EndpointId}.endpoint.events.{PartitionResult#dualStackDnsSuffix}",properties:ad,headers:Dt},[pe]:jr}]},yy]},{endpoint:{url:"https://{EndpointId}.endpoint.events.{PartitionResult#dnsSuffix}",properties:ad,headers:Dt},[pe]:jr}]},{error:"Invalid Configuration: FIPS is not supported with EventBridge multi-region endpoints.",[pe]:ys}]},{error:"EndpointId must be a valid host label.",[pe]:ys}]},{conditions:gy,[pe]:Yt,rules:[{conditions:wy,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[pe]:ys},{conditions:od,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[pe]:ys},{endpoint:{url:fl,properties:Dt,headers:Dt},[pe]:jr}]},{conditions:[hy],[pe]:Yt,rules:[{conditions:[fy],[pe]:Yt,rules:[{conditions:[HE,GE],[pe]:Yt,rules:[{conditions:[vy,VE],[pe]:Yt,rules:[{endpoint:{url:"https://events-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Dt,headers:Dt},[pe]:jr}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[pe]:ys}]},{conditions:wy,[pe]:Yt,rules:[{conditions:[vy],[pe]:Yt,rules:[{conditions:[{[er]:uy,[tr]:[hl,"us-gov-east-1"]}],endpoint:{url:"https://events.us-gov-east-1.amazonaws.com",properties:Dt,headers:Dt},[pe]:jr},{conditions:[{[er]:uy,[tr]:[hl,"us-gov-west-1"]}],endpoint:{url:"https://events.us-gov-west-1.amazonaws.com",properties:Dt,headers:Dt},[pe]:jr},{endpoint:{url:"https://events-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Dt,headers:Dt},[pe]:jr}]},{error:"FIPS is enabled but this partition does not support FIPS",[pe]:ys}]},{conditions:od,[pe]:Yt,rules:[{conditions:by,[pe]:Yt,rules:[{endpoint:{url:"https://events.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Dt,headers:Dt},[pe]:jr}]},yy]},{endpoint:{url:"https://events.{Region}.{PartitionResult#dnsSuffix}",properties:Dt,headers:Dt},[pe]:jr}]}]},{error:"Invalid Configuration: Missing Region",[pe]:ys}]},r5=t5,s5=(e,t={})=>Ye(r5,{endpointParams:e,logger:t.logger}),n5=e=>({apiVersion:"2015-10-07",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??s5,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"EventBridge",signerConstructor:e?.signerConstructor??$E,urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),i5=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=n5(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:X4.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},cd=e=>e,a5=(e,t)=>{let r={...cd(Tt(e)),...cd(kt(e)),...cd(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},o5=class extends ut{constructor(...[e]){let t=i5(e||{}),r=J4(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=a5(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},xu=class WE extends ht{constructor(t){super(t),Object.setPrototypeOf(this,WE.prototype)}},c5=class KE extends xu{constructor(t){super({name:"InternalException",$fault:"server",...t}),this.name="InternalException",this.$fault="server",Object.setPrototypeOf(this,KE.prototype)}},d5=class QE extends xu{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,QE.prototype)}},l5=e=>({...e,...e.Sql&&{Sql:Ut},...e.Sqls&&{Sqls:Ut}}),u5=e=>({...e,...e.RedshiftDataParameters&&{RedshiftDataParameters:l5(e.RedshiftDataParameters)}}),m5=e=>({...e,...e.Targets&&{Targets:e.Targets.map(t=>u5(t))}}),p5=async(e,t)=>{let r=Ou("ListEventBuses"),s;return s=JSON.stringify(S(e)),Du(t,r,"/",void 0,s)},h5=async(e,t)=>{let r=Ou("ListRules"),s;return s=JSON.stringify(S(e)),Du(t,r,"/",void 0,s)},f5=async(e,t)=>{let r=Ou("ListTargetsByRule"),s;return s=JSON.stringify(S(e)),Du(t,r,"/",void 0,s)},y5=async(e,t)=>{if(e.statusCode>=300)return v5(e,t);let r=await Vo(e.body,t),s={};return s=S(r),{$metadata:va(e),...s}},v5=async(e,t)=>{let r={...e,body:await Fu(e.body,t)},s=Mu(e,r.body);switch(s){case"InternalException":case"com.amazonaws.eventbridge#InternalException":throw await Tu(r,t);default:let n=r.body;return Nu({output:e,parsedBody:n,errorCode:s})}},g5=async(e,t)=>{if(e.statusCode>=300)return b5(e,t);let r=await Vo(e.body,t),s={};return s=S(r),{$metadata:va(e),...s}},b5=async(e,t)=>{let r={...e,body:await Fu(e.body,t)},s=Mu(e,r.body);switch(s){case"InternalException":case"com.amazonaws.eventbridge#InternalException":throw await Tu(r,t);case"ResourceNotFoundException":case"com.amazonaws.eventbridge#ResourceNotFoundException":throw await JE(r,t);default:let n=r.body;return Nu({output:e,parsedBody:n,errorCode:s})}},w5=async(e,t)=>{if(e.statusCode>=300)return S5(e,t);let r=await Vo(e.body,t),s={};return s=S(r),{$metadata:va(e),...s}},S5=async(e,t)=>{let r={...e,body:await Fu(e.body,t)},s=Mu(e,r.body);switch(s){case"InternalException":case"com.amazonaws.eventbridge#InternalException":throw await Tu(r,t);case"ResourceNotFoundException":case"com.amazonaws.eventbridge#ResourceNotFoundException":throw await JE(r,t);default:let n=r.body;return Nu({output:e,parsedBody:n,errorCode:s})}},Tu=async(e,t)=>{let r=e.body,s=S(r),n=new c5({$metadata:va(e),...s});return O(n,r)},JE=async(e,t)=>{let r=e.body,s=S(r),n=new d5({$metadata:va(e),...s});return O(n,r)},va=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),E5=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),Nu=ft(xu),Du=async(e,t,r,s,n)=>{let{hostname:i,protocol:a="https",port:o,path:c}=await e.endpoint(),d={protocol:a,hostname:i,port:o,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return s!==void 0&&(d.hostname=s),n!==void 0&&(d.body=n),new Y(d)};function Ou(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSEvents.${e}`}}var Vo=(e,t)=>E5(e,t).then(r=>r.length?JSON.parse(r):{}),Fu=async(e,t)=>{let r=await Vo(e,t);return r.message=r.message??r.Message,r},Mu=(e,t)=>{let r=(i,a)=>Object.keys(i).find(o=>o.toLowerCase()===a.toLowerCase()),s=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t.code!==void 0)return s(t.code);if(t.__type!==void 0)return s(t.__type)},I5=class XE extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,XE.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"EventBridgeClient",commandName:"ListEventBusesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AWSEvents",operation:"ListEventBuses"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return p5(t,r)}deserialize(t,r){return y5(t,r)}},C5=class YE extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,YE.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"EventBridgeClient",commandName:"ListRulesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AWSEvents",operation:"ListRules"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return h5(t,r)}deserialize(t,r){return g5(t,r)}},P5=class ZE extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,ZE.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"EventBridgeClient",commandName:"ListTargetsByRuleCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:m5,[Z]:{service:"AWSEvents",operation:"ListTargetsByRule"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return f5(t,r)}deserialize(t,r){return w5(t,r)}},eI=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}),A5=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"lambda"}),_5={name:"@aws-sdk/client-lambda",description:"AWS SDK for JavaScript Lambda Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo lambda"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/eventstream-serde-browser":"^2.0.9","@smithy/eventstream-serde-config-resolver":"^2.0.9","@smithy/eventstream-serde-node":"^2.0.9","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-stream":"^2.0.12","@smithy/util-utf8":"^2.0.0","@smithy/util-waiter":"^2.0.9",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-lambda",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-lambda"}};function R5(e){let t=0,r=0,s=null,n=null,i=o=>{if(typeof o!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+o);t=o,r=4,s=new Uint8Array(o),new DataView(s.buffer).setUint32(0,o,!1)},a=async function*(){let o=e[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await o.next();if(d){if(t)if(t===r)yield s;else throw new Error("Truncated event message received.");else return;return}let l=c.length,m=0;for(;m<l;){if(!s){let h=l-m;n||(n=new Uint8Array(4));let y=Math.min(4-r,h);if(n.set(c.slice(m,m+y),r),r+=y,m+=y,r<4)break;i(new DataView(n.buffer).getUint32(0,!1)),n=null}let p=Math.min(t-r,l-m);s.set(c.slice(m,m+p),r),r+=p,m+=p,t&&t===r&&(yield s,s=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:a}}function k5(e,t){return async function(r){let{value:s}=r.headers[":message-type"];if(s==="error"){let n=new Error(r.headers[":error-message"].value||"UnknownError");throw n.name=r.headers[":error-code"].value,n}else if(s==="exception"){let n=r.headers[":exception-type"].value,i={[n]:r},a=await e(i);if(a.$unknown){let o=new Error(t(r.body));throw o.name=n,o}throw a[n]}else if(s==="event"){let n={[r.headers[":event-type"].value]:r},i=await e(n);return i.$unknown?void 0:i}else throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)}}var x5=class{constructor({utf8Encoder:e,utf8Decoder:t}){this.eventStreamCodec=new a_(e,t),this.utfEncoder=e}deserialize(e,t){let r=R5(e);return new d_({messageStream:new o_({inputStream:r,decoder:this.eventStreamCodec}),deserializer:k5(t,this.utfEncoder)})}serialize(e,t){return new c_({messageStream:new l_({inputStream:e,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}},T5=require("stream");async function*N5(e){let t=!1,r=!1,s=new Array;for(e.on("error",n=>{if(t||(t=!0),n)throw n}),e.on("data",n=>{s.push(n)}),e.on("end",()=>{t=!0});!r;){let n=await new Promise(i=>setTimeout(()=>i(s.shift()),0));n&&(yield n),r=t&&s.length===0}}var D5=class{constructor({utf8Encoder:e,utf8Decoder:t}){this.universalMarshaller=new x5({utf8Decoder:t,utf8Encoder:e})}deserialize(e,t){let r=typeof e[Symbol.asyncIterator]=="function"?e:N5(e);return this.universalMarshaller.deserialize(r,t)}serialize(e,t){return T5.Readable.from(this.universalMarshaller.serialize(e,t))}},tI=e=>new D5(e),rI="required",xs="fn",Ts="argv",bi="ref",Sy="isSet",ds="tree",Un="error",Gi="endpoint",Lu="PartitionResult",Ey={[rI]:!1,type:"String"},Iy={[rI]:!0,default:!1,type:"Boolean"},Cy={[bi]:"Endpoint"},sI={[xs]:"booleanEquals",[Ts]:[{[bi]:"UseFIPS"},!0]},nI={[xs]:"booleanEquals",[Ts]:[{[bi]:"UseDualStack"},!0]},Gr={},Py={[xs]:"booleanEquals",[Ts]:[!0,{[xs]:"getAttr",[Ts]:[{[bi]:Lu},"supportsFIPS"]}]},Ay={[xs]:"booleanEquals",[Ts]:[!0,{[xs]:"getAttr",[Ts]:[{[bi]:Lu},"supportsDualStack"]}]},_y=[sI],Ry=[nI],ky=[{[bi]:"Region"}],O5={version:"1.0",parameters:{Region:Ey,UseDualStack:Iy,UseFIPS:Iy,Endpoint:Ey},rules:[{conditions:[{[xs]:Sy,[Ts]:[Cy]}],type:ds,rules:[{conditions:_y,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Un},{conditions:Ry,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Un},{endpoint:{url:Cy,properties:Gr,headers:Gr},type:Gi}]},{conditions:[{[xs]:Sy,[Ts]:ky}],type:ds,rules:[{conditions:[{[xs]:"aws.partition",[Ts]:ky,assign:Lu}],type:ds,rules:[{conditions:[sI,nI],type:ds,rules:[{conditions:[Py,Ay],type:ds,rules:[{endpoint:{url:"https://lambda-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gr,headers:Gr},type:Gi}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Un}]},{conditions:_y,type:ds,rules:[{conditions:[Py],type:ds,rules:[{endpoint:{url:"https://lambda-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Gr,headers:Gr},type:Gi}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Un}]},{conditions:Ry,type:ds,rules:[{conditions:[Ay],type:ds,rules:[{endpoint:{url:"https://lambda.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Gr,headers:Gr},type:Gi}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Un}]},{endpoint:{url:"https://lambda.{Region}.{PartitionResult#dnsSuffix}",properties:Gr,headers:Gr},type:Gi}]}]},{error:"Invalid Configuration: Missing Region",type:Un}]},F5=O5,M5=(e,t={})=>Ye(F5,{endpointParams:e,logger:t.logger}),L5=e=>({apiVersion:"2015-03-31",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??M5,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"Lambda",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),B5=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=L5(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:_5.version}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??tI,maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},dd=e=>e,z5=(e,t)=>{let r={...dd(Tt(e)),...dd(kt(e)),...dd(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},iI=class extends ut{constructor(...[e]){let t=B5(e||{}),r=A5(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=eI(c),l=z5(d,e?.extensions||[]);super(l),this.config=l,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},ga=class aI extends ht{constructor(t){super(t),Object.setPrototypeOf(this,aI.prototype)}},q5=class oI extends ga{constructor(t){super({name:"InvalidParameterValueException",$fault:"client",...t}),this.name="InvalidParameterValueException",this.$fault="client",Object.setPrototypeOf(this,oI.prototype),this.Type=t.Type}},$5=class cI extends ga{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,cI.prototype),this.Type=t.Type,this.Message=t.Message}},U5=class dI extends ga{constructor(t){super({name:"ServiceException",$fault:"server",...t}),this.name="ServiceException",this.$fault="server",Object.setPrototypeOf(this,dI.prototype),this.Type=t.Type,this.Message=t.Message}},j5=class lI extends ga{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,lI.prototype),this.retryAfterSeconds=t.retryAfterSeconds,this.Type=t.Type,this.Reason=t.Reason}},xy;(function(e){e.visit=(t,r)=>t.PayloadChunk!==void 0?r.PayloadChunk(t.PayloadChunk):t.InvokeComplete!==void 0?r.InvokeComplete(t.InvokeComplete):r._(t.$unknown[0],t.$unknown[1])})(xy||(xy={}));var G5=e=>({...e,...e.Message&&{Message:Ut}}),V5=e=>({...e,...e.Variables&&{Variables:Ut},...e.Error&&{Error:G5(e.Error)}}),H5=e=>({...e,...e.Message&&{Message:Ut}}),W5=e=>({...e,...e.Error&&{Error:H5(e.Error)}}),K5=e=>({...e,...e.Message&&{Message:Ut}}),Q5=e=>({...e,...e.Error&&{Error:K5(e.Error)}}),Bu=e=>({...e,...e.Environment&&{Environment:V5(e.Environment)},...e.ImageConfigResponse&&{ImageConfigResponse:W5(e.ImageConfigResponse)},...e.RuntimeVersionConfig&&{RuntimeVersionConfig:Q5(e.RuntimeVersionConfig)}}),J5=e=>({...e,...e.Functions&&{Functions:e.Functions.map(t=>Bu(t))}}),X5=e=>({...e,...e.Versions&&{Versions:e.Versions.map(t=>Bu(t))}}),Y5=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/2015-03-31/functions/{FunctionName}/configuration`;o=Me(o,e,"FunctionName",()=>e.FunctionName,"{FunctionName}",!1);let c=_({Qualifier:[,e.Qualifier]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},Z5=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/2019-09-25/functions/{FunctionName}/event-invoke-config`;o=Me(o,e,"FunctionName",()=>e.FunctionName,"{FunctionName}",!1);let c=_({Qualifier:[,e.Qualifier]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},eL=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/2015-03-31/functions/{FunctionName}/policy`;o=Me(o,e,"FunctionName",()=>e.FunctionName,"{FunctionName}",!1);let c=_({Qualifier:[,e.Qualifier]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},tL=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/2015-03-31/event-source-mappings`,c=_({EventSourceArn:[,e.EventSourceArn],FunctionName:[,e.FunctionName],Marker:[,e.Marker],MaxItems:[()=>e.MaxItems!==void 0,()=>e.MaxItems.toString()]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},rL=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/2015-03-31/functions`,c=_({MasterRegion:[,e.MasterRegion],FunctionVersion:[,e.FunctionVersion],Marker:[,e.Marker],MaxItems:[()=>e.MaxItems!==void 0,()=>e.MaxItems.toString()]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},sL=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/2019-09-30/functions/{FunctionName}/provisioned-concurrency`;o=Me(o,e,"FunctionName",()=>e.FunctionName,"{FunctionName}",!1);let c=_({List:[,"ALL"],Marker:[,e.Marker],MaxItems:[()=>e.MaxItems!==void 0,()=>e.MaxItems.toString()]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},nL=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/2015-03-31/functions/{FunctionName}/versions`;o=Me(o,e,"FunctionName",()=>e.FunctionName,"{FunctionName}",!1);let c=_({Marker:[,e.Marker],MaxItems:[()=>e.MaxItems!==void 0,()=>e.MaxItems.toString()]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},iL=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return aL(e,t);let r=_({$metadata:Or(e)}),s=D(he(await rn(e.body,t)),"body"),n=R(s,{Architectures:S,CodeSha256:u,CodeSize:ar,DeadLetterConfig:S,Description:u,Environment:S,EphemeralStorage:S,FileSystemConfigs:S,FunctionArn:u,FunctionName:u,Handler:u,ImageConfigResponse:S,KMSKeyArn:u,LastModified:u,LastUpdateStatus:u,LastUpdateStatusReason:u,LastUpdateStatusReasonCode:u,Layers:S,MasterArn:u,MemorySize:At,PackageType:u,RevisionId:u,Role:u,Runtime:u,RuntimeVersionConfig:S,SigningJobArn:u,SigningProfileVersionArn:u,SnapStart:S,State:u,StateReason:u,StateReasonCode:u,Timeout:At,TracingConfig:S,Version:u,VpcConfig:S});return Object.assign(r,n),r},aL=async(e,t)=>{let r={...e,body:await In(e.body,t)},s=Cn(e,r.body);switch(s){case"InvalidParameterValueException":case"com.amazonaws.lambda#InvalidParameterValueException":throw await wn(r,t);case"ResourceNotFoundException":case"com.amazonaws.lambda#ResourceNotFoundException":throw await wi(r,t);case"ServiceException":case"com.amazonaws.lambda#ServiceException":throw await Sn(r,t);case"TooManyRequestsException":case"com.amazonaws.lambda#TooManyRequestsException":throw await En(r,t);default:let n=r.body;return bn({output:e,parsedBody:n,errorCode:s})}},oL=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return cL(e,t);let r=_({$metadata:Or(e)}),s=D(he(await rn(e.body,t)),"body"),n=R(s,{DestinationConfig:S,FunctionArn:u,LastModified:i=>D(Se(ge(i))),MaximumEventAgeInSeconds:At,MaximumRetryAttempts:At});return Object.assign(r,n),r},cL=async(e,t)=>{let r={...e,body:await In(e.body,t)},s=Cn(e,r.body);switch(s){case"InvalidParameterValueException":case"com.amazonaws.lambda#InvalidParameterValueException":throw await wn(r,t);case"ResourceNotFoundException":case"com.amazonaws.lambda#ResourceNotFoundException":throw await wi(r,t);case"ServiceException":case"com.amazonaws.lambda#ServiceException":throw await Sn(r,t);case"TooManyRequestsException":case"com.amazonaws.lambda#TooManyRequestsException":throw await En(r,t);default:let n=r.body;return bn({output:e,parsedBody:n,errorCode:s})}},dL=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return lL(e,t);let r=_({$metadata:Or(e)}),s=D(he(await rn(e.body,t)),"body"),n=R(s,{Policy:u,RevisionId:u});return Object.assign(r,n),r},lL=async(e,t)=>{let r={...e,body:await In(e.body,t)},s=Cn(e,r.body);switch(s){case"InvalidParameterValueException":case"com.amazonaws.lambda#InvalidParameterValueException":throw await wn(r,t);case"ResourceNotFoundException":case"com.amazonaws.lambda#ResourceNotFoundException":throw await wi(r,t);case"ServiceException":case"com.amazonaws.lambda#ServiceException":throw await Sn(r,t);case"TooManyRequestsException":case"com.amazonaws.lambda#TooManyRequestsException":throw await En(r,t);default:let n=r.body;return bn({output:e,parsedBody:n,errorCode:s})}},uL=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return mL(e,t);let r=_({$metadata:Or(e)}),s=D(he(await rn(e.body,t)),"body"),n=R(s,{EventSourceMappings:i=>wL(i,t),NextMarker:u});return Object.assign(r,n),r},mL=async(e,t)=>{let r={...e,body:await In(e.body,t)},s=Cn(e,r.body);switch(s){case"InvalidParameterValueException":case"com.amazonaws.lambda#InvalidParameterValueException":throw await wn(r,t);case"ResourceNotFoundException":case"com.amazonaws.lambda#ResourceNotFoundException":throw await wi(r,t);case"ServiceException":case"com.amazonaws.lambda#ServiceException":throw await Sn(r,t);case"TooManyRequestsException":case"com.amazonaws.lambda#TooManyRequestsException":throw await En(r,t);default:let n=r.body;return bn({output:e,parsedBody:n,errorCode:s})}},pL=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return hL(e,t);let r=_({$metadata:Or(e)}),s=D(he(await rn(e.body,t)),"body"),n=R(s,{Functions:S,NextMarker:u});return Object.assign(r,n),r},hL=async(e,t)=>{let r={...e,body:await In(e.body,t)},s=Cn(e,r.body);switch(s){case"InvalidParameterValueException":case"com.amazonaws.lambda#InvalidParameterValueException":throw await wn(r,t);case"ServiceException":case"com.amazonaws.lambda#ServiceException":throw await Sn(r,t);case"TooManyRequestsException":case"com.amazonaws.lambda#TooManyRequestsException":throw await En(r,t);default:let n=r.body;return bn({output:e,parsedBody:n,errorCode:s})}},fL=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return yL(e,t);let r=_({$metadata:Or(e)}),s=D(he(await rn(e.body,t)),"body"),n=R(s,{NextMarker:u,ProvisionedConcurrencyConfigs:S});return Object.assign(r,n),r},yL=async(e,t)=>{let r={...e,body:await In(e.body,t)},s=Cn(e,r.body);switch(s){case"InvalidParameterValueException":case"com.amazonaws.lambda#InvalidParameterValueException":throw await wn(r,t);case"ResourceNotFoundException":case"com.amazonaws.lambda#ResourceNotFoundException":throw await wi(r,t);case"ServiceException":case"com.amazonaws.lambda#ServiceException":throw await Sn(r,t);case"TooManyRequestsException":case"com.amazonaws.lambda#TooManyRequestsException":throw await En(r,t);default:let n=r.body;return bn({output:e,parsedBody:n,errorCode:s})}},vL=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return gL(e,t);let r=_({$metadata:Or(e)}),s=D(he(await rn(e.body,t)),"body"),n=R(s,{NextMarker:u,Versions:S});return Object.assign(r,n),r},gL=async(e,t)=>{let r={...e,body:await In(e.body,t)},s=Cn(e,r.body);switch(s){case"InvalidParameterValueException":case"com.amazonaws.lambda#InvalidParameterValueException":throw await wn(r,t);case"ResourceNotFoundException":case"com.amazonaws.lambda#ResourceNotFoundException":throw await wi(r,t);case"ServiceException":case"com.amazonaws.lambda#ServiceException":throw await Sn(r,t);case"TooManyRequestsException":case"com.amazonaws.lambda#TooManyRequestsException":throw await En(r,t);default:let n=r.body;return bn({output:e,parsedBody:n,errorCode:s})}},bn=ft(ga),wn=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{Type:u,message:u});Object.assign(r,n);let i=new q5({$metadata:Or(e),...r});return O(i,e.body)},wi=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{Message:u,Type:u});Object.assign(r,n);let i=new $5({$metadata:Or(e),...r});return O(i,e.body)},Sn=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{Message:u,Type:u});Object.assign(r,n);let i=new U5({$metadata:Or(e),...r});return O(i,e.body)},En=async(e,t)=>{let r=_({retryAfterSeconds:[,e.headers["retry-after"]]}),s=e.body,n=R(s,{Reason:u,Type:u,message:u});Object.assign(r,n);let i=new j5({$metadata:Or(e),...r});return O(i,e.body)},bL=(e,t)=>R(e,{AmazonManagedKafkaEventSourceConfig:S,BatchSize:At,BisectBatchOnFunctionError:Te,DestinationConfig:S,DocumentDBEventSourceConfig:S,EventSourceArn:u,FilterCriteria:S,FunctionArn:u,FunctionResponseTypes:S,LastModified:r=>D(Se(ge(r))),LastProcessingResult:u,MaximumBatchingWindowInSeconds:At,MaximumRecordAgeInSeconds:At,MaximumRetryAttempts:At,ParallelizationFactor:At,Queues:S,ScalingConfig:S,SelfManagedEventSource:S,SelfManagedKafkaEventSourceConfig:S,SourceAccessConfigurations:S,StartingPosition:u,StartingPositionTimestamp:r=>D(Se(ge(r))),State:u,StateTransitionReason:u,Topics:S,TumblingWindowInSeconds:At,UUID:u}),wL=(e,t)=>(e||[]).filter(s=>s!=null).map(s=>bL(s,t)),Or=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),SL=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),rn=(e,t)=>SL(e,t).then(r=>r.length?JSON.parse(r):{}),In=async(e,t)=>{let r=await rn(e,t);return r.message=r.message??r.Message,r},Cn=(e,t)=>{let r=(i,a)=>Object.keys(i).find(o=>o.toLowerCase()===a.toLowerCase()),s=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t.code!==void 0)return s(t.code);if(t.__type!==void 0)return s(t.__type)},EL=class uI extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,uI.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"LambdaClient",commandName:"GetFunctionConfigurationCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:Bu,[Z]:{service:"AWSGirApiService",operation:"GetFunctionConfiguration"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return Y5(t,r)}deserialize(t,r){return iL(t,r)}},IL=class mI extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,mI.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"LambdaClient",commandName:"GetFunctionEventInvokeConfigCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AWSGirApiService",operation:"GetFunctionEventInvokeConfig"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return Z5(t,r)}deserialize(t,r){return oL(t,r)}},CL=class pI extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,pI.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"LambdaClient",commandName:"GetPolicyCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AWSGirApiService",operation:"GetPolicy"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return eL(t,r)}deserialize(t,r){return dL(t,r)}},PL=class hI extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,hI.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"LambdaClient",commandName:"ListEventSourceMappingsCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AWSGirApiService",operation:"ListEventSourceMappings"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return tL(t,r)}deserialize(t,r){return uL(t,r)}},AL=class fI extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,fI.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"LambdaClient",commandName:"ListFunctionsCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:J5,[Z]:{service:"AWSGirApiService",operation:"ListFunctions"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return rL(t,r)}deserialize(t,r){return pL(t,r)}},_L=class yI extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,yI.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"LambdaClient",commandName:"ListProvisionedConcurrencyConfigsCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AWSGirApiService",operation:"ListProvisionedConcurrencyConfigs"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return sL(t,r)}deserialize(t,r){return fL(t,r)}},RL=class vI extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,vI.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"LambdaClient",commandName:"ListVersionsByFunctionCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:X5,[Z]:{service:"AWSGirApiService",operation:"ListVersionsByFunction"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return nL(t,r)}deserialize(t,r){return vL(t,r)}},kL=async(e,t,...r)=>await e.send(new AL(t),...r);async function*xL(e,t,...r){let s=e.startingToken||void 0,n=!0,i;for(;n;){if(t.Marker=s,t.MaxItems=e.pageSize,e.client instanceof iI)i=await kL(e.client,t,...r);else throw new Error("Invalid client, expected Lambda | LambdaClient");yield i;let a=s;s=i.NextMarker,n=!!(s&&(!e.stopOnSameToken||s!==a))}return void 0}var TL=ke(OA(),1),NL=ke(FA(),1),DL=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"rds"}),OL={name:"@aws-sdk/client-rds",description:"AWS SDK for JavaScript Rds Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo rds"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-sdk-rds":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0","@smithy/util-waiter":"^2.0.9","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-rds",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-rds"}},gI="required",Ir="fn",Cr="argv",Si="ref",Ty="isSet",ls="tree",jn="error",Gn="endpoint",zu="PartitionResult",qu="getAttr",Ny={[gI]:!1,type:"String"},Dy={[gI]:!0,default:!1,type:"Boolean"},Oy={[Si]:"Endpoint"},bI={[Ir]:"booleanEquals",[Cr]:[{[Si]:"UseFIPS"},!0]},wI={[Ir]:"booleanEquals",[Cr]:[{[Si]:"UseDualStack"},!0]},ur={},Fy={[Ir]:"booleanEquals",[Cr]:[!0,{[Ir]:qu,[Cr]:[{[Si]:zu},"supportsFIPS"]}]},SI={[Si]:zu},My={[Ir]:"booleanEquals",[Cr]:[!0,{[Ir]:qu,[Cr]:[SI,"supportsDualStack"]}]},Ly=[bI],By=[wI],zy=[{[Si]:"Region"}],FL={version:"1.0",parameters:{Region:Ny,UseDualStack:Dy,UseFIPS:Dy,Endpoint:Ny},rules:[{conditions:[{[Ir]:Ty,[Cr]:[Oy]}],type:ls,rules:[{conditions:Ly,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:jn},{conditions:By,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:jn},{endpoint:{url:Oy,properties:ur,headers:ur},type:Gn}]},{conditions:[{[Ir]:Ty,[Cr]:zy}],type:ls,rules:[{conditions:[{[Ir]:"aws.partition",[Cr]:zy,assign:zu}],type:ls,rules:[{conditions:[bI,wI],type:ls,rules:[{conditions:[Fy,My],type:ls,rules:[{endpoint:{url:"https://rds-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ur,headers:ur},type:Gn}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:jn}]},{conditions:Ly,type:ls,rules:[{conditions:[Fy],type:ls,rules:[{conditions:[{[Ir]:"stringEquals",[Cr]:["aws-us-gov",{[Ir]:qu,[Cr]:[SI,"name"]}]}],endpoint:{url:"https://rds.{Region}.amazonaws.com",properties:ur,headers:ur},type:Gn},{endpoint:{url:"https://rds-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ur,headers:ur},type:Gn}]},{error:"FIPS is enabled but this partition does not support FIPS",type:jn}]},{conditions:By,type:ls,rules:[{conditions:[My],type:ls,rules:[{endpoint:{url:"https://rds.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ur,headers:ur},type:Gn}]},{error:"DualStack is enabled but this partition does not support DualStack",type:jn}]},{endpoint:{url:"https://rds.{Region}.{PartitionResult#dnsSuffix}",properties:ur,headers:ur},type:Gn}]}]},{error:"Invalid Configuration: Missing Region",type:jn}]},ML=FL,LL=(e,t={})=>Ye(ML,{endpointParams:e,logger:t.logger}),BL=e=>({apiVersion:"2014-10-31",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??LL,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"RDS",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),zL=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=BL(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:OL.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},ld=e=>e,qL=(e,t)=>{let r={...ld(Tt(e)),...ld(kt(e)),...ld(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},EI=class extends ut{constructor(...[e]){let t=zL(e||{}),r=DL(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=qL(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},$L=ke(vn()),$u=class II extends ht{constructor(t){super(t),Object.setPrototypeOf(this,II.prototype)}},UL=class CI extends $u{constructor(t){super({name:"DBInstanceNotFoundFault",$fault:"client",...t}),this.name="DBInstanceNotFoundFault",this.$fault="client",Object.setPrototypeOf(this,CI.prototype)}},jL=async(e,t)=>{let r=OB,s;return s=MB({...WL(e,t),Action:"DescribeDBInstances",Version:"2014-10-31"}),DB(t,r,"/",void 0,s)},GL=async(e,t)=>{if(e.statusCode>=300)return VL(e,t);let r=await RI(e.body,t),s={};return s=sB(r.DescribeDBInstancesResult,t),{$metadata:_I(e),...s}},VL=async(e,t)=>{let r={...e,body:await FB(e.body,t)},s=LB(e,r.body);switch(s){case"DBInstanceNotFound":case"com.amazonaws.rds#DBInstanceNotFoundFault":throw await HL(r,t);default:let n=r.body;return NB({output:e,parsedBody:n.Error,errorCode:s})}},HL=async(e,t)=>{let r=e.body,s=nB(r.Error,t),n=new UL({$metadata:_I(e),...s});return O(n,r)},WL=(e,t)=>{let r={};if(e.DBInstanceIdentifier!=null&&(r.DBInstanceIdentifier=e.DBInstanceIdentifier),e.Filters!=null){let s=QL(e.Filters,t);e.Filters?.length===0&&(r.Filters=[]),Object.entries(s).forEach(([n,i])=>{let a=`Filters.${n}`;r[a]=i})}return e.MaxRecords!=null&&(r.MaxRecords=e.MaxRecords),e.Marker!=null&&(r.Marker=e.Marker),r},KL=(e,t)=>{let r={};if(e.Name!=null&&(r.Name=e.Name),e.Values!=null){let s=JL(e.Values,t);e.Values?.length===0&&(r.Values=[]),Object.entries(s).forEach(([n,i])=>{let a=`Values.${n}`;r[a]=i})}return r},QL=(e,t)=>{let r={},s=1;for(let n of e){if(n===null)continue;let i=KL(n,t);Object.entries(i).forEach(([a,o])=>{r[`Filter.${s}.${a}`]=o}),s++}return r},JL=(e,t)=>{let r={},s=1;for(let n of e)n!==null&&(r[`Value.${s}`]=n,s++);return r},XL=(e,t)=>{let r={};return e.Name!==void 0&&(r.Name=u(e.Name)),r},YL=(e,t)=>{let r={};return e.CAIdentifier!==void 0&&(r.CAIdentifier=u(e.CAIdentifier)),e.ValidTill!==void 0&&(r.ValidTill=D(Bt(e.ValidTill))),r},ZL=(e,t)=>{let r={};return e.DBInstanceIdentifier!==void 0&&(r.DBInstanceIdentifier=u(e.DBInstanceIdentifier)),e.DBInstanceClass!==void 0&&(r.DBInstanceClass=u(e.DBInstanceClass)),e.Engine!==void 0&&(r.Engine=u(e.Engine)),e.DBInstanceStatus!==void 0&&(r.DBInstanceStatus=u(e.DBInstanceStatus)),e.AutomaticRestartTime!==void 0&&(r.AutomaticRestartTime=D(Bt(e.AutomaticRestartTime))),e.MasterUsername!==void 0&&(r.MasterUsername=u(e.MasterUsername)),e.DBName!==void 0&&(r.DBName=u(e.DBName)),e.Endpoint!==void 0&&(r.Endpoint=qy(e.Endpoint,t)),e.AllocatedStorage!==void 0&&(r.AllocatedStorage=B(e.AllocatedStorage)),e.InstanceCreateTime!==void 0&&(r.InstanceCreateTime=D(Bt(e.InstanceCreateTime))),e.PreferredBackupWindow!==void 0&&(r.PreferredBackupWindow=u(e.PreferredBackupWindow)),e.BackupRetentionPeriod!==void 0&&(r.BackupRetentionPeriod=B(e.BackupRetentionPeriod)),e.DBSecurityGroups===""?r.DBSecurityGroups=[]:e.DBSecurityGroups!==void 0&&e.DBSecurityGroups.DBSecurityGroup!==void 0&&(r.DBSecurityGroups=mB(q(e.DBSecurityGroups.DBSecurityGroup),t)),e.VpcSecurityGroups===""?r.VpcSecurityGroups=[]:e.VpcSecurityGroups!==void 0&&e.VpcSecurityGroups.VpcSecurityGroupMembership!==void 0&&(r.VpcSecurityGroups=xB(q(e.VpcSecurityGroups.VpcSecurityGroupMembership),t)),e.DBParameterGroups===""?r.DBParameterGroups=[]:e.DBParameterGroups!==void 0&&e.DBParameterGroups.DBParameterGroup!==void 0&&(r.DBParameterGroups=lB(q(e.DBParameterGroups.DBParameterGroup),t)),e.AvailabilityZone!==void 0&&(r.AvailabilityZone=u(e.AvailabilityZone)),e.DBSubnetGroup!==void 0&&(r.DBSubnetGroup=pB(e.DBSubnetGroup,t)),e.PreferredMaintenanceWindow!==void 0&&(r.PreferredMaintenanceWindow=u(e.PreferredMaintenanceWindow)),e.PendingModifiedValues!==void 0&&(r.PendingModifiedValues=SB(e.PendingModifiedValues,t)),e.LatestRestorableTime!==void 0&&(r.LatestRestorableTime=D(Bt(e.LatestRestorableTime))),e.MultiAZ!==void 0&&(r.MultiAZ=X(e.MultiAZ)),e.EngineVersion!==void 0&&(r.EngineVersion=u(e.EngineVersion)),e.AutoMinorVersionUpgrade!==void 0&&(r.AutoMinorVersionUpgrade=X(e.AutoMinorVersionUpgrade)),e.ReadReplicaSourceDBInstanceIdentifier!==void 0&&(r.ReadReplicaSourceDBInstanceIdentifier=u(e.ReadReplicaSourceDBInstanceIdentifier)),e.ReadReplicaDBInstanceIdentifiers===""?r.ReadReplicaDBInstanceIdentifiers=[]:e.ReadReplicaDBInstanceIdentifiers!==void 0&&e.ReadReplicaDBInstanceIdentifiers.ReadReplicaDBInstanceIdentifier!==void 0&&(r.ReadReplicaDBInstanceIdentifiers=CB(q(e.ReadReplicaDBInstanceIdentifiers.ReadReplicaDBInstanceIdentifier),t)),e.ReadReplicaDBClusterIdentifiers===""?r.ReadReplicaDBClusterIdentifiers=[]:e.ReadReplicaDBClusterIdentifiers!==void 0&&e.ReadReplicaDBClusterIdentifiers.ReadReplicaDBClusterIdentifier!==void 0&&(r.ReadReplicaDBClusterIdentifiers=IB(q(e.ReadReplicaDBClusterIdentifiers.ReadReplicaDBClusterIdentifier),t)),e.ReplicaMode!==void 0&&(r.ReplicaMode=u(e.ReplicaMode)),e.LicenseModel!==void 0&&(r.LicenseModel=u(e.LicenseModel)),e.Iops!==void 0&&(r.Iops=B(e.Iops)),e.OptionGroupMemberships===""?r.OptionGroupMemberships=[]:e.OptionGroupMemberships!==void 0&&e.OptionGroupMemberships.OptionGroupMembership!==void 0&&(r.OptionGroupMemberships=gB(q(e.OptionGroupMemberships.OptionGroupMembership),t)),e.CharacterSetName!==void 0&&(r.CharacterSetName=u(e.CharacterSetName)),e.NcharCharacterSetName!==void 0&&(r.NcharCharacterSetName=u(e.NcharCharacterSetName)),e.SecondaryAvailabilityZone!==void 0&&(r.SecondaryAvailabilityZone=u(e.SecondaryAvailabilityZone)),e.PubliclyAccessible!==void 0&&(r.PubliclyAccessible=X(e.PubliclyAccessible)),e.StatusInfos===""?r.StatusInfos=[]:e.StatusInfos!==void 0&&e.StatusInfos.DBInstanceStatusInfo!==void 0&&(r.StatusInfos=cB(q(e.StatusInfos.DBInstanceStatusInfo),t)),e.StorageType!==void 0&&(r.StorageType=u(e.StorageType)),e.TdeCredentialArn!==void 0&&(r.TdeCredentialArn=u(e.TdeCredentialArn)),e.DbInstancePort!==void 0&&(r.DbInstancePort=B(e.DbInstancePort)),e.DBClusterIdentifier!==void 0&&(r.DBClusterIdentifier=u(e.DBClusterIdentifier)),e.StorageEncrypted!==void 0&&(r.StorageEncrypted=X(e.StorageEncrypted)),e.KmsKeyId!==void 0&&(r.KmsKeyId=u(e.KmsKeyId)),e.DbiResourceId!==void 0&&(r.DbiResourceId=u(e.DbiResourceId)),e.CACertificateIdentifier!==void 0&&(r.CACertificateIdentifier=u(e.CACertificateIdentifier)),e.DomainMemberships===""?r.DomainMemberships=[]:e.DomainMemberships!==void 0&&e.DomainMemberships.DomainMembership!==void 0&&(r.DomainMemberships=fB(q(e.DomainMemberships.DomainMembership),t)),e.CopyTagsToSnapshot!==void 0&&(r.CopyTagsToSnapshot=X(e.CopyTagsToSnapshot)),e.MonitoringInterval!==void 0&&(r.MonitoringInterval=B(e.MonitoringInterval)),e.EnhancedMonitoringResourceArn!==void 0&&(r.EnhancedMonitoringResourceArn=u(e.EnhancedMonitoringResourceArn)),e.MonitoringRoleArn!==void 0&&(r.MonitoringRoleArn=u(e.MonitoringRoleArn)),e.PromotionTier!==void 0&&(r.PromotionTier=B(e.PromotionTier)),e.DBInstanceArn!==void 0&&(r.DBInstanceArn=u(e.DBInstanceArn)),e.Timezone!==void 0&&(r.Timezone=u(e.Timezone)),e.IAMDatabaseAuthenticationEnabled!==void 0&&(r.IAMDatabaseAuthenticationEnabled=X(e.IAMDatabaseAuthenticationEnabled)),e.PerformanceInsightsEnabled!==void 0&&(r.PerformanceInsightsEnabled=X(e.PerformanceInsightsEnabled)),e.PerformanceInsightsKMSKeyId!==void 0&&(r.PerformanceInsightsKMSKeyId=u(e.PerformanceInsightsKMSKeyId)),e.PerformanceInsightsRetentionPeriod!==void 0&&(r.PerformanceInsightsRetentionPeriod=B(e.PerformanceInsightsRetentionPeriod)),e.EnabledCloudwatchLogsExports===""?r.EnabledCloudwatchLogsExports=[]:e.EnabledCloudwatchLogsExports!==void 0&&e.EnabledCloudwatchLogsExports.member!==void 0&&(r.EnabledCloudwatchLogsExports=yl(q(e.EnabledCloudwatchLogsExports.member),t)),e.ProcessorFeatures===""?r.ProcessorFeatures=[]:e.ProcessorFeatures!==void 0&&e.ProcessorFeatures.ProcessorFeature!==void 0&&(r.ProcessorFeatures=PI(q(e.ProcessorFeatures.ProcessorFeature),t)),e.DeletionProtection!==void 0&&(r.DeletionProtection=X(e.DeletionProtection)),e.AssociatedRoles===""?r.AssociatedRoles=[]:e.AssociatedRoles!==void 0&&e.AssociatedRoles.DBInstanceRole!==void 0&&(r.AssociatedRoles=aB(q(e.AssociatedRoles.DBInstanceRole),t)),e.ListenerEndpoint!==void 0&&(r.ListenerEndpoint=qy(e.ListenerEndpoint,t)),e.MaxAllocatedStorage!==void 0&&(r.MaxAllocatedStorage=B(e.MaxAllocatedStorage)),e.TagList===""?r.TagList=[]:e.TagList!==void 0&&e.TagList.Tag!==void 0&&(r.TagList=RB(q(e.TagList.Tag),t)),e.DBInstanceAutomatedBackupsReplications===""?r.DBInstanceAutomatedBackupsReplications=[]:e.DBInstanceAutomatedBackupsReplications!==void 0&&e.DBInstanceAutomatedBackupsReplications.DBInstanceAutomatedBackupsReplication!==void 0&&(r.DBInstanceAutomatedBackupsReplications=tB(q(e.DBInstanceAutomatedBackupsReplications.DBInstanceAutomatedBackupsReplication),t)),e.CustomerOwnedIpEnabled!==void 0&&(r.CustomerOwnedIpEnabled=X(e.CustomerOwnedIpEnabled)),e.AwsBackupRecoveryPointArn!==void 0&&(r.AwsBackupRecoveryPointArn=u(e.AwsBackupRecoveryPointArn)),e.ActivityStreamStatus!==void 0&&(r.ActivityStreamStatus=u(e.ActivityStreamStatus)),e.ActivityStreamKmsKeyId!==void 0&&(r.ActivityStreamKmsKeyId=u(e.ActivityStreamKmsKeyId)),e.ActivityStreamKinesisStreamName!==void 0&&(r.ActivityStreamKinesisStreamName=u(e.ActivityStreamKinesisStreamName)),e.ActivityStreamMode!==void 0&&(r.ActivityStreamMode=u(e.ActivityStreamMode)),e.ActivityStreamEngineNativeAuditFieldsIncluded!==void 0&&(r.ActivityStreamEngineNativeAuditFieldsIncluded=X(e.ActivityStreamEngineNativeAuditFieldsIncluded)),e.AutomationMode!==void 0&&(r.AutomationMode=u(e.AutomationMode)),e.ResumeFullAutomationModeTime!==void 0&&(r.ResumeFullAutomationModeTime=D(Bt(e.ResumeFullAutomationModeTime))),e.CustomIamInstanceProfile!==void 0&&(r.CustomIamInstanceProfile=u(e.CustomIamInstanceProfile)),e.BackupTarget!==void 0&&(r.BackupTarget=u(e.BackupTarget)),e.NetworkType!==void 0&&(r.NetworkType=u(e.NetworkType)),e.ActivityStreamPolicyStatus!==void 0&&(r.ActivityStreamPolicyStatus=u(e.ActivityStreamPolicyStatus)),e.StorageThroughput!==void 0&&(r.StorageThroughput=B(e.StorageThroughput)),e.DBSystemId!==void 0&&(r.DBSystemId=u(e.DBSystemId)),e.MasterUserSecret!==void 0&&(r.MasterUserSecret=yB(e.MasterUserSecret,t)),e.CertificateDetails!==void 0&&(r.CertificateDetails=YL(e.CertificateDetails,t)),e.ReadReplicaSourceDBClusterIdentifier!==void 0&&(r.ReadReplicaSourceDBClusterIdentifier=u(e.ReadReplicaSourceDBClusterIdentifier)),e.PercentProgress!==void 0&&(r.PercentProgress=u(e.PercentProgress)),r},eB=(e,t)=>{let r={};return e.DBInstanceAutomatedBackupsArn!==void 0&&(r.DBInstanceAutomatedBackupsArn=u(e.DBInstanceAutomatedBackupsArn)),r},tB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>eB(r,t)),rB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>ZL(r,t)),sB=(e,t)=>{let r={};return e.Marker!==void 0&&(r.Marker=u(e.Marker)),e.DBInstances===""?r.DBInstances=[]:e.DBInstances!==void 0&&e.DBInstances.DBInstance!==void 0&&(r.DBInstances=rB(q(e.DBInstances.DBInstance),t)),r},nB=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},iB=(e,t)=>{let r={};return e.RoleArn!==void 0&&(r.RoleArn=u(e.RoleArn)),e.FeatureName!==void 0&&(r.FeatureName=u(e.FeatureName)),e.Status!==void 0&&(r.Status=u(e.Status)),r},aB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>iB(r,t)),oB=(e,t)=>{let r={};return e.StatusType!==void 0&&(r.StatusType=u(e.StatusType)),e.Normal!==void 0&&(r.Normal=X(e.Normal)),e.Status!==void 0&&(r.Status=u(e.Status)),e.Message!==void 0&&(r.Message=u(e.Message)),r},cB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>oB(r,t)),dB=(e,t)=>{let r={};return e.DBParameterGroupName!==void 0&&(r.DBParameterGroupName=u(e.DBParameterGroupName)),e.ParameterApplyStatus!==void 0&&(r.ParameterApplyStatus=u(e.ParameterApplyStatus)),r},lB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>dB(r,t)),uB=(e,t)=>{let r={};return e.DBSecurityGroupName!==void 0&&(r.DBSecurityGroupName=u(e.DBSecurityGroupName)),e.Status!==void 0&&(r.Status=u(e.Status)),r},mB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>uB(r,t)),pB=(e,t)=>{let r={};return e.DBSubnetGroupName!==void 0&&(r.DBSubnetGroupName=u(e.DBSubnetGroupName)),e.DBSubnetGroupDescription!==void 0&&(r.DBSubnetGroupDescription=u(e.DBSubnetGroupDescription)),e.VpcId!==void 0&&(r.VpcId=u(e.VpcId)),e.SubnetGroupStatus!==void 0&&(r.SubnetGroupStatus=u(e.SubnetGroupStatus)),e.Subnets===""?r.Subnets=[]:e.Subnets!==void 0&&e.Subnets.Subnet!==void 0&&(r.Subnets=AB(q(e.Subnets.Subnet),t)),e.DBSubnetGroupArn!==void 0&&(r.DBSubnetGroupArn=u(e.DBSubnetGroupArn)),e.SupportedNetworkTypes===""?r.SupportedNetworkTypes=[]:e.SupportedNetworkTypes!==void 0&&e.SupportedNetworkTypes.member!==void 0&&(r.SupportedNetworkTypes=AI(q(e.SupportedNetworkTypes.member),t)),r},hB=(e,t)=>{let r={};return e.Domain!==void 0&&(r.Domain=u(e.Domain)),e.Status!==void 0&&(r.Status=u(e.Status)),e.FQDN!==void 0&&(r.FQDN=u(e.FQDN)),e.IAMRoleName!==void 0&&(r.IAMRoleName=u(e.IAMRoleName)),e.OU!==void 0&&(r.OU=u(e.OU)),e.AuthSecretArn!==void 0&&(r.AuthSecretArn=u(e.AuthSecretArn)),e.DnsIps===""?r.DnsIps=[]:e.DnsIps!==void 0&&e.DnsIps.member!==void 0&&(r.DnsIps=AI(q(e.DnsIps.member),t)),r},fB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>hB(r,t)),qy=(e,t)=>{let r={};return e.Address!==void 0&&(r.Address=u(e.Address)),e.Port!==void 0&&(r.Port=B(e.Port)),e.HostedZoneId!==void 0&&(r.HostedZoneId=u(e.HostedZoneId)),r},yl=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),yB=(e,t)=>{let r={};return e.SecretArn!==void 0&&(r.SecretArn=u(e.SecretArn)),e.SecretStatus!==void 0&&(r.SecretStatus=u(e.SecretStatus)),e.KmsKeyId!==void 0&&(r.KmsKeyId=u(e.KmsKeyId)),r},vB=(e,t)=>{let r={};return e.OptionGroupName!==void 0&&(r.OptionGroupName=u(e.OptionGroupName)),e.Status!==void 0&&(r.Status=u(e.Status)),r},gB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>vB(r,t)),bB=(e,t)=>{let r={};return e.Arn!==void 0&&(r.Arn=u(e.Arn)),r},wB=(e,t)=>{let r={};return e.LogTypesToEnable===""?r.LogTypesToEnable=[]:e.LogTypesToEnable!==void 0&&e.LogTypesToEnable.member!==void 0&&(r.LogTypesToEnable=yl(q(e.LogTypesToEnable.member),t)),e.LogTypesToDisable===""?r.LogTypesToDisable=[]:e.LogTypesToDisable!==void 0&&e.LogTypesToDisable.member!==void 0&&(r.LogTypesToDisable=yl(q(e.LogTypesToDisable.member),t)),r},SB=(e,t)=>{let r={};return e.DBInstanceClass!==void 0&&(r.DBInstanceClass=u(e.DBInstanceClass)),e.AllocatedStorage!==void 0&&(r.AllocatedStorage=B(e.AllocatedStorage)),e.MasterUserPassword!==void 0&&(r.MasterUserPassword=u(e.MasterUserPassword)),e.Port!==void 0&&(r.Port=B(e.Port)),e.BackupRetentionPeriod!==void 0&&(r.BackupRetentionPeriod=B(e.BackupRetentionPeriod)),e.MultiAZ!==void 0&&(r.MultiAZ=X(e.MultiAZ)),e.EngineVersion!==void 0&&(r.EngineVersion=u(e.EngineVersion)),e.LicenseModel!==void 0&&(r.LicenseModel=u(e.LicenseModel)),e.Iops!==void 0&&(r.Iops=B(e.Iops)),e.DBInstanceIdentifier!==void 0&&(r.DBInstanceIdentifier=u(e.DBInstanceIdentifier)),e.StorageType!==void 0&&(r.StorageType=u(e.StorageType)),e.CACertificateIdentifier!==void 0&&(r.CACertificateIdentifier=u(e.CACertificateIdentifier)),e.DBSubnetGroupName!==void 0&&(r.DBSubnetGroupName=u(e.DBSubnetGroupName)),e.PendingCloudwatchLogsExports!==void 0&&(r.PendingCloudwatchLogsExports=wB(e.PendingCloudwatchLogsExports,t)),e.ProcessorFeatures===""?r.ProcessorFeatures=[]:e.ProcessorFeatures!==void 0&&e.ProcessorFeatures.ProcessorFeature!==void 0&&(r.ProcessorFeatures=PI(q(e.ProcessorFeatures.ProcessorFeature),t)),e.IAMDatabaseAuthenticationEnabled!==void 0&&(r.IAMDatabaseAuthenticationEnabled=X(e.IAMDatabaseAuthenticationEnabled)),e.AutomationMode!==void 0&&(r.AutomationMode=u(e.AutomationMode)),e.ResumeFullAutomationModeTime!==void 0&&(r.ResumeFullAutomationModeTime=D(Bt(e.ResumeFullAutomationModeTime))),e.StorageThroughput!==void 0&&(r.StorageThroughput=B(e.StorageThroughput)),e.Engine!==void 0&&(r.Engine=u(e.Engine)),r},EB=(e,t)=>{let r={};return e.Name!==void 0&&(r.Name=u(e.Name)),e.Value!==void 0&&(r.Value=u(e.Value)),r},PI=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>EB(r,t)),IB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),CB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),AI=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),PB=(e,t)=>{let r={};return e.SubnetIdentifier!==void 0&&(r.SubnetIdentifier=u(e.SubnetIdentifier)),e.SubnetAvailabilityZone!==void 0&&(r.SubnetAvailabilityZone=XL(e.SubnetAvailabilityZone,t)),e.SubnetOutpost!==void 0&&(r.SubnetOutpost=bB(e.SubnetOutpost,t)),e.SubnetStatus!==void 0&&(r.SubnetStatus=u(e.SubnetStatus)),r},AB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>PB(r,t)),_B=(e,t)=>{let r={};return e.Key!==void 0&&(r.Key=u(e.Key)),e.Value!==void 0&&(r.Value=u(e.Value)),r},RB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>_B(r,t)),kB=(e,t)=>{let r={};return e.VpcSecurityGroupId!==void 0&&(r.VpcSecurityGroupId=u(e.VpcSecurityGroupId)),e.Status!==void 0&&(r.Status=u(e.Status)),r},xB=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>kB(r,t)),_I=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),TB=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),NB=ft($u),DB=async(e,t,r,s,n)=>{let{hostname:i,protocol:a="https",port:o,path:c}=await e.endpoint(),d={protocol:a,hostname:i,port:o,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return s!==void 0&&(d.hostname=s),n!==void 0&&(d.body=n),new Y(d)},OB={"content-type":"application/x-www-form-urlencoded"},RI=(e,t)=>TB(e,t).then(r=>{if(r.length){let s=new $L.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});s.addEntity("#xD","\r"),s.addEntity("#10",`
`);let n=s.parse(r),i="#text",a=Object.keys(n)[0],o=n[a];return o[i]&&(o[a]=o[i],delete o[i]),Qs(o)}return{}}),FB=async(e,t)=>{let r=await RI(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},MB=e=>Object.entries(e).map(([t,r])=>vr(t)+"="+vr(r)).join("&"),LB=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},kI=class xI extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,xI.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"RDSClient",commandName:"DescribeDBInstancesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AmazonRDSv19",operation:"DescribeDBInstances"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return jL(t,r)}deserialize(t,r){return GL(t,r)}},BB=async(e,t,...r)=>await e.send(new kI(t),...r);async function*zB(e,t,...r){let s=e.startingToken||void 0,n=!0,i;for(;n;){if(t.Marker=s,t.MaxRecords=e.pageSize,e.client instanceof EI)i=await BB(e.client,t,...r);else throw new Error("Invalid client, expected RDS | RDSClient");yield i;let a=s;s=i.Marker,n=!!(s&&(!e.stopOnSameToken||s!==a))}return void 0}function qB(e){return t=>async r=>{let{request:s}=r;return Y.isInstance(s)&&s.body&&e.runtime==="node"&&(s.headers={...s.headers,Expect:"100-continue"}),t({...r,request:s})}}var $B={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},UB=e=>({applyToStack:t=>{t.add(qB(e),$B)}}),jB=e=>({...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1});function GB(){return e=>async t=>{let{input:{Bucket:r}}=t;if(typeof r=="string"&&!$3(r)&&r.indexOf("/")>=0){let s=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw s.name="InvalidBucketName",s}return e({...t})}}var VB={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},HB=e=>({applyToStack:t=>{t.add(GB(),VB)}}),WB=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}),KB={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-bucket-endpoint":"3.418.0","@aws-sdk/middleware-expect-continue":"3.418.0","@aws-sdk/middleware-flexible-checksums":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-location-constraint":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-sdk-s3":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-ssec":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/signature-v4-multi-region":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@aws-sdk/xml-builder":"3.310.0","@smithy/config-resolver":"^2.0.10","@smithy/eventstream-serde-browser":"^2.0.9","@smithy/eventstream-serde-config-resolver":"^2.0.9","@smithy/eventstream-serde-node":"^2.0.9","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-blob-browser":"^2.0.9","@smithy/hash-node":"^2.0.9","@smithy/hash-stream-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/md5-js":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-stream":"^2.0.12","@smithy/util-utf8":"^2.0.0","@smithy/util-waiter":"^2.0.9","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}},QB="AWS_S3_USE_ARN_REGION",JB="s3_use_arn_region",XB={environmentVariableSelector:e=>ri(e,QB,Ks.ENV),configFileSelector:e=>ri(e,JB,Ks.CONFIG),default:!1},YB=require("stream"),ZB=class extends YB.Writable{constructor(e,t){super(t),this.hash=e}_write(e,t,r){try{this.hash.update(fn(e))}catch(s){return r(s)}r()}},e8=(e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new e,s=new ZB(r);return t.pipe(s),new Promise((n,i)=>{t.on("error",a=>{s.end(),i(a)}),s.on("error",i),s.on("finish",()=>{r.digest().then(n).catch(i)})})},Uu="required",f="type",b="conditions",C="fn",P="argv",ne="ref",Lt="assign",G="url",V="properties",Ls="authSchemes",Bs="disableDoubleEncoding",zs="signingName",sn="signingRegion",H="headers",$y=!1,Vr=!0,Kr="isSet",x="tree",jt="booleanEquals",j="error",go="aws.partition",xe="stringEquals",Fe="getAttr",gr="name",Vi="substring",TI="hardwareType",NI="regionPrefix",Uy="bucketAliasSuffix",vl="outpostId",Pn="isValidHostLabel",Tr="not",DI="parseURL",ju="s3-outposts",T="endpoint",jy="aws.isVirtualHostableS3Bucket",ni="s3",OI="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",FI="{url#scheme}://{Bucket}.{url#authority}{url#path}",MI="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",Gy="https://{Bucket}.s3.{partitionResult#dnsSuffix}",LI="aws.parseArn",BI="bucketArn",zI="arnType",bo="",Gu="s3-object-lambda",qI="accesspoint",Vu="accessPointName",Vy="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Hy="mrapPartition",Wy="outpostType",Ky="arnPrefix",$I="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",Qy="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",gl="{url#scheme}://{url#authority}{url#path}",Jy="https://s3.{partitionResult#dnsSuffix}",ud={[Uu]:!1,[f]:"String"},Vn={[Uu]:!0,default:!1,[f]:"Boolean"},md={[Uu]:!1,[f]:"Boolean"},wr={[C]:jt,[P]:[{[ne]:"Accelerate"},!0]},Ae={[C]:jt,[P]:[{[ne]:"UseFIPS"},!0]},Ie={[C]:jt,[P]:[{[ne]:"UseDualStack"},!0]},Oe={[C]:Kr,[P]:[{[ne]:"Endpoint"}]},UI={[C]:go,[P]:[{[ne]:"Region"}],[Lt]:"partitionResult"},Xy={[C]:xe,[P]:[{[C]:Fe,[P]:[{[ne]:"partitionResult"},gr]},"aws-cn"]},jI={[C]:Kr,[P]:[{[ne]:"Bucket"}]},vs={[ne]:"Bucket"},Yy={[ne]:TI},Zy={[b]:[{[C]:Tr,[P]:[Oe]}],[j]:"Expected a endpoint to be specified but no endpoint was found",[f]:j},se={[C]:Tr,[P]:[Oe]},Ht={[C]:DI,[P]:[{[ne]:"Endpoint"}],[Lt]:"url"},Xa={[Ls]:[{[Bs]:!0,[gr]:"sigv4",[zs]:ju,[sn]:"{Region}"}]},ce={},pd={[C]:jt,[P]:[{[ne]:"ForcePathStyle"},!1]},t8={[ne]:"ForcePathStyle"},Be={[C]:jt,[P]:[{[ne]:"Accelerate"},!1]},Ve={[C]:xe,[P]:[{[ne]:"Region"},"aws-global"]},It={[Ls]:[{[Bs]:!0,[gr]:"sigv4",[zs]:ni,[sn]:"us-east-1"}]},le={[C]:Tr,[P]:[Ve]},Ct={[C]:jt,[P]:[{[ne]:"UseGlobalEndpoint"},!0]},ev={[G]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[V]:{[Ls]:[{[Bs]:!0,[gr]:"sigv4",[zs]:ni,[sn]:"{Region}"}]},[H]:{}},ze={[Ls]:[{[Bs]:!0,[gr]:"sigv4",[zs]:ni,[sn]:"{Region}"}]},Pt={[C]:jt,[P]:[{[ne]:"UseGlobalEndpoint"},!1]},de={[C]:jt,[P]:[{[ne]:"UseDualStack"},!1]},tv={[G]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[V]:ze,[H]:{}},oe={[C]:jt,[P]:[{[ne]:"UseFIPS"},!1]},rv={[G]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[V]:ze,[H]:{}},sv={[G]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[V]:ze,[H]:{}},hd={[C]:jt,[P]:[{[C]:Fe,[P]:[{[ne]:"url"},"isIp"]},!0]},GI={[ne]:"url"},fd={[C]:jt,[P]:[{[C]:Fe,[P]:[GI,"isIp"]},!1]},yd={[G]:OI,[V]:ze,[H]:{}},bl={[G]:FI,[V]:ze,[H]:{}},nv={[T]:bl,[f]:T},vd={[G]:MI,[V]:ze,[H]:{}},iv={[G]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[V]:ze,[H]:{}},Ya={[j]:"Invalid region: region was not a valid DNS name.",[f]:j},rr={[ne]:BI},VI={[ne]:zI},gd={[C]:Fe,[P]:[rr,"service"]},Hu={[ne]:Vu},av={[b]:[Ie],[j]:"S3 Object Lambda does not support Dual-stack",[f]:j},ov={[b]:[wr],[j]:"S3 Object Lambda does not support S3 Accelerate",[f]:j},cv={[b]:[{[C]:Kr,[P]:[{[ne]:"DisableAccessPoints"}]},{[C]:jt,[P]:[{[ne]:"DisableAccessPoints"},!0]}],[j]:"Access points are not supported for this operation",[f]:j},bd={[b]:[{[C]:Kr,[P]:[{[ne]:"UseArnRegion"}]},{[C]:jt,[P]:[{[ne]:"UseArnRegion"},!1]},{[C]:Tr,[P]:[{[C]:xe,[P]:[{[C]:Fe,[P]:[rr,"region"]},"{Region}"]}]}],[j]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[f]:j},HI={[C]:Fe,[P]:[{[ne]:"bucketPartition"},gr]},WI={[C]:Fe,[P]:[rr,"accountId"]},wd={[Ls]:[{[Bs]:!0,[gr]:"sigv4",[zs]:Gu,[sn]:"{bucketArn#region}"}]},dv={[j]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[f]:j},Sd={[j]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[f]:j},Ed={[j]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[f]:j},Id={[j]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[f]:j},lv={[j]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[f]:j},uv={[j]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[f]:j},Hi={[Ls]:[{[Bs]:!0,[gr]:"sigv4",[zs]:ni,[sn]:"{bucketArn#region}"}]},mv={[Ls]:[{[Bs]:!0,[gr]:"sigv4",[zs]:ju,[sn]:"{bucketArn#region}"}]},pv={[C]:LI,[P]:[vs]},hv={[G]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:ze,[H]:{}},fv={[G]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:ze,[H]:{}},yv={[G]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:ze,[H]:{}},Cd={[G]:$I,[V]:ze,[H]:{}},vv={[G]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:ze,[H]:{}},gv={[ne]:"UseObjectLambdaEndpoint"},Pd={[Ls]:[{[Bs]:!0,[gr]:"sigv4",[zs]:Gu,[sn]:"{Region}"}]},bv={[G]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[V]:ze,[H]:{}},wv={[G]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[V]:ze,[H]:{}},Sv={[G]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[V]:ze,[H]:{}},Ad={[G]:gl,[V]:ze,[H]:{}},Ev={[G]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[V]:ze,[H]:{}},_d=[{[ne]:"Region"}],r8=[{[ne]:"Endpoint"}],Iv=[vs],Cv=[{[C]:Pn,[P]:[{[ne]:vl},!1]}],Pv=[{[C]:xe,[P]:[{[ne]:NI},"beta"]}],Wi=[Oe,Ht],Av=[jI],js=[UI],_v=[{[C]:Pn,[P]:[{[ne]:"Region"},!1]}],Gs=[{[C]:xe,[P]:[{[ne]:"Region"},"us-east-1"]}],Rd=[{[C]:xe,[P]:[VI,qI]}],Rv=[{[C]:Fe,[P]:[rr,"resourceId[1]"],[Lt]:Vu},{[C]:Tr,[P]:[{[C]:xe,[P]:[Hu,bo]}]}],s8=[rr,"resourceId[1]"],kv=[Ie],kd=[wr],xd=[{[C]:Tr,[P]:[{[C]:xe,[P]:[{[C]:Fe,[P]:[rr,"region"]},bo]}]}],xv=[{[C]:Tr,[P]:[{[C]:Kr,[P]:[{[C]:Fe,[P]:[rr,"resourceId[2]"]}]}]}],n8=[rr,"resourceId[2]"],Td=[{[C]:go,[P]:[{[C]:Fe,[P]:[rr,"region"]}],[Lt]:"bucketPartition"}],Tv=[{[C]:xe,[P]:[HI,{[C]:Fe,[P]:[{[ne]:"partitionResult"},gr]}]}],Nd=[{[C]:Pn,[P]:[{[C]:Fe,[P]:[rr,"region"]},!0]}],Dd=[{[C]:Pn,[P]:[WI,!1]}],Nv=[{[C]:Pn,[P]:[Hu,!1]}],Za=[Ae],Dv=[{[C]:Pn,[P]:[{[ne]:"Region"},!0]}],i8={version:"1.0",parameters:{Bucket:ud,Region:ud,UseFIPS:Vn,UseDualStack:Vn,Endpoint:ud,ForcePathStyle:Vn,Accelerate:Vn,UseGlobalEndpoint:Vn,UseObjectLambdaEndpoint:md,DisableAccessPoints:md,DisableMultiRegionAccessPoints:Vn,UseArnRegion:md},rules:[{[b]:[{[C]:Kr,[P]:_d}],[f]:x,rules:[{[b]:[wr,Ae],error:"Accelerate cannot be used with FIPS",[f]:j},{[b]:[Ie,Oe],error:"Cannot set dual-stack in combination with a custom endpoint.",[f]:j},{[b]:[Oe,Ae],error:"A custom endpoint cannot be combined with FIPS",[f]:j},{[b]:[Oe,wr],error:"A custom endpoint cannot be combined with S3 Accelerate",[f]:j},{[b]:[Ae,UI,Xy],error:"Partition does not support FIPS",[f]:j},{[b]:[jI,{[C]:Vi,[P]:[vs,49,50,Vr],[Lt]:TI},{[C]:Vi,[P]:[vs,8,12,Vr],[Lt]:NI},{[C]:Vi,[P]:[vs,0,7,Vr],[Lt]:Uy},{[C]:Vi,[P]:[vs,32,49,Vr],[Lt]:vl},{[C]:go,[P]:_d,[Lt]:"regionPartition"},{[C]:xe,[P]:[{[ne]:Uy},"--op-s3"]}],[f]:x,rules:[{[b]:Cv,[f]:x,rules:[{[b]:[{[C]:xe,[P]:[Yy,"e"]}],[f]:x,rules:[{[b]:Pv,[f]:x,rules:[Zy,{[b]:Wi,endpoint:{[G]:"https://{Bucket}.ec2.{url#authority}",[V]:Xa,[H]:ce},[f]:T}]},{endpoint:{[G]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[V]:Xa,[H]:ce},[f]:T}]},{[b]:[{[C]:xe,[P]:[Yy,"o"]}],[f]:x,rules:[{[b]:Pv,[f]:x,rules:[Zy,{[b]:Wi,endpoint:{[G]:"https://{Bucket}.op-{outpostId}.{url#authority}",[V]:Xa,[H]:ce},[f]:T}]},{endpoint:{[G]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[V]:Xa,[H]:ce},[f]:T}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[f]:j}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[f]:j}]},{[b]:Av,[f]:x,rules:[{[b]:[Oe,{[C]:Tr,[P]:[{[C]:Kr,[P]:[{[C]:DI,[P]:r8}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[f]:j},{[b]:[pd,{[C]:jy,[P]:[vs,$y]}],[f]:x,rules:[{[b]:js,[f]:x,rules:[{[b]:_v,[f]:x,rules:[{[b]:[wr,Xy],error:"S3 Accelerate cannot be used in this region",[f]:j},{[b]:[Ie,Ae,Be,se,Ve],endpoint:{[G]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[V]:It,[H]:ce},[f]:T},{[b]:[Ie,Ae,Be,se,le,Ct],[f]:x,rules:[{endpoint:ev,[f]:T}]},{[b]:[Ie,Ae,Be,se,le,Pt],endpoint:ev,[f]:T},{[b]:[de,Ae,Be,se,Ve],endpoint:{[G]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[V]:It,[H]:ce},[f]:T},{[b]:[de,Ae,Be,se,le,Ct],[f]:x,rules:[{endpoint:tv,[f]:T}]},{[b]:[de,Ae,Be,se,le,Pt],endpoint:tv,[f]:T},{[b]:[Ie,oe,wr,se,Ve],endpoint:{[G]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[V]:It,[H]:ce},[f]:T},{[b]:[Ie,oe,wr,se,le,Ct],[f]:x,rules:[{endpoint:rv,[f]:T}]},{[b]:[Ie,oe,wr,se,le,Pt],endpoint:rv,[f]:T},{[b]:[Ie,oe,Be,se,Ve],endpoint:{[G]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[V]:It,[H]:ce},[f]:T},{[b]:[Ie,oe,Be,se,le,Ct],[f]:x,rules:[{endpoint:sv,[f]:T}]},{[b]:[Ie,oe,Be,se,le,Pt],endpoint:sv,[f]:T},{[b]:[de,oe,Be,Oe,Ht,hd,Ve],endpoint:{[G]:OI,[V]:It,[H]:ce},[f]:T},{[b]:[de,oe,Be,Oe,Ht,fd,Ve],endpoint:{[G]:FI,[V]:It,[H]:ce},[f]:T},{[b]:[de,oe,Be,Oe,Ht,hd,le,Ct],[f]:x,rules:[{[b]:Gs,endpoint:yd,[f]:T},{endpoint:yd,[f]:T}]},{[b]:[de,oe,Be,Oe,Ht,fd,le,Ct],[f]:x,rules:[{[b]:Gs,endpoint:bl,[f]:T},nv]},{[b]:[de,oe,Be,Oe,Ht,hd,le,Pt],endpoint:yd,[f]:T},{[b]:[de,oe,Be,Oe,Ht,fd,le,Pt],endpoint:bl,[f]:T},{[b]:[de,oe,wr,se,Ve],endpoint:{[G]:MI,[V]:It,[H]:ce},[f]:T},{[b]:[de,oe,wr,se,le,Ct],[f]:x,rules:[{[b]:Gs,endpoint:vd,[f]:T},{endpoint:vd,[f]:T}]},{[b]:[de,oe,wr,se,le,Pt],endpoint:vd,[f]:T},{[b]:[de,oe,Be,se,Ve],endpoint:{[G]:Gy,[V]:It,[H]:ce},[f]:T},{[b]:[de,oe,Be,se,le,Ct],[f]:x,rules:[{[b]:Gs,endpoint:{[G]:Gy,[V]:ze,[H]:ce},[f]:T},{endpoint:iv,[f]:T}]},{[b]:[de,oe,Be,se,le,Pt],endpoint:iv,[f]:T}]},Ya]}]},{[b]:[Oe,Ht,{[C]:xe,[P]:[{[C]:Fe,[P]:[GI,"scheme"]},"http"]},{[C]:jy,[P]:[vs,Vr]},pd,oe,de,Be],[f]:x,rules:[{[b]:js,[f]:x,rules:[{[b]:_v,[f]:x,rules:[nv]},Ya]}]},{[b]:[pd,{[C]:LI,[P]:Iv,[Lt]:BI}],[f]:x,rules:[{[b]:[{[C]:Fe,[P]:[rr,"resourceId[0]"],[Lt]:zI},{[C]:Tr,[P]:[{[C]:xe,[P]:[VI,bo]}]}],[f]:x,rules:[{[b]:[{[C]:xe,[P]:[gd,Gu]}],[f]:x,rules:[{[b]:Rd,[f]:x,rules:[{[b]:Rv,[f]:x,rules:[av,ov,{[b]:xd,[f]:x,rules:[cv,{[b]:xv,[f]:x,rules:[bd,{[b]:Td,[f]:x,rules:[{[b]:js,[f]:x,rules:[{[b]:Tv,[f]:x,rules:[{[b]:Nd,[f]:x,rules:[{[b]:[{[C]:xe,[P]:[WI,bo]}],error:"Invalid ARN: Missing account id",[f]:j},{[b]:Dd,[f]:x,rules:[{[b]:Nv,[f]:x,rules:[{[b]:Wi,endpoint:{[G]:Vy,[V]:wd,[H]:ce},[f]:T},{[b]:Za,endpoint:{[G]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:wd,[H]:ce},[f]:T},{endpoint:{[G]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:wd,[H]:ce},[f]:T}]},dv]},Sd]},Ed]},Id]}]}]},lv]},{error:"Invalid ARN: bucket ARN is missing a region",[f]:j}]},uv]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[f]:j}]},{[b]:Rd,[f]:x,rules:[{[b]:Rv,[f]:x,rules:[{[b]:xd,[f]:x,rules:[{[b]:Rd,[f]:x,rules:[{[b]:xd,[f]:x,rules:[cv,{[b]:xv,[f]:x,rules:[bd,{[b]:Td,[f]:x,rules:[{[b]:js,[f]:x,rules:[{[b]:[{[C]:xe,[P]:[HI,"{partitionResult#name}"]}],[f]:x,rules:[{[b]:Nd,[f]:x,rules:[{[b]:[{[C]:xe,[P]:[gd,ni]}],[f]:x,rules:[{[b]:Dd,[f]:x,rules:[{[b]:Nv,[f]:x,rules:[{[b]:kd,error:"Access Points do not support S3 Accelerate",[f]:j},{[b]:[Ae,Ie],endpoint:{[G]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:Hi,[H]:ce},[f]:T},{[b]:[Ae,de],endpoint:{[G]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:Hi,[H]:ce},[f]:T},{[b]:[oe,Ie],endpoint:{[G]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:Hi,[H]:ce},[f]:T},{[b]:[oe,de,Oe,Ht],endpoint:{[G]:Vy,[V]:Hi,[H]:ce},[f]:T},{[b]:[oe,de],endpoint:{[G]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:Hi,[H]:ce},[f]:T}]},dv]},Sd]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[f]:j}]},Ed]},Id]}]}]},lv]}]}]},{[b]:[{[C]:Pn,[P]:[Hu,Vr]}],[f]:x,rules:[{[b]:kv,error:"S3 MRAP does not support dual-stack",[f]:j},{[b]:Za,error:"S3 MRAP does not support FIPS",[f]:j},{[b]:kd,error:"S3 MRAP does not support S3 Accelerate",[f]:j},{[b]:[{[C]:jt,[P]:[{[ne]:"DisableMultiRegionAccessPoints"},Vr]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[f]:j},{[b]:[{[C]:go,[P]:_d,[Lt]:Hy}],[f]:x,rules:[{[b]:[{[C]:xe,[P]:[{[C]:Fe,[P]:[{[ne]:Hy},gr]},{[C]:Fe,[P]:[rr,"partition"]}]}],[f]:x,rules:[{endpoint:{[G]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[V]:{[Ls]:[{[Bs]:Vr,name:"sigv4a",[zs]:ni,signingRegionSet:["*"]}]},[H]:ce},[f]:T}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[f]:j}]}]},{error:"Invalid Access Point Name",[f]:j}]},uv]},{[b]:[{[C]:xe,[P]:[gd,ju]}],[f]:x,rules:[{[b]:kv,error:"S3 Outposts does not support Dual-stack",[f]:j},{[b]:Za,error:"S3 Outposts does not support FIPS",[f]:j},{[b]:kd,error:"S3 Outposts does not support S3 Accelerate",[f]:j},{[b]:[{[C]:Kr,[P]:[{[C]:Fe,[P]:[rr,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[f]:j},{[b]:[{[C]:Fe,[P]:s8,[Lt]:vl}],[f]:x,rules:[{[b]:Cv,[f]:x,rules:[bd,{[b]:Td,[f]:x,rules:[{[b]:js,[f]:x,rules:[{[b]:Tv,[f]:x,rules:[{[b]:Nd,[f]:x,rules:[{[b]:Dd,[f]:x,rules:[{[b]:[{[C]:Fe,[P]:n8,[Lt]:Wy}],[f]:x,rules:[{[b]:[{[C]:Fe,[P]:[rr,"resourceId[3]"],[Lt]:Vu}],[f]:x,rules:[{[b]:[{[C]:xe,[P]:[{[ne]:Wy},qI]}],[f]:x,rules:[{[b]:Wi,endpoint:{[G]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[V]:mv,[H]:ce},[f]:T},{endpoint:{[G]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[V]:mv,[H]:ce},[f]:T}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[f]:j}]},{error:"Invalid ARN: expected an access point name",[f]:j}]},{error:"Invalid ARN: Expected a 4-component resource",[f]:j}]},Sd]},Ed]},Id]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[f]:j}]},{error:"Invalid ARN: The Outpost Id was not set",[f]:j}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[f]:j}]},{error:"Invalid ARN: No ARN type specified",[f]:j}]},{[b]:[{[C]:Vi,[P]:[vs,0,4,$y],[Lt]:Ky},{[C]:xe,[P]:[{[ne]:Ky},"arn:"]},{[C]:Tr,[P]:[{[C]:Kr,[P]:[pv]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[f]:j},{[b]:[{[C]:jt,[P]:[t8,Vr]},pv],error:"Path-style addressing cannot be used with ARN buckets",[f]:j},{[b]:[{[C]:"uriEncode",[P]:Iv,[Lt]:"uri_encoded_bucket"}],[f]:x,rules:[{[b]:js,[f]:x,rules:[{[b]:[Be],[f]:x,rules:[{[b]:[Ie,se,Ae,Ve],endpoint:{[G]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:It,[H]:ce},[f]:T},{[b]:[Ie,se,Ae,le,Ct],[f]:x,rules:[{endpoint:hv,[f]:T}]},{[b]:[Ie,se,Ae,le,Pt],endpoint:hv,[f]:T},{[b]:[de,se,Ae,Ve],endpoint:{[G]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:It,[H]:ce},[f]:T},{[b]:[de,se,Ae,le,Ct],[f]:x,rules:[{endpoint:fv,[f]:T}]},{[b]:[de,se,Ae,le,Pt],endpoint:fv,[f]:T},{[b]:[Ie,se,oe,Ve],endpoint:{[G]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[V]:It,[H]:ce},[f]:T},{[b]:[Ie,se,oe,le,Ct],[f]:x,rules:[{endpoint:yv,[f]:T}]},{[b]:[Ie,se,oe,le,Pt],endpoint:yv,[f]:T},{[b]:[de,Oe,Ht,oe,Ve],endpoint:{[G]:$I,[V]:It,[H]:ce},[f]:T},{[b]:[de,Oe,Ht,oe,le,Ct],[f]:x,rules:[{[b]:Gs,endpoint:Cd,[f]:T},{endpoint:Cd,[f]:T}]},{[b]:[de,Oe,Ht,oe,le,Pt],endpoint:Cd,[f]:T},{[b]:[de,se,oe,Ve],endpoint:{[G]:Qy,[V]:It,[H]:ce},[f]:T},{[b]:[de,se,oe,le,Ct],[f]:x,rules:[{[b]:Gs,endpoint:{[G]:Qy,[V]:ze,[H]:ce},[f]:T},{endpoint:vv,[f]:T}]},{[b]:[de,se,oe,le,Pt],endpoint:vv,[f]:T}]},{error:"Path-style addressing cannot be used with S3 Accelerate",[f]:j}]}]}]},{[b]:[{[C]:Kr,[P]:[gv]},{[C]:jt,[P]:[gv,Vr]}],[f]:x,rules:[{[b]:js,[f]:x,rules:[{[b]:Dv,[f]:x,rules:[av,ov,{[b]:Wi,endpoint:{[G]:gl,[V]:Pd,[H]:ce},[f]:T},{[b]:Za,endpoint:{[G]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[V]:Pd,[H]:ce},[f]:T},{endpoint:{[G]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[V]:Pd,[H]:ce},[f]:T}]},Ya]}]},{[b]:[{[C]:Tr,[P]:Av}],[f]:x,rules:[{[b]:js,[f]:x,rules:[{[b]:Dv,[f]:x,rules:[{[b]:[Ae,Ie,se,Ve],endpoint:{[G]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[V]:It,[H]:ce},[f]:T},{[b]:[Ae,Ie,se,le,Ct],[f]:x,rules:[{endpoint:bv,[f]:T}]},{[b]:[Ae,Ie,se,le,Pt],endpoint:bv,[f]:T},{[b]:[Ae,de,se,Ve],endpoint:{[G]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[V]:It,[H]:ce},[f]:T},{[b]:[Ae,de,se,le,Ct],[f]:x,rules:[{endpoint:wv,[f]:T}]},{[b]:[Ae,de,se,le,Pt],endpoint:wv,[f]:T},{[b]:[oe,Ie,se,Ve],endpoint:{[G]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[V]:It,[H]:ce},[f]:T},{[b]:[oe,Ie,se,le,Ct],[f]:x,rules:[{endpoint:Sv,[f]:T}]},{[b]:[oe,Ie,se,le,Pt],endpoint:Sv,[f]:T},{[b]:[oe,de,Oe,Ht,Ve],endpoint:{[G]:gl,[V]:It,[H]:ce},[f]:T},{[b]:[oe,de,Oe,Ht,le,Ct],[f]:x,rules:[{[b]:Gs,endpoint:Ad,[f]:T},{endpoint:Ad,[f]:T}]},{[b]:[oe,de,Oe,Ht,le,Pt],endpoint:Ad,[f]:T},{[b]:[oe,de,se,Ve],endpoint:{[G]:Jy,[V]:It,[H]:ce},[f]:T},{[b]:[oe,de,se,le,Ct],[f]:x,rules:[{[b]:Gs,endpoint:{[G]:Jy,[V]:ze,[H]:ce},[f]:T},{endpoint:Ev,[f]:T}]},{[b]:[oe,de,se,le,Pt],endpoint:Ev,[f]:T}]},Ya]}]}]},{error:"A region must be set when sending requests to S3.",[f]:j}]},a8=i8,o8=(e,t={})=>Ye(a8,{endpointParams:e,logger:t.logger}),c8=e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??o8,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??fk,logger:e?.logger??new lt,sdkStreamMixin:e?.sdkStreamMixin??Rk,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??$E,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??Re,useArnRegion:e?.useArnRegion??!1,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),d8=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=c8(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:KB.version}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??tI,maxAttempts:e?.maxAttempts??A(at),md5:e?.md5??Ne.bind(null,"md5"),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha1:e?.sha1??Ne.bind(null,"sha1"),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,streamHasher:e?.streamHasher??e8,useArnRegion:e?.useArnRegion??A(XB),useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},Od=e=>e,l8=(e,t)=>{let r={...Od(Tt(e)),...Od(kt(e)),...Od(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},u8=class extends ut{constructor(...[e]){let t=d8(e||{}),r=WB(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=jB(o),d=Xe(c),l=eI(d),m=l8(l,e?.extensions||[]);super(m),this.config=m,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(HB(this.config)),this.middlewareStack.use(UB(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},m8=ke(vn()),Wu=class KI extends ht{constructor(t){super(t),Object.setPrototypeOf(this,KI.prototype)}},p8=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a=_({},Ho,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/`;o=Me(o,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let c=_({lifecycle:[,""]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},h8=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a=_({},Ho,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/`;o=Me(o,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let c=_({location:[,""]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},f8=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a=_({},Ho,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/`;o=Me(o,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let c=_({policy:[,""]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},y8=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a=_({},Ho,{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/`;o=Me(o,e,"Bucket",()=>e.Bucket,"{Bucket}",!1);let c=_({publicAccessBlock:[,""]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},v8=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={"content-type":"application/xml"},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/`,c;return c="",new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,body:c})},g8=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return b8(e,t);let r=_({$metadata:wa(e)}),s=D(he(await Sa(e.body,t)),"body");return s.Rule===""?r.Rules=[]:s.Rule!==void 0&&(r.Rules=F8(q(s.Rule),t)),r},b8=async(e,t)=>{let r={...e,body:await Ea(e.body,t)},s=Ia(e,r.body),n=r.body;return ba({output:e,parsedBody:n,errorCode:s})},w8=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return S8(e,t);let r=_({$metadata:wa(e)}),s=D(he(await Sa(e.body,t)),"body");return s.LocationConstraint!==void 0&&(r.LocationConstraint=u(s.LocationConstraint)),r},S8=async(e,t)=>{let r={...e,body:await Ea(e.body,t)},s=Ia(e,r.body),n=r.body;return ba({output:e,parsedBody:n,errorCode:s})},E8=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return I8(e,t);let r=_({$metadata:wa(e)}),s=await JI(e.body,t);return r.Policy=u(s),r},I8=async(e,t)=>{let r={...e,body:await Ea(e.body,t)},s=Ia(e,r.body),n=r.body;return ba({output:e,parsedBody:n,errorCode:s})},C8=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return P8(e,t);let r=_({$metadata:wa(e)}),s=he(await Sa(e.body,t));return r.PublicAccessBlockConfiguration=q8(s,t),r},P8=async(e,t)=>{let r={...e,body:await Ea(e.body,t)},s=Ia(e,r.body),n=r.body;return ba({output:e,parsedBody:n,errorCode:s})},A8=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return _8(e,t);let r=_({$metadata:wa(e)}),s=D(he(await Sa(e.body,t)),"body");return s.Buckets===""?r.Buckets=[]:s.Buckets!==void 0&&s.Buckets.Bucket!==void 0&&(r.Buckets=x8(q(s.Buckets.Bucket),t)),s.Owner!==void 0&&(r.Owner=z8(s.Owner,t)),r},_8=async(e,t)=>{let r={...e,body:await Ea(e.body,t)},s=Ia(e,r.body),n=r.body;return ba({output:e,parsedBody:n,errorCode:s})},ba=ft(Wu),R8=(e,t)=>{let r={};return e.DaysAfterInitiation!==void 0&&(r.DaysAfterInitiation=B(e.DaysAfterInitiation)),r},k8=(e,t)=>{let r={};return e.Name!==void 0&&(r.Name=u(e.Name)),e.CreationDate!==void 0&&(r.CreationDate=D(Bt(e.CreationDate))),r},x8=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>k8(r,t)),T8=(e,t)=>{let r={};return e.Date!==void 0&&(r.Date=D(Bt(e.Date))),e.Days!==void 0&&(r.Days=B(e.Days)),e.ExpiredObjectDeleteMarker!==void 0&&(r.ExpiredObjectDeleteMarker=X(e.ExpiredObjectDeleteMarker)),r},N8=(e,t)=>{let r={};return e.Expiration!==void 0&&(r.Expiration=T8(e.Expiration,t)),e.ID!==void 0&&(r.ID=u(e.ID)),e.Prefix!==void 0&&(r.Prefix=u(e.Prefix)),e.Filter===""||e.Filter!==void 0&&(r.Filter=O8(Nk(e.Filter),t)),e.Status!==void 0&&(r.Status=u(e.Status)),e.Transition===""?r.Transitions=[]:e.Transition!==void 0&&(r.Transitions=j8(q(e.Transition),t)),e.NoncurrentVersionTransition===""?r.NoncurrentVersionTransitions=[]:e.NoncurrentVersionTransition!==void 0&&(r.NoncurrentVersionTransitions=B8(q(e.NoncurrentVersionTransition),t)),e.NoncurrentVersionExpiration!==void 0&&(r.NoncurrentVersionExpiration=M8(e.NoncurrentVersionExpiration,t)),e.AbortIncompleteMultipartUpload!==void 0&&(r.AbortIncompleteMultipartUpload=R8(e.AbortIncompleteMultipartUpload,t)),r},D8=(e,t)=>{let r={};return e.Prefix!==void 0&&(r.Prefix=u(e.Prefix)),e.Tag===""?r.Tags=[]:e.Tag!==void 0&&(r.Tags=$8(q(e.Tag),t)),e.ObjectSizeGreaterThan!==void 0&&(r.ObjectSizeGreaterThan=Dr(e.ObjectSizeGreaterThan)),e.ObjectSizeLessThan!==void 0&&(r.ObjectSizeLessThan=Dr(e.ObjectSizeLessThan)),r},O8=(e,t)=>e.Prefix!==void 0?{Prefix:u(e.Prefix)}:e.Tag!==void 0?{Tag:QI(e.Tag,t)}:e.ObjectSizeGreaterThan!==void 0?{ObjectSizeGreaterThan:Dr(e.ObjectSizeGreaterThan)}:e.ObjectSizeLessThan!==void 0?{ObjectSizeLessThan:Dr(e.ObjectSizeLessThan)}:e.And!==void 0?{And:D8(e.And,t)}:{$unknown:Object.entries(e)[0]},F8=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>N8(r,t)),M8=(e,t)=>{let r={};return e.NoncurrentDays!==void 0&&(r.NoncurrentDays=B(e.NoncurrentDays)),e.NewerNoncurrentVersions!==void 0&&(r.NewerNoncurrentVersions=B(e.NewerNoncurrentVersions)),r},L8=(e,t)=>{let r={};return e.NoncurrentDays!==void 0&&(r.NoncurrentDays=B(e.NoncurrentDays)),e.StorageClass!==void 0&&(r.StorageClass=u(e.StorageClass)),e.NewerNoncurrentVersions!==void 0&&(r.NewerNoncurrentVersions=B(e.NewerNoncurrentVersions)),r},B8=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>L8(r,t)),z8=(e,t)=>{let r={};return e.DisplayName!==void 0&&(r.DisplayName=u(e.DisplayName)),e.ID!==void 0&&(r.ID=u(e.ID)),r},q8=(e,t)=>{let r={};return e.BlockPublicAcls!==void 0&&(r.BlockPublicAcls=X(e.BlockPublicAcls)),e.IgnorePublicAcls!==void 0&&(r.IgnorePublicAcls=X(e.IgnorePublicAcls)),e.BlockPublicPolicy!==void 0&&(r.BlockPublicPolicy=X(e.BlockPublicPolicy)),e.RestrictPublicBuckets!==void 0&&(r.RestrictPublicBuckets=X(e.RestrictPublicBuckets)),r},QI=(e,t)=>{let r={};return e.Key!==void 0&&(r.Key=u(e.Key)),e.Value!==void 0&&(r.Value=u(e.Value)),r},$8=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>QI(r,t)),U8=(e,t)=>{let r={};return e.Date!==void 0&&(r.Date=D(Bt(e.Date))),e.Days!==void 0&&(r.Days=B(e.Days)),e.StorageClass!==void 0&&(r.StorageClass=u(e.StorageClass)),r},j8=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>U8(r,t)),wa=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),JI=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),Ho=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Sa=(e,t)=>JI(e,t).then(r=>{if(r.length){let s=new m8.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});s.addEntity("#xD","\r"),s.addEntity("#10",`
`);let n=s.parse(r),i="#text",a=Object.keys(n)[0],o=n[a];return o[i]&&(o[a]=o[i],delete o[i]),Qs(o)}return{}}),Ea=async(e,t)=>{let r=await Sa(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Ia=(e,t)=>{if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"},G8=class XI extends Q{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,XI.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"S3Client",commandName:"GetBucketLifecycleConfigurationCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AmazonS3",operation:"GetBucketLifecycleConfiguration"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return p8(t,r)}deserialize(t,r){return g8(t,r)}},V8=class YI extends Q{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,YI.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"S3Client",commandName:"GetBucketLocationCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AmazonS3",operation:"GetBucketLocation"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return h8(t,r)}deserialize(t,r){return w8(t,r)}},H8=class ZI extends Q{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,ZI.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"S3Client",commandName:"GetBucketPolicyCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AmazonS3",operation:"GetBucketPolicy"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return f8(t,r)}deserialize(t,r){return E8(t,r)}},W8=class eC extends Q{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,eC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"S3Client",commandName:"GetPublicAccessBlockCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AmazonS3",operation:"GetPublicAccessBlock"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return y8(t,r)}deserialize(t,r){return C8(t,r)}},K8=class tC extends Q{static getEndpointParameterInstructions(){return{ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,tC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"S3Client",commandName:"ListBucketsCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AmazonS3",operation:"ListBuckets"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return v8(t,r)}deserialize(t,r){return A8(t,r)}},Q8=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"ses"}),J8={name:"@aws-sdk/client-sesv2",description:"AWS SDK for JavaScript Sesv2 Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sesv2"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sesv2",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sesv2"}},rC="required",Ns="fn",Ds="argv",Ei="ref",Ov="isSet",us="tree",Hn="error",Ki="endpoint",Ku="PartitionResult",Fv={[rC]:!1,type:"String"},Mv={[rC]:!0,default:!1,type:"Boolean"},Lv={[Ei]:"Endpoint"},sC={[Ns]:"booleanEquals",[Ds]:[{[Ei]:"UseFIPS"},!0]},nC={[Ns]:"booleanEquals",[Ds]:[{[Ei]:"UseDualStack"},!0]},Hr={},Bv={[Ns]:"booleanEquals",[Ds]:[!0,{[Ns]:"getAttr",[Ds]:[{[Ei]:Ku},"supportsFIPS"]}]},zv={[Ns]:"booleanEquals",[Ds]:[!0,{[Ns]:"getAttr",[Ds]:[{[Ei]:Ku},"supportsDualStack"]}]},qv=[sC],$v=[nC],Uv=[{[Ei]:"Region"}],X8={version:"1.0",parameters:{Region:Fv,UseDualStack:Mv,UseFIPS:Mv,Endpoint:Fv},rules:[{conditions:[{[Ns]:Ov,[Ds]:[Lv]}],type:us,rules:[{conditions:qv,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Hn},{conditions:$v,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Hn},{endpoint:{url:Lv,properties:Hr,headers:Hr},type:Ki}]},{conditions:[{[Ns]:Ov,[Ds]:Uv}],type:us,rules:[{conditions:[{[Ns]:"aws.partition",[Ds]:Uv,assign:Ku}],type:us,rules:[{conditions:[sC,nC],type:us,rules:[{conditions:[Bv,zv],type:us,rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Hr,headers:Hr},type:Ki}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Hn}]},{conditions:qv,type:us,rules:[{conditions:[Bv],type:us,rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Hr,headers:Hr},type:Ki}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Hn}]},{conditions:$v,type:us,rules:[{conditions:[zv],type:us,rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Hr,headers:Hr},type:Ki}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Hn}]},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:Hr,headers:Hr},type:Ki}]}]},{error:"Invalid Configuration: Missing Region",type:Hn}]},Y8=X8,Z8=(e,t={})=>Ye(Y8,{endpointParams:e,logger:t.logger}),e6=e=>({apiVersion:"2019-09-27",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Z8,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"SESv2",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),t6=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=e6(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:J8.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},Fd=e=>e,r6=(e,t)=>{let r={...Fd(Tt(e)),...Fd(kt(e)),...Fd(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},s6=class extends ut{constructor(...[e]){let t=t6(e||{}),r=Q8(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=r6(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},Wo=class iC extends ht{constructor(t){super(t),Object.setPrototypeOf(this,iC.prototype)}},n6=class aC extends Wo{constructor(t){super({name:"BadRequestException",$fault:"client",...t}),this.name="BadRequestException",this.$fault="client",Object.setPrototypeOf(this,aC.prototype)}},i6=class oC extends Wo{constructor(t){super({name:"NotFoundException",$fault:"client",...t}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,oC.prototype)}},a6=class cC extends Wo{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,cC.prototype)}},o6=e=>({...e,...e.WebsiteURL&&{WebsiteURL:Ut},...e.UseCaseDescription&&{UseCaseDescription:Ut},...e.AdditionalContactEmailAddresses&&{AdditionalContactEmailAddresses:Ut}}),c6=e=>({...e,...e.Details&&{Details:o6(e.Details)}}),d6=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={"content-type":"application/json"},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/v2/email/account`,c;return c="",new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,body:c})},l6=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/v2/email/configuration-sets/{ConfigurationSetName}`;o=Me(o,e,"ConfigurationSetName",()=>e.ConfigurationSetName,"{ConfigurationSetName}",!1);let c;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,body:c})},u6=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/v2/email/identities/{EmailIdentity}`;o=Me(o,e,"EmailIdentity",()=>e.EmailIdentity,"{EmailIdentity}",!1);let c;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,body:c})},m6=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/v2/email/configuration-sets`,c=_({NextToken:[,e.NextToken],PageSize:[()=>e.PageSize!==void 0,()=>e.PageSize.toString()]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},p6=async(e,t)=>{let{hostname:r,protocol:s="https",port:n,path:i}=await t.endpoint(),a={},o=`${i?.endsWith("/")?i.slice(0,-1):i||""}/v2/email/identities`,c=_({NextToken:[,e.NextToken],PageSize:[()=>e.PageSize!==void 0,()=>e.PageSize.toString()]}),d;return new Y({protocol:s,hostname:r,port:n,method:"GET",headers:a,path:o,query:c,body:d})},h6=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return f6(e,t);let r=_({$metadata:nn(e)}),s=D(he(await Ii(e.body,t)),"body"),n=R(s,{DedicatedIpAutoWarmupEnabled:Te,Details:S,EnforcementStatus:u,ProductionAccessEnabled:Te,SendQuota:i=>A6(i,t),SendingEnabled:Te,SuppressionAttributes:S,VdmAttributes:S});return Object.assign(r,n),r},f6=async(e,t)=>{let r={...e,body:await _a(e.body,t)},s=Ra(e,r.body);switch(s){case"BadRequestException":case"com.amazonaws.sesv2#BadRequestException":throw await Pa(r,t);case"TooManyRequestsException":case"com.amazonaws.sesv2#TooManyRequestsException":throw await Aa(r,t);default:let n=r.body;return Ca({output:e,parsedBody:n,errorCode:s})}},y6=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return v6(e,t);let r=_({$metadata:nn(e)}),s=D(he(await Ii(e.body,t)),"body"),n=R(s,{ConfigurationSetName:u,DeliveryOptions:S,ReputationOptions:i=>P6(i,t),SendingOptions:S,SuppressionOptions:S,Tags:S,TrackingOptions:S,VdmOptions:S});return Object.assign(r,n),r},v6=async(e,t)=>{let r={...e,body:await _a(e.body,t)},s=Ra(e,r.body);switch(s){case"BadRequestException":case"com.amazonaws.sesv2#BadRequestException":throw await Pa(r,t);case"NotFoundException":case"com.amazonaws.sesv2#NotFoundException":throw await dC(r,t);case"TooManyRequestsException":case"com.amazonaws.sesv2#TooManyRequestsException":throw await Aa(r,t);default:let n=r.body;return Ca({output:e,parsedBody:n,errorCode:s})}},g6=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return b6(e,t);let r=_({$metadata:nn(e)}),s=D(he(await Ii(e.body,t)),"body"),n=R(s,{ConfigurationSetName:u,DkimAttributes:i=>C6(i,t),FeedbackForwardingStatus:Te,IdentityType:u,MailFromAttributes:S,Policies:S,Tags:S,VerificationStatus:u,VerifiedForSendingStatus:Te});return Object.assign(r,n),r},b6=async(e,t)=>{let r={...e,body:await _a(e.body,t)},s=Ra(e,r.body);switch(s){case"BadRequestException":case"com.amazonaws.sesv2#BadRequestException":throw await Pa(r,t);case"NotFoundException":case"com.amazonaws.sesv2#NotFoundException":throw await dC(r,t);case"TooManyRequestsException":case"com.amazonaws.sesv2#TooManyRequestsException":throw await Aa(r,t);default:let n=r.body;return Ca({output:e,parsedBody:n,errorCode:s})}},w6=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return S6(e,t);let r=_({$metadata:nn(e)}),s=D(he(await Ii(e.body,t)),"body"),n=R(s,{ConfigurationSets:S,NextToken:u});return Object.assign(r,n),r},S6=async(e,t)=>{let r={...e,body:await _a(e.body,t)},s=Ra(e,r.body);switch(s){case"BadRequestException":case"com.amazonaws.sesv2#BadRequestException":throw await Pa(r,t);case"TooManyRequestsException":case"com.amazonaws.sesv2#TooManyRequestsException":throw await Aa(r,t);default:let n=r.body;return Ca({output:e,parsedBody:n,errorCode:s})}},E6=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return I6(e,t);let r=_({$metadata:nn(e)}),s=D(he(await Ii(e.body,t)),"body"),n=R(s,{EmailIdentities:S,NextToken:u});return Object.assign(r,n),r},I6=async(e,t)=>{let r={...e,body:await _a(e.body,t)},s=Ra(e,r.body);switch(s){case"BadRequestException":case"com.amazonaws.sesv2#BadRequestException":throw await Pa(r,t);case"TooManyRequestsException":case"com.amazonaws.sesv2#TooManyRequestsException":throw await Aa(r,t);default:let n=r.body;return Ca({output:e,parsedBody:n,errorCode:s})}},Ca=ft(Wo),Pa=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{message:u});Object.assign(r,n);let i=new n6({$metadata:nn(e),...r});return O(i,e.body)},dC=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{message:u});Object.assign(r,n);let i=new i6({$metadata:nn(e),...r});return O(i,e.body)},Aa=async(e,t)=>{let r=_({}),s=e.body,n=R(s,{message:u});Object.assign(r,n);let i=new a6({$metadata:nn(e),...r});return O(i,e.body)},C6=(e,t)=>R(e,{CurrentSigningKeyLength:u,LastKeyGenerationTimestamp:r=>D(Se(ge(r))),NextSigningKeyLength:u,SigningAttributesOrigin:u,SigningEnabled:Te,Status:u,Tokens:S}),P6=(e,t)=>R(e,{LastFreshStart:r=>D(Se(ge(r))),ReputationMetricsEnabled:Te}),A6=(e,t)=>R(e,{Max24HourSend:Uc,MaxSendRate:Uc,SentLast24Hours:Uc}),nn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),_6=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),Ii=(e,t)=>_6(e,t).then(r=>r.length?JSON.parse(r):{}),_a=async(e,t)=>{let r=await Ii(e,t);return r.message=r.message??r.Message,r},Ra=(e,t)=>{let r=(i,a)=>Object.keys(i).find(o=>o.toLowerCase()===a.toLowerCase()),s=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t.code!==void 0)return s(t.code);if(t.__type!==void 0)return s(t.__type)},R6=class lC extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,lC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SESv2Client",commandName:"GetAccountCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:c6,[Z]:{service:"SimpleEmailService_v2",operation:"GetAccount"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return d6(t,r)}deserialize(t,r){return h6(t,r)}},k6=class uC extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,uC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SESv2Client",commandName:"GetConfigurationSetCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"SimpleEmailService_v2",operation:"GetConfigurationSet"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return l6(t,r)}deserialize(t,r){return y6(t,r)}},x6=class mC extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,mC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SESv2Client",commandName:"GetEmailIdentityCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"SimpleEmailService_v2",operation:"GetEmailIdentity"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return u6(t,r)}deserialize(t,r){return g6(t,r)}},T6=class pC extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,pC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SESv2Client",commandName:"ListConfigurationSetsCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"SimpleEmailService_v2",operation:"ListConfigurationSets"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return m6(t,r)}deserialize(t,r){return w6(t,r)}},N6=class hC extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,hC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SESv2Client",commandName:"ListEmailIdentitiesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"SimpleEmailService_v2",operation:"ListEmailIdentities"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return p6(t,r)}deserialize(t,r){return E6(t,r)}},D6=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sns"}),O6={name:"@aws-sdk/client-sns",description:"AWS SDK for JavaScript Sns Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sns"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sns",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sns"}},fC="required",Pr="fn",Ar="argv",Ci="ref",jv="isSet",ms="tree",Wn="error",un="endpoint",Qu="PartitionResult",Gv="stringEquals",Vv={[fC]:!1,type:"String"},Hv={[fC]:!0,default:!1,type:"Boolean"},Wv={[Ci]:"Endpoint"},yC={[Pr]:"booleanEquals",[Ar]:[{[Ci]:"UseFIPS"},!0]},vC={[Pr]:"booleanEquals",[Ar]:[{[Ci]:"UseDualStack"},!0]},Zt={},wl={[Ci]:"Region"},Kv={[Pr]:"booleanEquals",[Ar]:[!0,{[Pr]:"getAttr",[Ar]:[{[Ci]:Qu},"supportsFIPS"]}]},Qv={[Pr]:"booleanEquals",[Ar]:[!0,{[Pr]:"getAttr",[Ar]:[{[Ci]:Qu},"supportsDualStack"]}]},Jv=[yC],Xv=[vC],Yv=[wl],F6={version:"1.0",parameters:{Region:Vv,UseDualStack:Hv,UseFIPS:Hv,Endpoint:Vv},rules:[{conditions:[{[Pr]:jv,[Ar]:[Wv]}],type:ms,rules:[{conditions:Jv,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Wn},{conditions:Xv,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Wn},{endpoint:{url:Wv,properties:Zt,headers:Zt},type:un}]},{conditions:[{[Pr]:jv,[Ar]:Yv}],type:ms,rules:[{conditions:[{[Pr]:"aws.partition",[Ar]:Yv,assign:Qu}],type:ms,rules:[{conditions:[yC,vC],type:ms,rules:[{conditions:[Kv,Qv],type:ms,rules:[{endpoint:{url:"https://sns-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Zt,headers:Zt},type:un}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Wn}]},{conditions:Jv,type:ms,rules:[{conditions:[Kv],type:ms,rules:[{conditions:[{[Pr]:Gv,[Ar]:[wl,"us-gov-east-1"]}],endpoint:{url:"https://sns.us-gov-east-1.amazonaws.com",properties:Zt,headers:Zt},type:un},{conditions:[{[Pr]:Gv,[Ar]:[wl,"us-gov-west-1"]}],endpoint:{url:"https://sns.us-gov-west-1.amazonaws.com",properties:Zt,headers:Zt},type:un},{endpoint:{url:"https://sns-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Zt,headers:Zt},type:un}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Wn}]},{conditions:Xv,type:ms,rules:[{conditions:[Qv],type:ms,rules:[{endpoint:{url:"https://sns.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Zt,headers:Zt},type:un}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Wn}]},{endpoint:{url:"https://sns.{Region}.{PartitionResult#dnsSuffix}",properties:Zt,headers:Zt},type:un}]}]},{error:"Invalid Configuration: Missing Region",type:Wn}]},M6=F6,L6=(e,t={})=>Ye(M6,{endpointParams:e,logger:t.logger}),B6=e=>({apiVersion:"2010-03-31",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??L6,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"SNS",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),z6=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=B6(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:O6.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},Md=e=>e,q6=(e,t)=>{let r={...Md(Tt(e)),...Md(kt(e)),...Md(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},Ju=class extends ut{constructor(...[e]){let t=z6(e||{}),r=D6(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=q6(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},$6=ke(vn()),Pi=class gC extends ht{constructor(t){super(t),Object.setPrototypeOf(this,gC.prototype)}},U6=class bC extends Pi{constructor(t){super({name:"AuthorizationErrorException",$fault:"client",...t}),this.name="AuthorizationErrorException",this.$fault="client",Object.setPrototypeOf(this,bC.prototype)}},j6=class wC extends Pi{constructor(t){super({name:"InternalErrorException",$fault:"server",...t}),this.name="InternalErrorException",this.$fault="server",Object.setPrototypeOf(this,wC.prototype)}},G6=class SC extends Pi{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,SC.prototype)}},V6=class EC extends Pi{constructor(t){super({name:"NotFoundException",$fault:"client",...t}),this.name="NotFoundException",this.$fault="client",Object.setPrototypeOf(this,EC.prototype)}},H6=class IC extends Pi{constructor(t){super({name:"InvalidSecurityException",$fault:"client",...t}),this.name="InvalidSecurityException",this.$fault="client",Object.setPrototypeOf(this,IC.prototype)}},W6=async(e,t)=>{let r=Zo,s;return s=tc({...az(e,t),Action:"GetSubscriptionAttributes",Version:"2010-03-31"}),Yo(t,r,"/",void 0,s)},K6=async(e,t)=>{let r=Zo,s;return s=tc({...oz(e,t),Action:"GetTopicAttributes",Version:"2010-03-31"}),Yo(t,r,"/",void 0,s)},Q6=async(e,t)=>{let r=Zo,s;return s=tc({...cz(e,t),Action:"ListSubscriptions",Version:"2010-03-31"}),Yo(t,r,"/",void 0,s)},J6=async(e,t)=>{let r=Zo,s;return s=tc({...dz(e,t),Action:"ListTopics",Version:"2010-03-31"}),Yo(t,r,"/",void 0,s)},X6=async(e,t)=>{if(e.statusCode>=300)return Y6(e,t);let r=await ka(e.body,t),s={};return s=uz(r.GetSubscriptionAttributesResult,t),{$metadata:qs(e),...s}},Y6=async(e,t)=>{let r={...e,body:await ec(e.body,t)},s=rc(e,r.body);switch(s){case"AuthorizationError":case"com.amazonaws.sns#AuthorizationErrorException":throw await Ko(r,t);case"InternalError":case"com.amazonaws.sns#InternalErrorException":throw await Qo(r,t);case"InvalidParameter":case"com.amazonaws.sns#InvalidParameterException":throw await Jo(r,t);case"NotFound":case"com.amazonaws.sns#NotFoundException":throw await CC(r,t);default:let n=r.body;return Xo({output:e,parsedBody:n.Error,errorCode:s})}},Z6=async(e,t)=>{if(e.statusCode>=300)return ez(e,t);let r=await ka(e.body,t),s={};return s=mz(r.GetTopicAttributesResult,t),{$metadata:qs(e),...s}},ez=async(e,t)=>{let r={...e,body:await ec(e.body,t)},s=rc(e,r.body);switch(s){case"AuthorizationError":case"com.amazonaws.sns#AuthorizationErrorException":throw await Ko(r,t);case"InternalError":case"com.amazonaws.sns#InternalErrorException":throw await Qo(r,t);case"InvalidParameter":case"com.amazonaws.sns#InvalidParameterException":throw await Jo(r,t);case"InvalidSecurity":case"com.amazonaws.sns#InvalidSecurityException":throw await iz(r,t);case"NotFound":case"com.amazonaws.sns#NotFoundException":throw await CC(r,t);default:let n=r.body;return Xo({output:e,parsedBody:n.Error,errorCode:s})}},tz=async(e,t)=>{if(e.statusCode>=300)return rz(e,t);let r=await ka(e.body,t),s={};return s=yz(r.ListSubscriptionsResult,t),{$metadata:qs(e),...s}},rz=async(e,t)=>{let r={...e,body:await ec(e.body,t)},s=rc(e,r.body);switch(s){case"AuthorizationError":case"com.amazonaws.sns#AuthorizationErrorException":throw await Ko(r,t);case"InternalError":case"com.amazonaws.sns#InternalErrorException":throw await Qo(r,t);case"InvalidParameter":case"com.amazonaws.sns#InvalidParameterException":throw await Jo(r,t);default:let n=r.body;return Xo({output:e,parsedBody:n.Error,errorCode:s})}},sz=async(e,t)=>{if(e.statusCode>=300)return nz(e,t);let r=await ka(e.body,t),s={};return s=vz(r.ListTopicsResult,t),{$metadata:qs(e),...s}},nz=async(e,t)=>{let r={...e,body:await ec(e.body,t)},s=rc(e,r.body);switch(s){case"AuthorizationError":case"com.amazonaws.sns#AuthorizationErrorException":throw await Ko(r,t);case"InternalError":case"com.amazonaws.sns#InternalErrorException":throw await Qo(r,t);case"InvalidParameter":case"com.amazonaws.sns#InvalidParameterException":throw await Jo(r,t);default:let n=r.body;return Xo({output:e,parsedBody:n.Error,errorCode:s})}},Ko=async(e,t)=>{let r=e.body,s=lz(r.Error,t),n=new U6({$metadata:qs(e),...s});return O(n,r)},Qo=async(e,t)=>{let r=e.body,s=pz(r.Error,t),n=new j6({$metadata:qs(e),...s});return O(n,r)},Jo=async(e,t)=>{let r=e.body,s=hz(r.Error,t),n=new G6({$metadata:qs(e),...s});return O(n,r)},iz=async(e,t)=>{let r=e.body,s=fz(r.Error,t),n=new H6({$metadata:qs(e),...s});return O(n,r)},CC=async(e,t)=>{let r=e.body,s=gz(r.Error,t),n=new V6({$metadata:qs(e),...s});return O(n,r)},az=(e,t)=>{let r={};return e.SubscriptionArn!=null&&(r.SubscriptionArn=e.SubscriptionArn),r},oz=(e,t)=>{let r={};return e.TopicArn!=null&&(r.TopicArn=e.TopicArn),r},cz=(e,t)=>{let r={};return e.NextToken!=null&&(r.NextToken=e.NextToken),r},dz=(e,t)=>{let r={};return e.NextToken!=null&&(r.NextToken=e.NextToken),r},lz=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},uz=(e,t)=>{let r={};return e.Attributes===""?r.Attributes={}:e.Attributes!==void 0&&e.Attributes.entry!==void 0&&(r.Attributes=wz(q(e.Attributes.entry),t)),r},mz=(e,t)=>{let r={};return e.Attributes===""?r.Attributes={}:e.Attributes!==void 0&&e.Attributes.entry!==void 0&&(r.Attributes=Iz(q(e.Attributes.entry),t)),r},pz=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},hz=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},fz=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},yz=(e,t)=>{let r={};return e.Subscriptions===""?r.Subscriptions=[]:e.Subscriptions!==void 0&&e.Subscriptions.member!==void 0&&(r.Subscriptions=Sz(q(e.Subscriptions.member),t)),e.NextToken!==void 0&&(r.NextToken=u(e.NextToken)),r},vz=(e,t)=>{let r={};return e.Topics===""?r.Topics=[]:e.Topics!==void 0&&e.Topics.member!==void 0&&(r.Topics=Cz(q(e.Topics.member),t)),e.NextToken!==void 0&&(r.NextToken=u(e.NextToken)),r},gz=(e,t)=>{let r={};return e.message!==void 0&&(r.message=u(e.message)),r},bz=(e,t)=>{let r={};return e.SubscriptionArn!==void 0&&(r.SubscriptionArn=u(e.SubscriptionArn)),e.Owner!==void 0&&(r.Owner=u(e.Owner)),e.Protocol!==void 0&&(r.Protocol=u(e.Protocol)),e.Endpoint!==void 0&&(r.Endpoint=u(e.Endpoint)),e.TopicArn!==void 0&&(r.TopicArn=u(e.TopicArn)),r},wz=(e,t)=>e.reduce((r,s)=>(s.value===null||(r[s.key]=u(s.value)),r),{}),Sz=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>bz(r,t)),Ez=(e,t)=>{let r={};return e.TopicArn!==void 0&&(r.TopicArn=u(e.TopicArn)),r},Iz=(e,t)=>e.reduce((r,s)=>(s.value===null||(r[s.key]=u(s.value)),r),{}),Cz=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Ez(r,t)),qs=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Pz=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),Xo=ft(Pi),Yo=async(e,t,r,s,n)=>{let{hostname:i,protocol:a="https",port:o,path:c}=await e.endpoint(),d={protocol:a,hostname:i,port:o,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return s!==void 0&&(d.hostname=s),n!==void 0&&(d.body=n),new Y(d)},Zo={"content-type":"application/x-www-form-urlencoded"},ka=(e,t)=>Pz(e,t).then(r=>{if(r.length){let s=new $6.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});s.addEntity("#xD","\r"),s.addEntity("#10",`
`);let n=s.parse(r),i="#text",a=Object.keys(n)[0],o=n[a];return o[i]&&(o[a]=o[i],delete o[i]),Qs(o)}return{}}),ec=async(e,t)=>{let r=await ka(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},tc=e=>Object.entries(e).map(([t,r])=>vr(t)+"="+vr(r)).join("&"),rc=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},Az=class PC extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,PC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SNSClient",commandName:"GetSubscriptionAttributesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AmazonSimpleNotificationService",operation:"GetSubscriptionAttributes"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return W6(t,r)}deserialize(t,r){return X6(t,r)}},_z=class AC extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,AC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SNSClient",commandName:"GetTopicAttributesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AmazonSimpleNotificationService",operation:"GetTopicAttributes"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return K6(t,r)}deserialize(t,r){return Z6(t,r)}},Rz=class _C extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,_C.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SNSClient",commandName:"ListSubscriptionsCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AmazonSimpleNotificationService",operation:"ListSubscriptions"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return Q6(t,r)}deserialize(t,r){return tz(t,r)}},kz=class RC extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,RC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SNSClient",commandName:"ListTopicsCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AmazonSimpleNotificationService",operation:"ListTopics"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return J6(t,r)}deserialize(t,r){return sz(t,r)}},xz=async(e,t,...r)=>await e.send(new Rz(t),...r);async function*Tz(e,t,...r){let s=e.startingToken||void 0,n=!0,i;for(;n;){if(t.NextToken=s,e.client instanceof Ju)i=await xz(e.client,t,...r);else throw new Error("Invalid client, expected SNS | SNSClient");yield i;let a=s;s=i.NextToken,n=!!(s&&(!e.stopOnSameToken||s!==a))}return void 0}var Nz=async(e,t,...r)=>await e.send(new kz(t),...r);async function*Dz(e,t,...r){let s=e.startingToken||void 0,n=!0,i;for(;n;){if(t.NextToken=s,e.client instanceof Ju)i=await Nz(e.client,t,...r);else throw new Error("Invalid client, expected SNS | SNSClient");yield i;let a=s;s=i.NextToken,n=!!(s&&(!e.stopOnSameToken||s!==a))}return void 0}var Oz=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sqs"}),Fz={name:"@aws-sdk/client-sqs",description:"AWS SDK for JavaScript Sqs Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sqs"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-sdk-sqs":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/md5-js":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0","fast-xml-parser":"4.2.5",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sqs",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sqs"}},kC="required",_r="fn",Rr="argv",Ai="ref",Zv="isSet",ps="tree",Kn="error",Qn="endpoint",Xu="PartitionResult",Yu="getAttr",eg={[kC]:!1,type:"String"},tg={[kC]:!0,default:!1,type:"Boolean"},rg={[Ai]:"Endpoint"},xC={[_r]:"booleanEquals",[Rr]:[{[Ai]:"UseFIPS"},!0]},TC={[_r]:"booleanEquals",[Rr]:[{[Ai]:"UseDualStack"},!0]},mr={},sg={[_r]:"booleanEquals",[Rr]:[!0,{[_r]:Yu,[Rr]:[{[Ai]:Xu},"supportsFIPS"]}]},NC={[Ai]:Xu},ng={[_r]:"booleanEquals",[Rr]:[!0,{[_r]:Yu,[Rr]:[NC,"supportsDualStack"]}]},ig=[xC],ag=[TC],og=[{[Ai]:"Region"}],Mz={version:"1.0",parameters:{Region:eg,UseDualStack:tg,UseFIPS:tg,Endpoint:eg},rules:[{conditions:[{[_r]:Zv,[Rr]:[rg]}],type:ps,rules:[{conditions:ig,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Kn},{conditions:ag,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Kn},{endpoint:{url:rg,properties:mr,headers:mr},type:Qn}]},{conditions:[{[_r]:Zv,[Rr]:og}],type:ps,rules:[{conditions:[{[_r]:"aws.partition",[Rr]:og,assign:Xu}],type:ps,rules:[{conditions:[xC,TC],type:ps,rules:[{conditions:[sg,ng],type:ps,rules:[{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:mr,headers:mr},type:Qn}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Kn}]},{conditions:ig,type:ps,rules:[{conditions:[sg],type:ps,rules:[{conditions:[{[_r]:"stringEquals",[Rr]:["aws-us-gov",{[_r]:Yu,[Rr]:[NC,"name"]}]}],endpoint:{url:"https://sqs.{Region}.amazonaws.com",properties:mr,headers:mr},type:Qn},{endpoint:{url:"https://sqs-fips.{Region}.{PartitionResult#dnsSuffix}",properties:mr,headers:mr},type:Qn}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Kn}]},{conditions:ag,type:ps,rules:[{conditions:[ng],type:ps,rules:[{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:mr,headers:mr},type:Qn}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Kn}]},{endpoint:{url:"https://sqs.{Region}.{PartitionResult#dnsSuffix}",properties:mr,headers:mr},type:Qn}]}]},{error:"Invalid Configuration: Missing Region",type:Kn}]},Lz=Mz,Bz=(e,t={})=>Ye(Lz,{endpointParams:e,logger:t.logger}),zz=e=>({apiVersion:"2012-11-05",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Bz,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"SQS",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),qz=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=zz(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:Fz.version}),maxAttempts:e?.maxAttempts??A(at),md5:e?.md5??Ne.bind(null,"md5"),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},Ld=e=>e,$z=(e,t)=>{let r={...Ld(Tt(e)),...Ld(kt(e)),...Ld(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},DC=class extends ut{constructor(...[e]){let t=qz(e||{}),r=Oz(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=$z(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},Uz=ke(vn()),OC=class FC extends ht{constructor(t){super(t),Object.setPrototypeOf(this,FC.prototype)}},jz=class MC extends OC{constructor(t){super({name:"InvalidAttributeName",$fault:"client",...t}),this.name="InvalidAttributeName",this.$fault="client",Object.setPrototypeOf(this,MC.prototype)}},Gz=async(e,t)=>{let r=zC,s;return s=$C({...Yz(e,t),Action:"GetQueueAttributes",Version:"2012-11-05"}),BC(t,r,"/",void 0,s)},Vz=async(e,t)=>{let r=zC,s;return s=$C({...Zz(e,t),Action:"ListQueues",Version:"2012-11-05"}),BC(t,r,"/",void 0,s)},Hz=async(e,t)=>{if(e.statusCode>=300)return Wz(e,t);let r=await em(e.body,t),s={};return s=eq(r.GetQueueAttributesResult,t),{$metadata:Zu(e),...s}},Wz=async(e,t)=>{let r={...e,body:await qC(e.body,t)},s=UC(e,r.body);switch(s){case"InvalidAttributeName":case"com.amazonaws.sqs#InvalidAttributeName":throw await Jz(r,t);default:let n=r.body;return LC({output:e,parsedBody:n.Error,errorCode:s})}},Kz=async(e,t)=>{if(e.statusCode>=300)return Qz(e,t);let r=await em(e.body,t),s={};return s=rq(r.ListQueuesResult,t),{$metadata:Zu(e),...s}},Qz=async(e,t)=>{let r={...e,body:await qC(e.body,t)},s=UC(e,r.body),n=r.body;return LC({output:e,parsedBody:n.Error,errorCode:s})},Jz=async(e,t)=>{let r=e.body,s=tq(r.Error,t),n=new jz({$metadata:Zu(e),...s});return O(n,r)},Xz=(e,t)=>{let r={},s=1;for(let n of e)n!==null&&(r[`member.${s}`]=n,s++);return r},Yz=(e,t)=>{let r={};if(e.QueueUrl!=null&&(r.QueueUrl=e.QueueUrl),e.AttributeNames!=null){let s=Xz(e.AttributeNames,t);e.AttributeNames?.length===0&&(r.AttributeName=[]),Object.entries(s).forEach(([n,i])=>{let a=`AttributeName.${n.substring(n.indexOf(".")+1)}`;r[a]=i})}return r},Zz=(e,t)=>{let r={};return e.QueueNamePrefix!=null&&(r.QueueNamePrefix=e.QueueNamePrefix),e.NextToken!=null&&(r.NextToken=e.NextToken),e.MaxResults!=null&&(r.MaxResults=e.MaxResults),r},eq=(e,t)=>{let r={};return e.Attribute===""?r.Attributes={}:e.Attribute!==void 0&&(r.Attributes=sq(q(e.Attribute),t)),r},tq=(e,t)=>({}),rq=(e,t)=>{let r={};return e.NextToken!==void 0&&(r.NextToken=u(e.NextToken)),e.QueueUrl===""?r.QueueUrls=[]:e.QueueUrl!==void 0&&(r.QueueUrls=nq(q(e.QueueUrl),t)),r},sq=(e,t)=>e.reduce((r,s)=>(s.Value===null||(r[s.Name]=u(s.Value)),r),{}),nq=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>u(r)),Zu=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),iq=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),LC=ft(OC),BC=async(e,t,r,s,n)=>{let{hostname:i,protocol:a="https",port:o,path:c}=await e.endpoint(),d={protocol:a,hostname:i,port:o,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return s!==void 0&&(d.hostname=s),n!==void 0&&(d.body=n),new Y(d)},zC={"content-type":"application/x-www-form-urlencoded"},em=(e,t)=>iq(e,t).then(r=>{if(r.length){let s=new Uz.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});s.addEntity("#xD","\r"),s.addEntity("#10",`
`);let n=s.parse(r),i="#text",a=Object.keys(n)[0],o=n[a];return o[i]&&(o[a]=o[i],delete o[i]),Qs(o)}return{}}),qC=async(e,t)=>{let r=await em(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},$C=e=>Object.entries(e).map(([t,r])=>vr(t)+"="+vr(r)).join("&"),UC=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},aq=class jC extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,jC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SQSClient",commandName:"GetQueueAttributesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AmazonSQS",operation:"GetQueueAttributes"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return Gz(t,r)}deserialize(t,r){return Hz(t,r)}},oq=class GC extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,GC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"SQSClient",commandName:"ListQueuesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"AmazonSQS",operation:"ListQueues"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return Vz(t,r)}deserialize(t,r){return Kz(t,r)}},cq=async(e,t,...r)=>await e.send(new oq(t),...r);async function*dq(e,t,...r){let s=e.startingToken||void 0,n=!0,i;for(;n;){if(t.NextToken=s,t.MaxResults=e.pageSize,e.client instanceof DC)i=await cq(e.client,t,...r);else throw new Error("Invalid client, expected SQS | SQSClient");yield i;let a=s;s=i.NextToken,n=!!(s&&(!e.stopOnSameToken||s!==a))}return void 0}var lq=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"cloudformation"}),uq={name:"@aws-sdk/client-cloudformation",description:"AWS SDK for JavaScript Cloudformation Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cloudformation"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0","@smithy/util-waiter":"^2.0.9","fast-xml-parser":"4.2.5",tslib:"^2.5.0",uuid:"^8.3.2"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31","@types/uuid":"^8.3.0",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cloudformation",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cloudformation"}},VC="required",kr="fn",xr="argv",_i="ref",cg="isSet",hs="tree",Jn="error",Xn="endpoint",tm="PartitionResult",rm="getAttr",dg={[VC]:!1,type:"String"},lg={[VC]:!0,default:!1,type:"Boolean"},ug={[_i]:"Endpoint"},HC={[kr]:"booleanEquals",[xr]:[{[_i]:"UseFIPS"},!0]},WC={[kr]:"booleanEquals",[xr]:[{[_i]:"UseDualStack"},!0]},pr={},mg={[kr]:"booleanEquals",[xr]:[!0,{[kr]:rm,[xr]:[{[_i]:tm},"supportsFIPS"]}]},KC={[_i]:tm},pg={[kr]:"booleanEquals",[xr]:[!0,{[kr]:rm,[xr]:[KC,"supportsDualStack"]}]},hg=[HC],fg=[WC],yg=[{[_i]:"Region"}],mq={version:"1.0",parameters:{Region:dg,UseDualStack:lg,UseFIPS:lg,Endpoint:dg},rules:[{conditions:[{[kr]:cg,[xr]:[ug]}],type:hs,rules:[{conditions:hg,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Jn},{conditions:fg,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Jn},{endpoint:{url:ug,properties:pr,headers:pr},type:Xn}]},{conditions:[{[kr]:cg,[xr]:yg}],type:hs,rules:[{conditions:[{[kr]:"aws.partition",[xr]:yg,assign:tm}],type:hs,rules:[{conditions:[HC,WC],type:hs,rules:[{conditions:[mg,pg],type:hs,rules:[{endpoint:{url:"https://cloudformation-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pr,headers:pr},type:Xn}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Jn}]},{conditions:hg,type:hs,rules:[{conditions:[mg],type:hs,rules:[{conditions:[{[kr]:"stringEquals",[xr]:["aws-us-gov",{[kr]:rm,[xr]:[KC,"name"]}]}],endpoint:{url:"https://cloudformation.{Region}.amazonaws.com",properties:pr,headers:pr},type:Xn},{endpoint:{url:"https://cloudformation-fips.{Region}.{PartitionResult#dnsSuffix}",properties:pr,headers:pr},type:Xn}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Jn}]},{conditions:fg,type:hs,rules:[{conditions:[pg],type:hs,rules:[{endpoint:{url:"https://cloudformation.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:pr,headers:pr},type:Xn}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Jn}]},{endpoint:{url:"https://cloudformation.{Region}.{PartitionResult#dnsSuffix}",properties:pr,headers:pr},type:Xn}]}]},{error:"Invalid Configuration: Missing Region",type:Jn}]},pq=mq,hq=(e,t={})=>Ye(pq,{endpointParams:e,logger:t.logger}),fq=e=>({apiVersion:"2010-05-15",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??hq,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"CloudFormation",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),yq=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=fq(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:uq.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},Bd=e=>e,vq=(e,t)=>{let r={...Bd(Tt(e)),...Bd(kt(e)),...Bd(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},QC=class extends ut{constructor(...[e]){let t=yq(e||{}),r=lq(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=vq(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},gq=ke(vn()),bq=class JC extends ht{constructor(t){super(t),Object.setPrototypeOf(this,JC.prototype)}},wq=async(e,t)=>{let r=Dq,s;return s=Fq({...Iq(e,t),Action:"ListStackResources",Version:"2010-05-15"}),Nq(t,r,"/",void 0,s)},Sq=async(e,t)=>{if(e.statusCode>=300)return Eq(e,t);let r=await XC(e.body,t),s={};return s=Cq(r.ListStackResourcesResult,t),{$metadata:kq(e),...s}},Eq=async(e,t)=>{let r={...e,body:await Oq(e.body,t)},s=Mq(e,r.body),n=r.body;return Tq({output:e,parsedBody:n.Error,errorCode:s})},Iq=(e,t)=>{let r={};return e.StackName!=null&&(r.StackName=e.StackName),e.NextToken!=null&&(r.NextToken=e.NextToken),r},Cq=(e,t)=>{let r={};return e.StackResourceSummaries===""?r.StackResourceSummaries=[]:e.StackResourceSummaries!==void 0&&e.StackResourceSummaries.member!==void 0&&(r.StackResourceSummaries=_q(q(e.StackResourceSummaries.member),t)),e.NextToken!==void 0&&(r.NextToken=u(e.NextToken)),r},Pq=(e,t)=>{let r={};return e.TypeHierarchy!==void 0&&(r.TypeHierarchy=u(e.TypeHierarchy)),e.LogicalIdHierarchy!==void 0&&(r.LogicalIdHierarchy=u(e.LogicalIdHierarchy)),r},Aq=(e,t)=>{let r={};return e.StackResourceDriftStatus!==void 0&&(r.StackResourceDriftStatus=u(e.StackResourceDriftStatus)),e.LastCheckTimestamp!==void 0&&(r.LastCheckTimestamp=D(Bt(e.LastCheckTimestamp))),r},_q=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>Rq(r,t)),Rq=(e,t)=>{let r={};return e.LogicalResourceId!==void 0&&(r.LogicalResourceId=u(e.LogicalResourceId)),e.PhysicalResourceId!==void 0&&(r.PhysicalResourceId=u(e.PhysicalResourceId)),e.ResourceType!==void 0&&(r.ResourceType=u(e.ResourceType)),e.LastUpdatedTimestamp!==void 0&&(r.LastUpdatedTimestamp=D(Bt(e.LastUpdatedTimestamp))),e.ResourceStatus!==void 0&&(r.ResourceStatus=u(e.ResourceStatus)),e.ResourceStatusReason!==void 0&&(r.ResourceStatusReason=u(e.ResourceStatusReason)),e.DriftInformation!==void 0&&(r.DriftInformation=Aq(e.DriftInformation,t)),e.ModuleInfo!==void 0&&(r.ModuleInfo=Pq(e.ModuleInfo,t)),r},kq=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),xq=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),Tq=ft(bq),Nq=async(e,t,r,s,n)=>{let{hostname:i,protocol:a="https",port:o,path:c}=await e.endpoint(),d={protocol:a,hostname:i,port:o,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return s!==void 0&&(d.hostname=s),n!==void 0&&(d.body=n),new Y(d)},Dq={"content-type":"application/x-www-form-urlencoded"},XC=(e,t)=>xq(e,t).then(r=>{if(r.length){let s=new gq.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});s.addEntity("#xD","\r"),s.addEntity("#10",`
`);let n=s.parse(r),i="#text",a=Object.keys(n)[0],o=n[a];return o[i]&&(o[a]=o[i],delete o[i]),Qs(o)}return{}}),Oq=async(e,t)=>{let r=await XC(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Fq=e=>Object.entries(e).map(([t,r])=>vr(t)+"="+vr(r)).join("&"),Mq=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"},Lq=class YC extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,YC.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"CloudFormationClient",commandName:"ListStackResourcesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"CloudFormation",operation:"ListStackResources"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return wq(t,r)}deserialize(t,r){return Sq(t,r)}},Bq=async(e,t,...r)=>await e.send(new Lq(t),...r);async function*zq(e,t,...r){let s=e.startingToken||void 0,n=!0,i;for(;n;){if(t.NextToken=s,e.client instanceof QC)i=await Bq(e.client,t,...r);else throw new Error("Invalid client, expected CloudFormation | CloudFormationClient");yield i;let a=s;s=i.NextToken,n=!!(s&&(!e.stopOnSameToken||s!==a))}return void 0}var qq=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"tagging"}),$q={name:"@aws-sdk/client-resource-groups-tagging-api",description:"AWS SDK for JavaScript Resource Groups Tagging Api Client for Node.js, Browser and React Native",version:"3.418.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo resource-groups-tagging-api"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.418.0","@aws-sdk/credential-provider-node":"3.418.0","@aws-sdk/middleware-host-header":"3.418.0","@aws-sdk/middleware-logger":"3.418.0","@aws-sdk/middleware-recursion-detection":"3.418.0","@aws-sdk/middleware-signing":"3.418.0","@aws-sdk/middleware-user-agent":"3.418.0","@aws-sdk/region-config-resolver":"3.418.0","@aws-sdk/types":"3.418.0","@aws-sdk/util-endpoints":"3.418.0","@aws-sdk/util-user-agent-browser":"3.418.0","@aws-sdk/util-user-agent-node":"3.418.0","@smithy/config-resolver":"^2.0.10","@smithy/fetch-http-handler":"^2.1.5","@smithy/hash-node":"^2.0.9","@smithy/invalid-dependency":"^2.0.9","@smithy/middleware-content-length":"^2.0.11","@smithy/middleware-endpoint":"^2.0.9","@smithy/middleware-retry":"^2.0.12","@smithy/middleware-serde":"^2.0.9","@smithy/middleware-stack":"^2.0.2","@smithy/node-config-provider":"^2.0.12","@smithy/node-http-handler":"^2.1.5","@smithy/protocol-http":"^3.0.5","@smithy/smithy-client":"^2.1.6","@smithy/types":"^2.3.3","@smithy/url-parser":"^2.0.9","@smithy/util-base64":"^2.0.0","@smithy/util-body-length-browser":"^2.0.0","@smithy/util-body-length-node":"^2.1.0","@smithy/util-defaults-mode-browser":"^2.0.10","@smithy/util-defaults-mode-node":"^2.0.12","@smithy/util-retry":"^2.0.2","@smithy/util-utf8":"^2.0.0",tslib:"^2.5.0"},devDependencies:{"@smithy/service-client-documentation-generator":"^2.0.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-resource-groups-tagging-api",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-resource-groups-tagging-api"}},ZC="required",Os="fn",Fs="argv",Ri="ref",vg="isSet",fs="tree",Yn="error",Qi="endpoint",sm="PartitionResult",gg={[ZC]:!1,type:"String"},bg={[ZC]:!0,default:!1,type:"Boolean"},wg={[Ri]:"Endpoint"},eP={[Os]:"booleanEquals",[Fs]:[{[Ri]:"UseFIPS"},!0]},tP={[Os]:"booleanEquals",[Fs]:[{[Ri]:"UseDualStack"},!0]},Wr={},Sg={[Os]:"booleanEquals",[Fs]:[!0,{[Os]:"getAttr",[Fs]:[{[Ri]:sm},"supportsFIPS"]}]},Eg={[Os]:"booleanEquals",[Fs]:[!0,{[Os]:"getAttr",[Fs]:[{[Ri]:sm},"supportsDualStack"]}]},Ig=[eP],Cg=[tP],Pg=[{[Ri]:"Region"}],Uq={version:"1.0",parameters:{Region:gg,UseDualStack:bg,UseFIPS:bg,Endpoint:gg},rules:[{conditions:[{[Os]:vg,[Fs]:[wg]}],type:fs,rules:[{conditions:Ig,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Yn},{conditions:Cg,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Yn},{endpoint:{url:wg,properties:Wr,headers:Wr},type:Qi}]},{conditions:[{[Os]:vg,[Fs]:Pg}],type:fs,rules:[{conditions:[{[Os]:"aws.partition",[Fs]:Pg,assign:sm}],type:fs,rules:[{conditions:[eP,tP],type:fs,rules:[{conditions:[Sg,Eg],type:fs,rules:[{endpoint:{url:"https://tagging-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wr,headers:Wr},type:Qi}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Yn}]},{conditions:Ig,type:fs,rules:[{conditions:[Sg],type:fs,rules:[{endpoint:{url:"https://tagging-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Wr,headers:Wr},type:Qi}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Yn}]},{conditions:Cg,type:fs,rules:[{conditions:[Eg],type:fs,rules:[{endpoint:{url:"https://tagging.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Wr,headers:Wr},type:Qi}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Yn}]},{endpoint:{url:"https://tagging.{Region}.{PartitionResult#dnsSuffix}",properties:Wr,headers:Wr},type:Qi}]}]},{error:"Invalid Configuration: Missing Region",type:Yn}]},jq=Uq,Gq=(e,t={})=>Ye(jq,{endpointParams:e,logger:t.logger}),Vq=e=>({apiVersion:"2017-01-26",base64Decoder:e?.base64Decoder??Ue,base64Encoder:e?.base64Encoder??je,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Gq,extensions:e?.extensions??[],logger:e?.logger??new lt,serviceId:e?.serviceId??"Resource Groups Tagging API",urlParser:e?.urlParser??Re,utf8Decoder:e?.utf8Decoder??De,utf8Encoder:e?.utf8Encoder??Le}),Hq=e=>{vt(process.version);let t=wt(e),r=()=>t().then(yt),s=Vq(e);return{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??bt,credentialDefaultProvider:e?.credentialDefaultProvider??Gt(qt),defaultUserAgentProvider:e?.defaultUserAgentProvider??gt({serviceId:s.serviceId,clientVersion:$q.version}),maxAttempts:e?.maxAttempts??A(at),region:e?.region??A(qe,rt),requestHandler:e?.requestHandler??new mt(r),retryMode:e?.retryMode??A({...ct,default:async()=>(await r()).retryMode||$e}),sha256:e?.sha256??Ne.bind(null,"sha256"),streamCollector:e?.streamCollector??Ge,useDualstackEndpoint:e?.useDualstackEndpoint??A(et),useFipsEndpoint:e?.useFipsEndpoint??A(tt)}},zd=e=>e,Wq=(e,t)=>{let r={...zd(Tt(e)),...zd(kt(e)),...zd(_t(e))};return t.forEach(s=>s.configure(r)),{...e,...Nt(r),...xt(r),...Rt(r)}},rP=class extends ut{constructor(...[e]){let t=Hq(e||{}),r=qq(t),s=st(r),n=it(s),i=ot(n),a=i,o=zt(a),c=Xe(o),d=Wq(c,e?.extensions||[]);super(d),this.config=d,this.middlewareStack.use(dt(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(We(this.config)),this.middlewareStack.use(Ke(this.config)),this.middlewareStack.use(Qe(this.config)),this.middlewareStack.use(Je(this.config)),this.middlewareStack.use(Ze(this.config))}destroy(){super.destroy()}},xa=class sP extends ht{constructor(t){super(t),Object.setPrototypeOf(this,sP.prototype)}},Kq=class nP extends xa{constructor(t){super({name:"InternalServiceException",$fault:"server",...t}),this.name="InternalServiceException",this.$fault="server",Object.setPrototypeOf(this,nP.prototype),this.Message=t.Message}},Qq=class iP extends xa{constructor(t){super({name:"InvalidParameterException",$fault:"client",...t}),this.name="InvalidParameterException",this.$fault="client",Object.setPrototypeOf(this,iP.prototype),this.Message=t.Message}},Jq=class aP extends xa{constructor(t){super({name:"ThrottledException",$fault:"client",...t}),this.name="ThrottledException",this.$fault="client",Object.setPrototypeOf(this,aP.prototype),this.Message=t.Message}},Xq=class oP extends xa{constructor(t){super({name:"PaginationTokenExpiredException",$fault:"client",...t}),this.name="PaginationTokenExpiredException",this.$fault="client",Object.setPrototypeOf(this,oP.prototype),this.Message=t.Message}},Yq=async(e,t)=>{let r=c$("GetResources"),s;return s=JSON.stringify(S(e)),o$(t,r,"/",void 0,s)},Zq=async(e,t)=>{if(e.statusCode>=300)return e$(e,t);let r=await cP(e.body,t),s={};return s=S(r),{$metadata:Ta(e),...s}},e$=async(e,t)=>{let r={...e,body:await d$(e.body,t)},s=l$(e,r.body);switch(s){case"InternalServiceException":case"com.amazonaws.resourcegroupstaggingapi#InternalServiceException":throw await t$(r,t);case"InvalidParameterException":case"com.amazonaws.resourcegroupstaggingapi#InvalidParameterException":throw await r$(r,t);case"PaginationTokenExpiredException":case"com.amazonaws.resourcegroupstaggingapi#PaginationTokenExpiredException":throw await s$(r,t);case"ThrottledException":case"com.amazonaws.resourcegroupstaggingapi#ThrottledException":throw await n$(r,t);default:let n=r.body;return a$({output:e,parsedBody:n,errorCode:s})}},t$=async(e,t)=>{let r=e.body,s=S(r),n=new Kq({$metadata:Ta(e),...s});return O(n,r)},r$=async(e,t)=>{let r=e.body,s=S(r),n=new Qq({$metadata:Ta(e),...s});return O(n,r)},s$=async(e,t)=>{let r=e.body,s=S(r),n=new Xq({$metadata:Ta(e),...s});return O(n,r)},n$=async(e,t)=>{let r=e.body,s=S(r),n=new Jq({$metadata:Ta(e),...s});return O(n,r)},Ta=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),i$=(e,t)=>pt(e,t).then(r=>t.utf8Encoder(r)),a$=ft(xa),o$=async(e,t,r,s,n)=>{let{hostname:i,protocol:a="https",port:o,path:c}=await e.endpoint(),d={protocol:a,hostname:i,port:o,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return s!==void 0&&(d.hostname=s),n!==void 0&&(d.body=n),new Y(d)};function c$(e){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`ResourceGroupsTaggingAPI_20170126.${e}`}}var cP=(e,t)=>i$(e,t).then(r=>r.length?JSON.parse(r):{}),d$=async(e,t)=>{let r=await cP(e,t);return r.message=r.message??r.Message,r},l$=(e,t)=>{let r=(i,a)=>Object.keys(i).find(o=>o.toLowerCase()===a.toLowerCase()),s=i=>{let a=i;return typeof a=="number"&&(a=a.toString()),a.indexOf(",")>=0&&(a=a.split(",")[0]),a.indexOf(":")>=0&&(a=a.split(":")[0]),a.indexOf("#")>=0&&(a=a.split("#")[1]),a},n=r(e.headers,"x-amzn-errortype");if(n!==void 0)return s(e.headers[n]);if(t.code!==void 0)return s(t.code);if(t.__type!==void 0)return s(t.__type)},u$=class dP extends Q{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,s){this.middlewareStack.use(W(r,this.serialize,this.deserialize)),this.middlewareStack.use(K(r,dP.getEndpointParameterInstructions()));let n=t.concat(this.middlewareStack),{logger:i}=r,c={logger:i,clientName:"ResourceGroupsTaggingAPIClient",commandName:"GetResourcesCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l,[Z]:{service:"ResourceGroupsTaggingAPI_20170126",operation:"GetResources"}},{requestHandler:d}=r;return n.resolve(l=>d.handle(l.request,s||{}),c)}serialize(t,r){return Yq(t,r)}deserialize(t,r){return Zq(t,r)}},m$=async(e,t,...r)=>await e.send(new u$(t),...r);async function*p$(e,t,...r){let s=e.startingToken||void 0,n=!0,i;for(;n;){if(t.PaginationToken=s,t.ResourcesPerPage=e.pageSize,e.client instanceof rP)i=await m$(e.client,t,...r);else throw new Error("Invalid client, expected ResourceGroupsTaggingAPI | ResourceGroupsTaggingAPIClient");yield i;let a=s;s=i.PaginationToken,n=!!(s&&(!e.stopOnSameToken||s!==a))}return void 0}var nm=new g3({}),lP=new tD({}),Na=new Z0({}),sc=new fS({}),uP=new KS({}),mP=new nE({}),pP=new LE({}),im=new o5({}),h$=10,f$=1e3,y$=(0,NL.default)(1,f$/h$),qd={},v$={applyToStack:e=>{e.add(t=>async r=>{let s=(0,TL.default)(r);if(s in qd)return qd[s];let n=y$(()=>t(r));return Object.assign(qd,{[s]:n}),await n},{step:"initialize"})}},an=new iI({});an.middlewareStack.use(v$);var hP=new EI({}),ia=new u8({}),Da=new s6({}),nc=new Ju({}),fP=new DC({}),g$=async e=>{let{Items:t}=await nm.send(new q3({ApiId:e.getApiId()}));return t??[]},b$=async e=>{let{ProtocolType:t}=await nm.send(new B3({ApiId:e.getApiId()}));return t},w$=async e=>{let t=te.filterArns(e,iu);return Promise.all(t.map(async r=>({arn:r,routes:await g$(r),protocol:await b$(r)})))},S$=async()=>{let e=await E$();return(await Promise.all(e.map(async r=>{let s=await I$(r);return Promise.all(s.map(n=>C$(r,n)))}))).flat(2).map(te.fromArnString)},E$=async()=>{let e=new oS({}),t=await Na.send(e);return t.BackupPlansList===void 0?[]:t.BackupPlansList.map(r=>r.BackupPlanId??"")},I$=async e=>{let t=new XD({BackupPlanId:e}),r=await Na.send(t);return r.BackupSelectionsList===void 0?[]:r.BackupSelectionsList.map(s=>s.SelectionId??"")},C$=async(e,t)=>{let r=new JD({BackupPlanId:e,SelectionId:t}),s=await Na.send(r),{BackupSelection:n}=s;return n?.Resources===void 0?[]:n.Resources},P$=async e=>({arn:e,configuration:await Na.send(new QD({BackupPlanId:e.getBackupPlanId()}))}),A$=async e=>{let t=te.filterArns(e,x0);return await Promise.all(t.map(r=>P$(r)))},_$=async()=>{let e=[];for await(let t of eE({client:uP},{}))e.push(...t.logGroups??[]);return e.map(t=>({arn:xo.fromLogGroupName(t.logGroupName??""),configuration:t}))},R$=async e=>{let t=te.filterArns(e,xo);return(await _$()).filter(({arn:s})=>t.some(n=>n.is(s)))},k$=async e=>{let t=await pP.send(new H4({TableName:e.getTableName()}));return{arn:e,configuration:t.Table??{}}},x$=async e=>{let t=te.filterArns(e,To);return await Promise.all(t.map(r=>k$(r)))},T$=async e=>{let t=[],r;do{let{Rules:s,NextToken:n}=await im.send(new C5({EventBusName:e.getEventBusName(),NextToken:r}));t.push(...(s??[]).filter(N$)),r=n}while(r!==void 0);return t},N$=e=>e.ManagedBy===void 0,D$=async e=>{let t=[],r;do{let{Targets:s,NextToken:n}=await im.send(new P5({EventBusName:e.EventBusName,Rule:e.Name,NextToken:r}));t.push(...s??[]),r=n}while(r!==void 0);return t},O$=async e=>{try{let t=await an.send(new CL({FunctionName:e.getFunctionName()}));return JSON.parse(t.Policy??"")}catch{return}},F$=async e=>{let t=te.filterArns(e,Ms);return Promise.all(t.map(async r=>({arn:r,policy:await O$(r)})))},M$=["events","s3","sqs","sns"],L$=e=>(e.Statement??[]).map(r=>r.Condition?.ArnLike?.["AWS:SourceArn"]).filter(r=>r!==void 0).map(r=>te.fromArnString(r)).some(({service:r})=>M$.includes(r)),B$=async e=>{let t=te.filterArns(e,Ms);return(await F$(t)).filter(({policy:s})=>s!==void 0&&L$(s)).map(({arn:s})=>s)},z$=async e=>{let{EventSourceMappings:t}=await an.send(new PL({FunctionName:e.getFunctionName()}));return{arn:e,eventSourceMappings:t??[]}},q$=async e=>{let t=te.filterArns(e,Ms);return await Promise.all(t.map(r=>z$(r)))},$$=async e=>{try{return await an.send(new IL({FunctionName:e.getFunctionName()}))}catch{return}},U$=async e=>{let t=te.filterArns(e,Ms);return await Promise.all(t.map(async r=>({arn:r,config:await $$(r)})))},j$=async e=>{let t=await an.send(new _L({FunctionName:e.getFunctionName()}));return{arn:e,provisionedConcurrency:t.ProvisionedConcurrencyConfigs??[]}},G$=async e=>{let t=te.filterArns(e,Ms);return await Promise.all(t.map(r=>j$(r)))},yP=async e=>({arn:e,configuration:await an.send(new EL({FunctionName:e.getFunctionName()}))}),on=async e=>{let t=te.filterArns(e,Ms);return await Promise.all(t.map(r=>yP(r)))},V$=async e=>{let t=te.filterArns(e,No);return(await q$(e)).map(({arn:s,eventSourceMappings:n})=>({arn:s,sqsTriggers:n.map(({EventSourceArn:i})=>i).filter(i=>i!==void 0).map(te.fromArnString).filter(i=>t.some(a=>a.is(i))).map(i=>({arn:i}))})).filter(({sqsTriggers:s})=>s.length!==0)},H$=async e=>{let{Versions:t}=await an.send(new RL({FunctionName:e.getFunctionName()}));return t??[]},W$=async e=>{let t=te.filterArns(e,Ms);return await Promise.all(t.map(async s=>({arn:s,versions:await H$(s)})))},K$=async e=>{try{let{DBInstances:t}=await hP.send(new kI({DBInstanceIdentifier:e.getRdsName()}));return t===void 0?void 0:t[0]}catch(t){if(t instanceof $u&&t.name==="PermanentRedirect")return;throw t}},Q$=async e=>{let t=te.filterArns(e,cu);return Promise.all(t.map(async s=>({arn:s,description:await K$(s)})))},J$=async e=>{try{let{Rules:t}=await ia.send(new G8({Bucket:e.resource}));return t}catch(t){if(t instanceof Wu&&["NoSuchLifecycleConfiguration","PermanentRedirect"].includes(t.name))return;throw t}},X$=async e=>{let t=te.filterArns(e,da);return Promise.all(t.map(async r=>({arn:r,rules:await J$(r)})))},Y$=async e=>{try{let{Policy:t}=await ia.send(new H8({Bucket:e.resource}));return t===void 0?void 0:JSON.parse(t)}catch(t){if(t instanceof Wu&&["NoSuchBucketPolicy","PermanentRedirect"].includes(t.name))return;throw t}},Z$=async e=>{let t=te.filterArns(e,da);return await Promise.all(t.map(async s=>({arn:s,policy:await Y$(s)})))},eU=async e=>{let t=te.filterArns(e,da);return await Promise.all(t.map(r=>tU(r)))},tU=async e=>{try{let t=new W8({Bucket:e.resource}),r=await ia.send(t);return{arn:e,configuration:r.PublicAccessBlockConfiguration}}catch{return{arn:e,configuration:void 0}}},am=async e=>{let t=te.filterArns(e,du);return Promise.all(t.map(async r=>({arn:r,identity:await Da.send(new x6({EmailIdentity:r.getIdentity()}))})))},rU=async()=>{let e=new R6({});return(await Da.send(e)).ProductionAccessEnabled===!1},sU=async e=>({arn:e,configurationSet:await Da.send(new k6({ConfigurationSetName:e.getName()}))}),vP=async e=>{let t=te.filterArns(e,lu);return await Promise.all(t.map(r=>sU(r)))},nU=async e=>{let t=await nc.send(new _z({TopicArn:e.toString()}));return{arn:e,attributes:t.Attributes}},iU=async e=>{let t=te.filterArns(e,mu);return await Promise.all(t.map(async s=>await nU(s)))},aU=async e=>{let t=await nc.send(new Az({SubscriptionArn:e.toString()}));return{arn:e,attributes:t.Attributes}},oU=async e=>{let t=te.filterArns(e,uu);return await Promise.all(t.map(async s=>await aU(s)))},gP=async e=>({arn:e,attributes:await fP.send(new aq({QueueUrl:e.resource,AttributeNames:["RedrivePolicy","VisibilityTimeout"]}))}),cU=async e=>{let t=te.filterArns(e,No);return await Promise.all(t.map(s=>gP(s)))},dU=async e=>{let{items:t}=await lP.send(new fD({restApiId:e.getApiId(),embed:["methods"]}));return t??[]},lU=async e=>{let t=te.filterArns(e,au);return Promise.all(t.map(async r=>({arn:r,resources:await dU(r)})))},uU=async e=>{let{Distribution:t}=await sc.send(new rM({Id:e}));return t},bP=async e=>{let r=te.filterArns(e,ui).map(s=>s.getDistributionId());return(await Promise.all(r.map(uU))).filter(s=>s!==void 0).filter(s=>s.Id!==void 0)},wP=async e=>{let t=new sM({Id:e});return(await sc.send(t)).DistributionConfig},mU=e=>{if(e.DistributionConfig===void 0)return[void 0];let t=e.DistributionConfig.DefaultCacheBehavior;return t===void 0?[void 0]:[t].map(({ResponseHeadersPolicyId:n})=>n)},pU=async e=>{if(e===void 0)return;let t=new nM({Id:e});return(await sc.send(t)).ResponseHeadersPolicy},hU=async e=>{let{UserPool:t}=await mP.send(new i4({UserPoolId:e}));return t},SP=async e=>{let t=te.filterArns(e,vo).map(s=>s.getUserPoolId());return(await Promise.all(t.map(hU))).filter(s=>s!==void 0).map(s=>({configuration:s,arn:vo.fromUserPoolId(s.Id??"")}))},fU=({resourceType:e,physicalResourceId:t})=>{switch(e){case"AWS::S3::Bucket":return da.fromPhysicalId(t);case"AWS::Lambda::Function":return Ms.fromPhysicalId(t);case"AWS::SQS::Queue":return No.fromPhysicalId(t);case"AWS::Cognito::UserPool":return vo.fromPhysicalId(t);case"AWS::Logs::LogGroup":return xo.fromPhysicalId(t);case"AWS::Events::EventBus":return ou.fromPhysicalId(t);case"AWS::RDS::DBInstance":return cu.fromPhysicalId(t);case"AWS::CloudFront::Distribution":return ui.fromPhysicalId(t);case"AWS::ApiGatewayV2::Api":return iu.fromPhysicalId(t);case'"AWS::SES::EmailIdentity"':return du.fromPhysicalId(t);case"AWS::SNS::Subscription":return uu.fromPhysicalId(t);case"AWS::SNS::Topic":return mu.fromPhysicalId(t);case'"AWS::SES::ConfigurationSet"':return lu.fromPhysicalId(t);case"AWS::DynamoDB::Table":return To.fromPhysicalId(t);case"AWS::ApiGateway::RestApi":return au.fromPhysicalId(t);default:return}},yU=async e=>{let t=new QC({}),r=[];for(let s of e)for await(let n of zq({client:t},{StackName:s}))r.push(...n.StackResourceSummaries??[]);return r.map(({ResourceType:s,PhysicalResourceId:n})=>({resourceType:s,physicalResourceId:n})).filter(s=>s.resourceType!==void 0&&s.physicalResourceId!==void 0).map(fU).filter(s=>s!==void 0)},vU=async()=>{let e=[];for await(let t of ZD({client:Na},{}))e.push(...t.BackupPlansList??[]);return e.map(({BackupPlanId:t})=>t).filter(t=>t!==void 0).map(t=>x0.fromBackupPlanId(t))},gU=async()=>{let e=[];for await(let t of eE({client:uP},{}))e.push(...t.logGroups??[]);return e.map(({logGroupName:t})=>t).filter(t=>t!==void 0).map(xo.fromLogGroupName)},bU=async()=>{let e=[];for await(let t of c4({client:mP},{MaxResults:20}))e.push(...t.UserPools??[]);return e.map(({Id:t})=>t).filter(t=>t!==void 0).map(t=>vo.fromUserPoolId(t))},wU=async()=>{let e=[],t;do{let r=await im.send(new I5({NextToken:t}));e.push(...r.EventBuses??[]),t=r.NextToken}while(t!==void 0);return e.map(({Name:r})=>r).filter(r=>r!==void 0).map(ou.fromEventBusName)},SU=async()=>{let e=[];for await(let t of xL({client:an},{}))e.push(...t.Functions??[]);return e.map(({FunctionName:t})=>t).filter(t=>t!==void 0).map(t=>Ms.fromFunctionName(t))},EU=async()=>{let{Buckets:e}=await ia.send(new K8({})),t=(e??[]).map(({Name:s})=>s).filter(s=>s!==void 0),r=[];try{for(let s of t){let{LocationConstraint:n}=await ia.send(new V8({Bucket:s}));n===process.env.AWS_REGION&&r.push(da.fromBucketName(s))}}catch{}return r},IU=async()=>{let e=[];for await(let t of dq({client:fP},{}))e.push(...t.QueueUrls??[]);return e.map(No.fromQueueUrl)},CU=async()=>{let e=new N6({}),{EmailIdentities:t}=await Da.send(e);return t?.map(r=>du.fromIdentityName(r.IdentityName??""))??[]},PU=async()=>{let e=new T6({}),{ConfigurationSets:t}=await Da.send(e);return t?.map(r=>lu.fromConfigurationSetName(r))??[]},AU=async()=>{let e=[];for await(let t of Dz({client:nc},{}))e.push(...t.Topics??[]);return e.map(t=>t.TopicArn).filter(t=>t!==void 0).map(mu.fromArnString)},_U=async()=>{let e=[];for await(let t of Tz({client:nc},{}))e.push(...t.Subscriptions??[]);return e.map(({SubscriptionArn:t})=>t).filter(t=>t!==void 0&&t!=="PendingConfirmation").map(uu.fromArnString)},RU=async()=>{let{Items:e}=await nm.send(new z3({}));return(e??[]).map(({ApiId:r})=>r).filter(r=>r!==void 0).map(iu.fromApiId)},kU=async()=>{let{items:e}=await lP.send(new yD({}));return(e??[]).map(({id:r})=>r).filter(r=>r!==void 0).map(au.fromApiId)},xU=async()=>{let e=[];for await(let t of Q4({client:pP},{}))e.push(...t.TableNames??[]);return e.map(t=>To.fromTableName(t))},TU=async()=>{let e=[];for await(let t of oM({client:sc},{}))e.push(...t.DistributionList?.Items??[]);return e.map(({Id:t})=>ui.fromDistributionId(t??""))},NU=async()=>{let e=[];for await(let t of zB({client:hP},{}))e.push(...t.DBInstances??[]);return e.map(({DBInstanceIdentifier:t})=>t).filter(t=>t!==void 0).map(cu.fromRdsInstanceName)},DU=async()=>{let e=await EU(),t=await SU(),r=await IU(),s=await bU(),n=await gU(),i=await wU(),a=await TU(),o=await NU(),c=await vU(),d=await RU(),l=await CU(),m=await AU(),p=await _U(),h=await PU(),y=await kU(),v=await xU();return[...e,...t,...r,...s,...n,...i,...a,...o,...c,...d,...l,...m,...p,...h,...y,...v]},OU=async e=>{let t=new rP({}),r=[];for await(let s of p$({client:t},{TagFilters:e.map(({key:n,value:i})=>({Key:n,Values:[i]}))}))r.push(...s.ResourceTagMappingList??[]);return r.map(({ResourceARN:s})=>s).filter(s=>s!==void 0).map(te.fromArnString)},FU=async({cloudformationStacks:e,tags:t})=>{let r=await DU(),s=t===void 0||t.length===0?r:await OU(t),n=e===void 0||e.length===0?r:await yU(e),i=s.filter(a=>n.some(o=>o.is(a)));return r.filter(a=>i.some(o=>o.is(a)))},MU=async()=>{let e=new Xl({}),{Account:t}=await e.send(new d3({}));if(t===void 0)throw new Error("IAM user or role whose credentials are used to call the operations with the STS Client are undefined.");return{accountId:t,region:await e.config.region()}},LU=Object.defineProperty,BU=(e,t)=>{for(var r in t)LU(e,r,{get:t[r],enumerable:!0})},EP={};BU(EP,{assignDefaultConfigurationSet:()=>$U,asyncSpecifyFailureDestination:()=>jU,autoscaleRdsInstanceEnabled:()=>VU,cloudFrontNoHttp:()=>KU,cloudFrontSSLCertificate:()=>XU,cloudFrontSecurityHeaders:()=>tj,cognitoEnforceLongPasswords:()=>nj,cognitoSignInCaseInsensitivity:()=>oj,configurationSetEnableSuppresionList:()=>lj,customMailFromDomain:()=>pj,definedBackupRetentionPeriodOrTransitionToColdStorage:()=>yj,definedLogsRetentionDuration:()=>bj,dynamodbBackupConfig:()=>Sj,enableBlockPublicAccess:()=>Ij,enableDeletionProtectionOnDynamoDBTables:()=>Pj,enableReputationMetrics:()=>Rj,encryptedSnsTopics:()=>Tj,lightBundle:()=>Oj,limitedAmountOfVersions:()=>Lj,noDeprecatedRuntime:()=>$j,noMaxTimeout:()=>Vj,noMonoPackage:()=>Kj,noProvisionedConcurrency:()=>Xj,noSharedIamRoles:()=>sG,noUnauthorizedApiGatewaysV2Routes:()=>aG,noUnauthorizedRestApiGatewaysRoutes:()=>dG,rule:()=>eG,s3OnlyAllowHTTPS:()=>mG,snsRedrivePolicy:()=>fG,specifyDlqOnEventBridgeRule:()=>vG,specifyDlqOnSqs:()=>wG,timeoutSmallEnoughForSqsVisibility:()=>CG,underMaxMemory:()=>NG,useArm:()=>MG,useIntelligentTiering:()=>zG});var zU=e=>e!==void 0,qU=async e=>({results:(await am(e)).map(({arn:s,identity:n})=>({arn:s,success:zU(n.ConfigurationSetName)}))}),$U={ruleName:"SES: assign default configuration set",errorMessage:"You have not assigned a default configuration set to your SES identity",run:qU,fileName:"assignDefaultConfigurationSet",categories:["Stability"],level:1,service:"SES",easyToFix:!1,severity:"medium"},UU=async e=>{let t=await B$(e),r=await U$(t),s=await on(t);return{results:r.map(({arn:i,config:a})=>{let o=a?.DestinationConfig?.OnFailure?.Destination!==void 0,d=s.find(({arn:l})=>l.is(i))?.configuration.DeadLetterConfig?.TargetArn!==void 0;return{arn:i,success:d||o}})}},jU={ruleName:"Lambda: Specify Failure Destination for Async Functions",errorMessage:"The function is asynchronous but has no failure destination set",run:UU,fileName:"asyncSpecifyFailureDestination",categories:["Stability"],level:5,service:"Lambda",easyToFix:!1,severity:"medium"},GU=async e=>({results:(await Q$(e)).filter(n=>n.description?.Engine!=="aurora-mysql"&&n.description?.Engine!=="SQLServer"&&n.description?.MultiAZ!==!0&&n.description?.MaxAllocatedStorage!==1).map(({arn:n,description:i})=>({arn:n,success:i?.AllocatedStorage!==void 0&&i.MaxAllocatedStorage!==void 0&&i.MaxAllocatedStorage>=1.26*i.AllocatedStorage}))}),VU={ruleName:"Autoscaling is possible for RDS instances",errorMessage:"Autoscaling is not possible for this RDS instance with current settings.",run:GU,fileName:"autoscaleRdsInstanceEnabled",categories:["Stability"],level:3,service:"RDS",easyToFix:!0,severity:"medium"},HU=e=>!e||e.DefaultCacheBehavior?.ViewerProtocolPolicy==="allow-all"?!1:(e.CacheBehaviors?.Items??[]).every(t=>t.ViewerProtocolPolicy!=="allow-all"),WU=async e=>{let t=te.filterArns(e,ui);return{results:await Promise.all(t.map(async s=>({arn:s,success:HU(await wP(s.getDistributionId()))})))}},KU={ruleName:"CloudFront: use only https or redirect http to https on the cache behaviors of your distributions",errorMessage:"Http is allowed and not redirected to https on this distribution",run:WU,fileName:"cloudFrontNoHttp",categories:["Security"],level:2,service:"CloudFront",easyToFix:!0,severity:"high"},QU=e=>e?e.ViewerCertificate?.IAMCertificateId!==void 0||e.ViewerCertificate?.ACMCertificateArn!==void 0:!1,JU=async e=>{let t=await bP(e),r=await Promise.all(t.map(async n=>await wP(n.Id)));return{results:t.map((n,i)=>({arn:ui.fromDistributionId(n.Id),success:QU(r[i])}))}},XU={ruleName:"CloudFront: your distributions should be associated with a SSL certificate (ACM or IAM).",errorMessage:"Your distributions are not associated with a SSL certificate.",run:JU,fileName:"cloudFrontSSLCertificate",categories:["Security"],level:2,service:"CloudFront",easyToFix:!1,severity:"high"},YU=e=>{if(e===void 0)return!1;let t=ZU(e);return!!(t["Strict-Transport-Security"]&&t["Referrer-Policy"]&&t["X-Content-Type-Options"]&&t["X-Frame-Options"]&&t["X-XSS-Protection"])},ZU=e=>{let t=e?.ResponseHeadersPolicyConfig?.SecurityHeadersConfig;return{...t?.StrictTransportSecurity?.AccessControlMaxAgeSec!==void 0?{"Strict-Transport-Security":!0}:{},...t?.ReferrerPolicy?.ReferrerPolicy!==void 0?{"Referrer-Policy":!0}:{},...t?.ContentTypeOptions?.Override!==void 0?{"X-Content-Type-Options":!0}:{},...t?.FrameOptions?.FrameOption!==void 0?{"X-Frame-Options":!0}:{},...t?.XSSProtection?.Protection===!0&&t.XSSProtection.ModeBlock===!0?{"X-XSS-Protection":!0}:{}}},ej=async e=>{let t=await bP(e),r=[];for(let a of t){let o=mU(a);r.push(...o.map(c=>({distributionId:a.Id,policyId:c})))}let n=(await Promise.all(r.map(async({distributionId:a,policyId:o})=>{let c=await pU(o);return{distributionId:a,policy:c}}))).map(({distributionId:a,policy:o})=>({distributionId:a,areSecurityHeadersEnabledOnPolicy:YU(o)}));return{results:t.map(a=>({arn:ui.fromDistributionId(a.Id),success:n.filter(({distributionId:o})=>a.Id===o).every(({areSecurityHeadersEnabledOnPolicy:o})=>o)}))}},tj={ruleName:"CloudFront: use SecurityHeadersPolicy on the cache behaviors of your distributions",errorMessage:"SecurityHeadersPolicy is not enabled on a behavior of the distribution",run:ej,fileName:"cloudFrontSecurityHeaders",categories:["Security"],level:4,service:"CloudFront",easyToFix:!0,severity:"high"},rj=e=>(e.Policies?.PasswordPolicy?.MinimumLength??0)>=10,sj=async e=>({results:(await SP(e)).map(({arn:s,configuration:n})=>({arn:s,success:rj(n)}))}),nj={ruleName:"User Pools enforce passwords of at least 10 characters",errorMessage:"This User Pool does not enforce passwords of at least 10 characters",run:sj,fileName:"cognitoEnforceLongPasswords",categories:["Security"],level:3,service:"Cognito",easyToFix:!0,severity:"high"},ij=e=>e.UsernameConfiguration?.CaseSensitive===!1,aj=async e=>({results:(await SP(e)).map(({configuration:s,arn:n})=>({arn:n,success:ij(s)}))}),oj={ruleName:"Cognito: use case insensitivity on the username input",errorMessage:"The user pool is case sensitive on the username",run:aj,fileName:"cognitoSignInCaseInsensitivity",categories:["Stability"],level:5,service:"Cognito",easyToFix:!1,severity:"low"},cj=e=>e.SuppressionOptions?.SuppressedReasons!==void 0&&e.SuppressionOptions.SuppressedReasons.length>0,dj=async e=>({results:(await vP(e)).map(({arn:s,configurationSet:n})=>({arn:s,success:cj(n)}))}),lj={ruleName:"SES configuration sets should enable suppression list ",errorMessage:"Some SES configuration sets have not enabled suppression list",run:dj,fileName:"configurationSetEnableSuppresionList",categories:["Stability"],level:4,service:"SES",easyToFix:!0,severity:"medium"},uj=e=>e?.MailFromDomainStatus==="SUCCESS",mj=async e=>({results:(await am(e)).map(({arn:s,identity:n})=>({arn:s,success:uj(n.MailFromAttributes)}))}),pj={ruleName:"SES: Custom MAIL FROM Domain",errorMessage:"One or more SES identities have the default MAIL FROM domain",run:mj,fileName:"customMailFromDomain",categories:["Stability"],level:2,service:"SES",easyToFix:!0,severity:"medium"},hj=e=>(e.BackupPlan?.Rules??[]).reduce((r,s)=>r&&(s.Lifecycle?.DeleteAfterDays!==void 0||s.Lifecycle?.MoveToColdStorageAfterDays!==void 0),!0),fj=async e=>({results:(await A$(e)).map(({arn:s,configuration:n})=>({arn:s,success:hj(n)}))}),yj={ruleName:"Backup: Defined Backup Retention Period or Transition to Cold Storage",errorMessage:"The backup plan has at least one backup rule without defined retention period and transition to cold storage",run:fj,fileName:"definedBackupRetentionPeriodOrTransitionToColdStorage",categories:["GreenIT","ITCosts"],level:3,service:"Backup",easyToFix:!0,severity:"high"},vj=e=>e.retentionInDays!==void 0,gj=async e=>({results:(await R$(e)).map(({arn:s,configuration:n})=>({arn:s,success:vj(n)}))}),bj={ruleName:"CloudWatch Logs: Define a retention duration",errorMessage:"RetentionInDays of the log group is undefined.",run:gj,fileName:"definedLogsRetentionDuration",categories:["GreenIT","ITCosts"],level:3,service:"CloudWatch",easyToFix:!0,severity:"low"},wj=async e=>{let t=await S$();return{results:te.filterArns(e,To).map(n=>({arn:n,success:t.some(i=>i.is(n))}))}},Sj={ruleName:"DynamoDB: Define a backup configuration",errorMessage:"DynamoDB backup is undefined.",run:wj,fileName:"dynamodbBackupConfig",categories:["Stability"],level:3,service:"DynamoDB",easyToFix:!0,severity:"medium"},Ej=async e=>({results:(await eU(e)).map(({arn:s,configuration:n})=>{if(n===void 0)return{arn:s,success:!1};let i=n.BlockPublicAcls===!0&&n.BlockPublicPolicy===!0&&n.IgnorePublicAcls===!0&&n.RestrictPublicBuckets===!0;return{arn:s,success:i}})}),Ij={ruleName:"Enable block public access",errorMessage:"This bucket does not enable block public access",run:Ej,fileName:"enableBlockPublicAccess",categories:["Security"],level:1,service:"S3",easyToFix:!0,severity:"high"},Cj=async e=>({results:(await x$(e)).map(({arn:s,configuration:n})=>({arn:s,success:n.DeletionProtectionEnabled??!1}))}),Pj={ruleName:"Enable the Deletion protection on DynamoDB tables",errorMessage:"Deletion protection not enabled on DynamoDB tables",run:Cj,fileName:"enableDeletionProtectionOnDynamoDBTables",categories:["Stability"],level:3,service:"DynamoDB",easyToFix:!0,severity:"medium"},Aj=e=>e.ReputationOptions?.ReputationMetricsEnabled===!0,_j=async e=>({results:(await vP(e)).map(({arn:s,configurationSet:n})=>({arn:s,success:Aj(n)}))}),Rj={ruleName:"SES : Reputation Metrics Enabled on Configuration Set",errorMessage:"Reputation Metrics are disabled for some configuration sets",run:_j,fileName:"enableReputationMetrics",categories:["Stability"],level:3,service:"SES",easyToFix:!0,severity:"medium"},kj=e=>e===void 0?!0:e.KmsMasterKeyId!==void 0,xj=async e=>({results:(await iU(e)).map(({arn:s,attributes:n})=>({arn:s,success:kj(n)}))}),Tj={ruleName:"SNS: Topics should be encrypted",errorMessage:"SNS topics unencrypted found",run:xj,fileName:"encryptedSnsTopics",categories:["Security"],level:4,service:"SNS",easyToFix:!0,severity:"low"},Nj=e=>e.CodeSize!==void 0&&e.CodeSize>5e6,Dj=async e=>({results:(await on(e)).map(({arn:s,configuration:n})=>({arn:s,success:!Nj(n),bundleSize:n.CodeSize}))}),Oj={ruleName:"Lambda: Light Bundle",errorMessage:"The following functions have bundles that weight more than 5 Mb",run:Dj,fileName:"lightBundle",categories:["GreenIT","Stability"],level:4,service:"Lambda",easyToFix:!1,severity:"critical"},Fj=3+1,Mj=async e=>({results:(await W$(e)).map(({arn:s,versions:n})=>({arn:s,success:n.length<=Fj,versionAmount:n.length}))}),Lj={ruleName:"Lambda: Limited Amount of Versions",errorMessage:"The following functions have an amount of deployed versions greater than 3",run:Mj,fileName:"limitedAmountOfVersions",categories:["GreenIT","Stability"],level:2,service:"Lambda",easyToFix:!0,severity:"medium"},Bj=["python3.6","python2.7","dotnetcore2.1","ruby2.5","nodejs10.x","nodejs8.10","nodejs4.3","nodejs6.10","dotnetcore1.0","dotnetcore2.0","nodejs4.3-edge","nodejs"],zj=e=>e.Runtime!==void 0&&Bj.includes(e.Runtime),qj=async e=>({results:(await on(e)).map(({arn:s,configuration:n})=>({arn:s,success:!zj(n),runtime:n.Runtime}))}),$j={ruleName:"Lambda: No Deprecated Runtime",errorMessage:"The following functions have deprecated runtime",run:qj,fileName:"noDeprecatedRuntime",categories:["Stability","Security"],level:4,service:"Lambda",easyToFix:!1,severity:"high"},Uj=900,jj=e=>e.Timeout!==void 0&&e.Timeout===Uj,Gj=async e=>({results:(await on(e)).map(({arn:s,configuration:n})=>({arn:s,success:!jj(n),timeout:n.Timeout}))}),Vj={ruleName:"Lambda: No Maximum Timeout",errorMessage:"The following functions have their timeout set as the maximum",run:Gj,fileName:"noMaxTimeout",categories:["GreenIT","ITCosts","Stability"],level:3,service:"Lambda",easyToFix:!0,severity:"high"},Hj=(e,t)=>{let r=e.CodeSha256??"";return r!==""?t[r]?.length===1:!0},Wj=async e=>{let t=await on(e),r=t.reduce((n,{configuration:i})=>{let a=i.CodeSha256,o=i.FunctionArn;return a===void 0||o===void 0||(Object.keys(n).includes(a)||(n[a]=[]),n[a].push(o)),n},{});return{results:t.map(({arn:n,configuration:i})=>{let a=i.CodeSha256??"",o=Hj(i,r),c=a!==""&&!o?r[a]:"";return{arn:n,success:o,identicalCodeFunctionsArn:c}})}},Kj={ruleName:"Lambda: No Mono Package",errorMessage:"The function code packaged with others",run:Wj,fileName:"noMonoPackage",categories:["Stability"],level:1,service:"Lambda",easyToFix:!0,severity:"low"},Qj=e=>e.length===0,Jj=async e=>({results:(await G$(e)).map(({arn:s,provisionedConcurrency:n})=>({arn:s,success:Qj(n)}))}),Xj={ruleName:"Lambda: No Provisioned Concurrency",errorMessage:"The following functions have provisioned concurrency",run:Jj,fileName:"noProvisionedConcurrency",level:3,categories:["GreenIT","ITCosts"],service:"Lambda",easyToFix:!1,severity:"medium"},Yj=e=>e!=="EMAIL_ADDRESS",Zj=async e=>{let t=await am(e);return await rU()?{results:t.map(({arn:s})=>({arn:s,success:!0}))}:{results:t.map(({arn:s,identity:n})=>({arn:s,success:n.IdentityType!==void 0?Yj(n.IdentityType):!0}))}},eG={ruleName:"SES: No Email Identities",errorMessage:"One or more SES identities have an email Identity Type, and you are not in the sandbox.",run:Zj,fileName:"noSESEmailIdentity",level:1,categories:["Stability"],service:"SES"},tG=(e,t)=>t.includes(e.Role),rG=async e=>{let t=await on(e),r=t.map(({configuration:i})=>i.Role),s=r.filter(i=>r.filter(a=>a===i).length>1);return{results:t.map(({configuration:i,arn:a})=>({arn:a,success:!tG(i,s),role:i.Role}))}},sG={ruleName:"Lambda: No Shared IAM Roles",errorMessage:"The following functions have roles used by 1 or more other functions",run:rG,fileName:"noSharedIamRoles",categories:["Security","Stability"],level:4,service:"Lambda",easyToFix:!1,severity:"critical"},nG=(e,t)=>t==="WEBSOCKET"&&e.RouteKey!=="$connect"?!0:e.AuthorizationType!==void 0&&e.AuthorizationType!=="NONE",iG=async e=>({results:(await w$(e)).flatMap(({arn:s,routes:n,protocol:i})=>n.map(a=>({arn:s,success:nG(a,i),route:a.RouteKey})))}),aG={ruleName:"Api Gateway V2: Use Authorized Routes",errorMessage:"Route is not authorized",run:iG,fileName:"noUnauthorizedApiGatewaysV2Routes",categories:["Security"],level:5,service:"ApiGateway",easyToFix:!1,severity:"high"},oG=e=>Object.values(e.resourceMethods).every(r=>r.authorizationType!==void 0&&r.authorizationType!=="NONE"),cG=async e=>({results:(await lU(e)).flatMap(({arn:s,resources:n})=>n.filter(i=>i.resourceMethods).map(i=>({arn:s,success:oG(i),resource:i.path})))}),dG={ruleName:"Rest Api Gateway: Use Authorized Routes",errorMessage:"Open access Rest Api",run:cG,fileName:"noUnauthorizedRestApiGatewaysRoutes",categories:["Security"],level:1,service:"ApiGateway",severity:"critical",easyToFix:!1},lG=e=>e===void 0?!1:e.Statement.some(({Effect:t,Condition:r})=>t==="Deny"&&r?.Bool?.["aws:SecureTransport"]==="false"),uG=async e=>({results:(await Z$(e)).map(({arn:s,policy:n})=>({arn:s,success:lG(n)}))}),mG={ruleName:"S3: Use HTTPS requests only",errorMessage:"HTTPS requests only is not enabled on this S3 bucket",run:uG,fileName:"s3OnlyAllowHTTPS",categories:["Security"],level:2,service:"S3",easyToFix:!0,severity:"high"},pG=e=>e===void 0?!0:e.RedrivePolicy!==void 0,hG=async e=>({results:(await oU(e)).map(({arn:s,attributes:n})=>({arn:s,success:pG(n)}))}),fG={ruleName:"SNS: Subscription has redrive policy",errorMessage:"SNS subscription without redrive policy",run:hG,fileName:"snsRedrivePolicy",categories:["Stability"],level:4,service:"SNS",easyToFix:!1,severity:"medium"},yG=async e=>{let t=te.filterArns(e,ou),r=(await Promise.all(t.map(i=>T$(i)))).flat();return{results:(await Promise.all(r.map(async i=>{let a=await D$(i);return{rule:i,targets:a}}))).map(({rule:i,targets:a})=>{let o=a.every(c=>c.DeadLetterConfig!==void 0);return{arn:j3.fromRuleName(i.Name??"unknown_rule_arn"),success:o,eventBus:i.EventBusName,targets:a.map(c=>c.Arn)}})}},vG={ruleName:"Specifying a DLQ on EventBridge events targets",errorMessage:"The event bridge event rule targets do not all have a specified Dead Letter Queue",run:yG,fileName:"specifyDlqOnEventBridgeRule",categories:["Stability"],level:5,service:"EventBridge",easyToFix:!1,severity:"medium"},gG=e=>e!==void 0,bG=async e=>{let t=await cU(e),r=t.map(({attributes:n})=>{let i=n.Attributes?.RedrivePolicy;if(i!==void 0){let a=JSON.parse(i).deadLetterTargetArn;return te.fromArnString(a)}}).filter(n=>n!==void 0);return{results:t.filter(({arn:n})=>r.find(i=>i.is(n))===void 0).map(({arn:n,attributes:i})=>({arn:n,success:gG(i.Attributes?.RedrivePolicy)}))}},wG={ruleName:"Specifying a DLQ on SQS",errorMessage:"The queue does not have a specified Dead Letter Queue.",run:bG,fileName:"specifyDlqOnSqs",categories:["Stability"],level:4,service:"SQS",easyToFix:!1,severity:"medium"},Ag=(e,t)=>e>=6*t,SG=3,EG="30",IG=async e=>{let t=await V$(e);return{results:(await Promise.all(t.map(async({arn:n,sqsTriggers:i})=>{let a=await Promise.all(i.map(async({arn:c})=>{let{attributes:d}=await gP(c);return{arn:c,visibilityTimeout:parseInt(d.Attributes?.VisibilityTimeout??EG)}})),{configuration:o}=await yP(n);return{arn:n,sqsTriggersArnAndTimeouts:a,lambdaTimeout:o.Timeout??SG}}))).map(({arn:n,sqsTriggersArnAndTimeouts:i,lambdaTimeout:a})=>({arn:n,success:i.every(({visibilityTimeout:o})=>Ag(o,a)),lambdaTimeout:a,sqsQueuesWithLowVisibilityTimeout:i.filter(({visibilityTimeout:o})=>!Ag(o,a)).map(({arn:o,visibilityTimeout:c})=>`Queue ${o.resource} has only ${c}s timeout`)}))}},CG={ruleName:"Lambda: Timeout compatible with SQS trigger visibility timeout",errorMessage:"The function is triggered by SQS queues whose visibility timeout is less that 6 times the function timeout",run:IG,fileName:"timeoutSmallEnoughForSqsVisibility",categories:["Stability"],level:3,easyToFix:!0,severity:"high",service:"Lambda"},PG=["GreenIT","Stability","Speed","ITCosts","Security"],AG={GreenIT:"Sustainability",Stability:"Stability",Speed:"Speed",ITCosts:"Savings",Security:"Security"},_G=e=>{if(!Object.prototype.hasOwnProperty.call(e,"ignoredResources"))return!0;let t=e.ignoredResources;return Array.isArray(t)?t.reduce((s,n)=>typeof n!="string"?!1:s,!0):!1},Sl=5,RG=[1,2,3,4,Sl],IP=3008,kG=e=>e.MemorySize===void 0||e.MemorySize<IP,xG=async e=>({results:(await on(e)).map(({arn:s,configuration:n})=>({arn:s,success:kG(n),memorySize:n.MemorySize}))}),TG=e=>{if(!_G(e))return!1;let r=e.maxMemory;return r===void 0||typeof r=="number"},NG={ruleName:"Lambda: Under Maximum Memory",errorMessage:`The function's memory is set to the historical maximum limit of ${IP} MB or higher`,run:xG,fileName:"underMaxMemory",categories:["GreenIT","ITCosts"],level:2,service:"Lambda",configurationTypeguard:TG,easyToFix:!0,severity:"medium"},DG="arm64",OG=e=>e.Architectures?e.Architectures[0]===DG:!1,FG=async e=>({results:(await on(e)).map(({arn:s,configuration:n})=>({arn:s,success:OG(n)}))}),MG={ruleName:"Lambda: Use an ARM Architecture",errorMessage:"The function's architecture is not set as ARM",run:FG,fileName:"useArm",categories:["GreenIT","ITCosts","Speed"],level:1,service:"Lambda",easyToFix:!0,severity:"critical"},LG=e=>e?.some(t=>t.Status==="Enabled"&&t.Transitions?.some(r=>r.StorageClass==="INTELLIGENT_TIERING"&&r.Days===0))??!1,BG=async e=>({results:(await X$(e)).map(({arn:s,rules:n})=>({arn:s,success:LG(n)}))}),zG={ruleName:"S3: Use Intelligent Tiering",errorMessage:"Intelligent Tiering is not enabled on this S3 bucket",run:BG,fileName:"useIntelligentTiering",categories:["GreenIT","ITCosts"],level:2,service:"S3",easyToFix:!0,severity:"high"},CP=Object.values(EP),qG=async({resourcesToCheck:e,level:t,rulesConfigurations:r,hooks:s={}})=>{let n=CP.filter(a=>a.level<=t);s.beforeAllRules&&s.beforeAllRules(n);let i=await Promise.all(n.map(async a=>{let o=r?.[a.fileName]?.ignoredResources,c=o?te.filterIgnoredArns(e,o):e;s.beforeEachRule&&s.beforeEachRule(a);let d=(await a.run(c,r?.[a.fileName])).results;return s.afterEachRule&&s.afterEachRule(a),{rule:a,result:d}}));return s.afterAllRules&&s.afterAllRules(n),i},$G=async({configuration:e,level:t,cloudformationStacks:r,tags:s,profile:n,region:i,debug:a=!1,hooks:o={}})=>{try{o.beforeSetupCredentials&&o.beforeSetupCredentials();let{region:m,accountId:p}=await MU();process.env.AWS_REGION=i??m,process.env.AWS_ACCOUNT_ID=p,o.afterSetupCredentials&&o.afterSetupCredentials()}catch(m){return a&&console.info(m),n===void 0?{error:!0,message:"Unable to retrieve AccountId and Region, check that your AWS credentials are correctly set and has the needed rights or specify another profile using -p option"}:{error:!0,message:`Unable to retrieve AccountId and Region from profile "${n}" is correctly set and has the needed rights or specify another profile using -p option`}}let c=[];try{o.beforeFetchAllResources&&o.beforeFetchAllResources({tags:s,cloudformationStacks:r}),c.push(...await FU({cloudformationStacks:r,tags:s})),o.afterFetchAllResources&&o.afterFetchAllResources(c)}catch(m){return a&&console.info(m),n===void 0?{error:!0,message:"Unable to fetch AWS resources, check that your AWS credentials are correctly set and has the needed rights or specify another profile using -p option"}:{error:!0,message:`Unable to fetch AWS resources, check that profile "${n}" is correctly set and has the needed rights or specify another profile using -p option`}}let d=[];try{d.push(...await qG({resourcesToCheck:c,level:t,rulesConfigurations:e.rules,hooks:{beforeAllRules:o.beforeAllRules,beforeEachRule:o.beforeEachRule,afterEachRule:o.afterEachRule,afterAllRules:o.afterAllRules}}))}catch(m){return a&&console.info(m),n===void 0?{error:!0,message:"One of the checks failed to run, check that your AWS credentials are correctly set and has the needed rights or specify another profile using -p option"}:{error:!0,message:`One of the checks failed to run, check that profile "${n}" is correctly set and has the needed rights or specify another profile using -p option`}}return{success:!d.some(({result:m})=>m.filter(p=>!p.success).length>0),error:!1,checksResults:d}},PP=e=>{let t=e.result.filter(({success:s})=>s).map(({arn:s})=>({arn:s.toString(),ruleName:e.rule.fileName})),r=e.result.map(({arn:s})=>({arn:s.toString(),ruleName:e.rule.fileName}));return{passingResources:t,totalResources:r,passingResourcesAmount:t.length,totalResourcesAmount:r.length}},AP=e=>Object.fromEntries(e.map(t=>{let{totalResources:r,totalResourcesAmount:s,passingResources:n,passingResourcesAmount:i}=PP(t),{rule:{fileName:a}}=t;return[a,{totalResources:r,totalResourcesAmount:s,passingResources:n,passingResourcesAmount:i}]})),_P=e=>e.reduce((t,r)=>{let{passingResources:s,passingResourcesAmount:n,totalResources:i,totalResourcesAmount:a}=PP(r),{rule:{categories:o}}=r;return{...t,...Object.fromEntries(o.map(c=>[c,{passingResources:[...t[c]?.passingResources??[],...s],totalResources:[...t[c]?.totalResources??[],...i],passingResourcesAmount:(t[c]?.passingResourcesAmount??0)+n,totalResourcesAmount:(t[c]?.totalResourcesAmount??0)+a}]))}},{}),UG=e=>e.reduce((t,r)=>{let{rule:{fileName:s},result:n}=r;return{...t,...Object.fromEntries(n.map(({arn:i,success:a})=>{let o=i.toString();return[o,{passingRules:[...t[o]?.passingRules??[],...a?[s]:[]],totalRules:[...t[o]?.totalRules??[],s],passingRulesAmount:(t[o]?.passingRulesAmount??0)+(a?1:0),totalRulesAmount:(t[o]?.totalRulesAmount??0)+1}]}))}},{}),om=e=>e===void 0||e.totalResourcesAmount===0?100:Math.floor(e.passingResourcesAmount/e.totalResourcesAmount*100),jG=e=>{let t=Object.values(e).reduce((r,s)=>({passingResourcesAmount:r.passingResourcesAmount+s.passingResourcesAmount,totalResourcesAmount:r.totalResourcesAmount+s.totalResourcesAmount}),{passingResourcesAmount:0,totalResourcesAmount:0});return om(t)},Wt=ke(es()),GG=ke(vp()),El=e=>RG.includes(e),Jr="#DAC2FE",Zn=["Level 1 \u2705","Level 2 \u{1F4AA}","Level 3 \u{1F9E0}","Level 4 \u{1F336}\uFE0F","Level 5 \u{1F3C6}","(skip)"],Qr=[[77,89,55],[64,89,55],[51,89,55],[38,89,55],[25,89,55]],VG={1:Wt.default.hsl(...Qr[0])("\u{1F44D}  You're right, we'll start easy"),2:Wt.default.hsl(...Qr[1])("\u{1F9B8}\u200D\u2640\uFE0F  You got this!"),3:Wt.default.hsl(...Qr[2])("\u{1F44A}  Let's get these resources REALLY clean.."),4:Wt.default.hsl(...Qr[3])("\u{1F336}\uFE0F  Things are getting spicy, keep up the good work!"),5:Wt.default.hsl(...Qr[4]).bold("\u{1F3C6}  Level 5! You are a true mentor!")},HG=e=>e===Zn[0]?Wt.default.hsl(...Qr[0])(e):e===Zn[1]?Wt.default.hsl(...Qr[1])(e):e===Zn[2]?Wt.default.hsl(...Qr[2])(e):e===Zn[3]?Wt.default.hsl(...Qr[3])(e):e===Zn[4]?Wt.default.hsl(...Qr[4])(e):Wt.default.hex(Jr)(e),WG=async()=>{console.clear(),console.log(Wt.default.hex(Jr)(`Welcome to sls-mentor \u{1F6E1}\uFE0F.
`)),console.log(Wt.default.hex(Jr)(`Let's start by selecting the level of difficulty you want me to check your code against.

`));let e;try{e=await(0,GG.default)({values:Zn,defaultValue:0,selected:"\u{1F449}",unselected:" ",valueRenderer:(s,n)=>n?Wt.default.underline(HG(s)):Wt.default.hex(Jr)(s)})}catch{process.exit(0)}let t=Number(e.id)+1,r=t===6?void 0:t;return El(r)&&console.log(VG[r]+`


`),r},KG=async e=>{if(e.level!==void 0){let r=Number(e.level);return El(r)?r:Sl}let t=await WG();return El(t)?t:Sl},QG=ke(require("fs")),JG=()=>{try{let e=QG.readFileSync("sls-mentor.json","utf-8");return JSON.parse(e)}catch{return{}}},He=ke(es()),cm=50,dm=75,XG=ke(es()),Il=e=>{console.error(`
${XG.default.redBright(e)}
`)},Ji=e=>e>dm?He.default.bgGreen:e>cm?He.default.bgYellow:He.default.bgRed,Xi=()=>He.default.bgRgb(40,40,40),Hs=e=>new Array(e+1).join(" "),ea=(e,t)=>{let r=t-e.toString().length,s=Hs(Math.floor(r/2)+r%2),n=Hs(Math.floor(r/2));return`${s}${e}${n}`},YG=(e,t)=>{let r=Math.floor(e*t/100),s=3,n="";for(let i=0;i<s;i++){if(i===Math.floor(s/2)){let a=" Overall score",o=`${e}% `;n=n.concat(He.default.bold(Ji(e)(a.slice(0,r)))),n=n.concat(He.default.bold(Xi()(a.slice(r,a.length)))),n=n.concat(He.default.bold(Ji(e)(Hs(Math.min(Math.max(r-a.length,0),t-o.length-a.length))))),n=n.concat(Xi()(Hs(Math.max(t-o.length-Math.max(a.length,r),0)))),n=n.concat(He.default.bold(Ji(e)(o.slice(0,Math.max(r-(t-o.length),0))))),n=n.concat(He.default.bold(Xi()(o.slice(Math.max(r-(t-o.length),0),o.length))))}else n=n.concat(Ji(e)(Hs(r))),n=n.concat(Xi()(Hs(t-r)));n=n.concat(`
`)}console.log(n+`
`)},ZG=(e,t,r)=>{let s="";for(let n=100;n>0;n-=10){for(let[i,{score:a,label:o}]of e.entries()){let c=n===100?ea(o,t):n===10?ea(`${a}%`,t):Hs(t);a>=n?s=s.concat(Ji(a)(He.default.bold(c))):s=s.concat(Xi()(He.default.bold(c))),i!==e.length-1&&(s=s.concat(Hs(r)))}s=s.concat(`
`)}console.log(s)},eV=()=>{console.log("Color scale: "+He.default.red("\u25FC")+" 0-50  "+He.default.yellow("\u25FC")+" 50-75  "+He.default.green("\u25FC")+" 75-100")},_g=e=>{e.forEach(({score:t,label:r})=>console.log(`${r}: ${t}%`))},tV=(e,t)=>{console.log(`

`);let r=Object.entries(e).map(([d,l])=>({label:AG[d],score:l})),s=process.stdout.columns;if(s===void 0){Il("Unfortunately your CLI doesn't allow the dashboard to be displayed, displaying raw data"),_g(r);return}let n=r.length,i=n-1,a=Math.max(Math.floor(s/(n+2)),Math.max(...r.map(({label:d})=>d.length)),4),o=Math.max(Math.floor((s-a*n)/i),1),c=n*a+i*o;if(c>s)return console.log(He.default.red(He.default.bold("\u26A0\uFE0F Terminal is too small to display results dashboard"))),_g(r);console.log(He.default.bold(ea("\u{1F6E1}  sls-mentor \u{1F6E1}",c))),console.log(He.default.bold(ea("--- Your checks results ---",c))),console.log(He.default.gray(ea("(More details above)",c))+`
`),YG(t,c),ZG(r,a,o),eV()},rV=ke(es()),sV=e=>e>dm?"\u{1F7E9}":e>cm?"\u{1F7E8}":"\u{1F7E5}",nV=e=>{let t=Object.values(e).map(sV).join("");console.log(rV.default.bold(`
Share your results on twitter: ${t} #sls-mentor`))},$d=ke(es()),iV=(e,t,r)=>{let s=CP.find(a=>a.fileName===e)?.ruleName??"Unknown";if(r===0)return console.log(`${s} - no resources checked
`);let n=om({passingResourcesAmount:t,totalResourcesAmount:r}),i=`${s} - ${n}% of resources passed (${t}/${r})
`;return n<=cm?console.log($d.default.red(i)):n<=dm?console.log($d.default.yellow(i)):console.log($d.default.green(i))},aV=e=>{console.log(`--- Checks summary ---
`),Object.entries(e).forEach(([t,{totalResourcesAmount:r,passingResourcesAmount:s}])=>{iV(t,s,r)})},eo=ke(es()),oV=(e,t)=>`${e}.
See (https://www.sls-mentor.dev/docs/rules/${t}) for impact and how to resolve.`,cV=e=>{console.log(`--- Failed checks details ---
`);let t=UG(e);Object.entries(t).forEach(([r,s])=>{let n=s?.passingRules??[],a=(s?.totalRules??[]).filter(c=>!n.includes(c));if(a.length===0)return;let o=`Resource ${eo.default.bold(r)} --> ${a.length} rules failed`;console.log(eo.default.redBright(o)),a.forEach(c=>{let d=e.filter(y=>y.rule.fileName===c)[0];if(!d)return;let l=`   - ${eo.default.bold(d.rule.ruleName)} (${eo.default.grey(oV(d.rule.errorMessage,c))})`,m=d.result.filter(y=>y.arn.toString()===r)[0];if(!m)return;let p=Object.fromEntries(Object.entries(m).filter(([y])=>y!=="arn"&&y!=="success")),h=Object.keys(m).reduce((y,v)=>`${y}      - ${v} : ${p[v]}
`,"");console.log(`${l}
${h}`)})})},Rg=ke(es()),to=require("fs"),dV=require("path"),lV=process.env.STAGE==="dev"?"../../../report/dist/index.html":"./template/index.html",uV="<<SLS-RESULTS-PLACEHOLDER>>",Cl="./.sls-mentor",kg=`${Cl}/index.html`,mV=e=>{let t={passingResourcesByRule:AP(e),passingResourcesByCategory:_P(e)},r=JSON.stringify(t).replace(/"/g,'\\"'),n=(0,to.readFileSync)((0,dV.join)(__dirname,lV)).toString().replace(uV,r);(0,to.existsSync)(Cl)||(0,to.mkdirSync)(Cl),(0,to.writeFileSync)(kg,n),console.log(Rg.default.hex(Jr)(`

 \u2B07\uFE0F  [NEW!] Report generated to \u2B07\uFE0F
`)),console.log(Rg.default.hex(Jr)(kg))},lo=ke(es()),Ud=Ip(),jd="\u2807\u280B\u2819\u2838\u2834\u2826",xg=(e,t)=>lo.default.hex(Jr)(`%s Processing rules (${e}/${t})...`),pV=()=>{let e=new Ud.Spinner({text:lo.default.hex(Jr)("%s Connecting to AWS..."),onTick:function(i){this.clearLine(this.stream),this.stream.write(i)}});e.setSpinnerString(jd);let t=new Ud.Spinner({text:lo.default.hex(Jr)("%s Fetching resources..."),onTick:function(i){this.clearLine(this.stream),this.stream.write(i)}});t.setSpinnerString(jd);let r=new Ud.Spinner({text:lo.default.hex(Jr)("%s Processing rules..."),onTick:function(i){this.clearLine(this.stream),this.stream.write(i)}});r.setSpinnerString(jd);let s=0,n=0;return{beforeSetupCredentials:()=>{e.start()},afterSetupCredentials:()=>{e.stop(!0)},beforeFetchAllResources:()=>{t.start()},afterFetchAllResources:()=>{t.stop(!0)},beforeAllRules:i=>{r.start(),n=i.length,r.setSpinnerTitle(xg(s,n))},afterAllRules:()=>{r.stop(!0)},afterEachRule:()=>{s+=1,r.setSpinnerTitle(xg(s,n))}}},hV=async e=>{let t=JG(),r=await KG(e),s=pV(),n=await $G({configuration:t,level:r,cloudformationStacks:e.cloudformationStacks??e.cloudformations,tags:e.tags,profile:e.awsProfile,region:e.awsRegion,debug:e.debug,hooks:s});n.error&&(Il(n.message),Il("If you need more details, try to run with --debug"),process.exit(1));let{success:i,checksResults:a}=n,o=AP(a),c=_P(a),d=Object.fromEntries(PG.map(m=>[m,om(c[m])])),l=jG(o);!e.short&&!i&&cV(a),aV(o),tV(d,l),nV(d),e.report&&mV(a),i&&process.exit(0),process.exit(1)},fV=e=>e!==void 0,yV=(e,t)=>{let s=[...e.matchAll(/^Key=(?<key>[\p{L}\p{Z}\p{N}_.:/=+\-@]*),Value=(?<value>[\p{L}\p{Z}\p{N}_.:/=+\-@]*)$/gu)][0]?.groups;if(!fV(s))throw new jg.InvalidArgumentError("Invalid flag parameters");return t?[...t,s]:[s]},vV=e=>{let t=e.opts().awsProfile;t!==void 0&&(process.env.AWS_PROFILE=t)},gV=e=>{let t=e.opts().awsRegion;t!==void 0&&(process.env.AWS_REGION=t)};jg.program.name("sls-mentor").version(process.env.npm_package_version??"0.0.0").option("-s, --short","Short output: only display checks results overview",!1).option("-p, --aws-profile <profile>","AWS profile to use").option("-r, --aws-region <region>","Specify region").option("-t, --tags <key_value...>","Filter checked account resources by tags",yV).option("-l, --level <number>","Level on which to run checks").option("--cloudformations [cloudformation-stacks...]","Filter checked account resources by CloudFormation stack names").option("-c, --cloudformation-stacks [cloudformation-stacks...]","Filter checked account resources by CloudFormation stack names").option("--noFail","Exit with success status, even if some checks failed",!1).option("-R, --report","generate an html report",!1).option("-d, --debug","enable debug mode",!1).action(hV).hook("preAction",vV).hook("preAction",gV).parse();});var lm=BP(require("node:process")),ki=e=>`INPUT_${e.toUpperCase()}`,{[ki("aws-region")]:bV,[ki("tags")]:xP,[ki("level")]:wV,[ki("cloudformation-stacks")]:TP,[ki("no-fail")]:SV,[ki("report")]:EV}=lm.default.env,xi=(...e)=>lm.default.argv.push(...e);xi("--aws-region",bV);xi("--level",wV);xP&&xi("--tags",xP);TP&&xi("--cloudformation-stacks",TP);SV==="true"&&xi("--noFail");EV==="true"&&xi("--report");kP();
/*! Bundled license information:

sls-mentor/dist/index.js:
  (*! Bundled license information:
  
  tslib/tslib.es6.js:
    (*! *****************************************************************************
    Copyright (c) Microsoft Corporation.
    
    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.
    
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** *)
  *)
*/
